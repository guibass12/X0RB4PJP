if (window.performance && window.performance.mark) { window.performance.mark('startLoadBundleInner-view'); }
// knockout //
// Knockout JavaScript library v2.2.1
// (c) Steven Sanderson - http://knockoutjs.com/
// License: MIT (http://www.opensource.org/licenses/mit-license.php)

(function() {function j(w){throw w;}var m=!0,p=null,r=!1;function u(w){return function(){return w}};var x=window,y=document,ga=navigator,F=window.jQuery,I=void 0;
function L(w){function ha(a,d,c,e,f){var g=[];a=b.j(function(){var a=d(c,f)||[];0<g.length&&(b.a.Ya(M(g),a),e&&b.r.K(e,p,[c,a,f]));g.splice(0,g.length);b.a.P(g,a)},p,{W:a,Ka:function(){return 0==g.length||!b.a.X(g[0])}});return{M:g,j:a.pa()?a:I}}function M(a){for(;a.length&&!b.a.X(a[0]);)a.splice(0,1);if(1<a.length){for(var d=a[0],c=a[a.length-1],e=[d];d!==c;){d=d.nextSibling;if(!d)return;e.push(d)}Array.prototype.splice.apply(a,[0,a.length].concat(e))}return a}function S(a,b,c,e,f){var g=Math.min,
h=Math.max,k=[],l,n=a.length,q,s=b.length,v=s-n||1,G=n+s+1,J,A,z;for(l=0;l<=n;l++){A=J;k.push(J=[]);z=g(s,l+v);for(q=h(0,l-1);q<=z;q++)J[q]=q?l?a[l-1]===b[q-1]?A[q-1]:g(A[q]||G,J[q-1]||G)+1:q+1:l+1}g=[];h=[];v=[];l=n;for(q=s;l||q;)s=k[l][q]-1,q&&s===k[l][q-1]?h.push(g[g.length]={status:c,value:b[--q],index:q}):l&&s===k[l-1][q]?v.push(g[g.length]={status:e,value:a[--l],index:l}):(g.push({status:"retained",value:b[--q]}),--l);if(h.length&&v.length){a=10*n;var t;for(b=c=0;(f||b<a)&&(t=h[c]);c++){for(e=
0;k=v[e];e++)if(t.value===k.value){t.moved=k.index;k.moved=t.index;v.splice(e,1);b=e=0;break}b+=e}}return g.reverse()}function T(a,d,c,e,f){f=f||{};var g=a&&N(a),g=g&&g.ownerDocument,h=f.templateEngine||O;b.za.vb(c,h,g);c=h.renderTemplate(c,e,f,g);("number"!=typeof c.length||0<c.length&&"number"!=typeof c[0].nodeType)&&j(Error("Template engine must return an array of DOM nodes"));g=r;switch(d){case "replaceChildren":b.e.N(a,c);g=m;break;case "replaceNode":b.a.Ya(a,c);g=m;break;case "ignoreTargetNode":break;
default:j(Error("Unknown renderMode: "+d))}g&&(U(c,e),f.afterRender&&b.r.K(f.afterRender,p,[c,e.$data]));return c}function N(a){return a.nodeType?a:0<a.length?a[0]:p}function U(a,d){if(a.length){var c=a[0],e=a[a.length-1];V(c,e,function(a){b.Da(d,a)});V(c,e,function(a){b.s.ib(a,[d])})}}function V(a,d,c){var e;for(d=b.e.nextSibling(d);a&&(e=a)!==d;)a=b.e.nextSibling(e),(1===e.nodeType||8===e.nodeType)&&c(e)}function W(a,d,c){a=b.g.aa(a);for(var e=b.g.Q,f=0;f<a.length;f++){var g=a[f].key;if(e.hasOwnProperty(g)){var h=
e[g];"function"===typeof h?(g=h(a[f].value))&&j(Error(g)):h||j(Error("This template engine does not support the '"+g+"' binding within its templates"))}}a="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+b.g.ba(a)+" } })()})";return c.createJavaScriptEvaluatorBlock(a)+d}function X(a,d,c,e){function f(a){return function(){return k[a]}}function g(){return k}var h=0,k,l;b.j(function(){var n=c&&c instanceof b.z?c:new b.z(b.a.d(c)),q=n.$data;e&&b.eb(a,n);if(k=("function"==typeof d?
d(n,a):d)||b.J.instance.getBindings(a,n)){if(0===h){h=1;for(var s in k){var v=b.c[s];v&&8===a.nodeType&&!b.e.I[s]&&j(Error("The binding '"+s+"' cannot be used with virtual elements"));if(v&&"function"==typeof v.init&&(v=(0,v.init)(a,f(s),g,q,n))&&v.controlsDescendantBindings)l!==I&&j(Error("Multiple bindings ("+l+" and "+s+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),l=s}h=2}if(2===h)for(s in k)(v=b.c[s])&&"function"==
typeof v.update&&(0,v.update)(a,f(s),g,q,n)}},p,{W:a});return{Nb:l===I}}function Y(a,d,c){var e=m,f=1===d.nodeType;f&&b.e.Ta(d);if(f&&c||b.J.instance.nodeHasBindings(d))e=X(d,p,a,c).Nb;e&&Z(a,d,!f)}function Z(a,d,c){for(var e=b.e.firstChild(d);d=e;)e=b.e.nextSibling(d),Y(a,d,c)}function $(a,b){var c=aa(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:p}function aa(a,b){for(var c=a,e=1,f=[];c=c.nextSibling;){if(H(c)&&(e--,0===e))return f;f.push(c);B(c)&&e++}b||j(Error("Cannot find closing comment tag to match: "+
a.nodeValue));return p}function H(a){return 8==a.nodeType&&(K?a.text:a.nodeValue).match(ia)}function B(a){return 8==a.nodeType&&(K?a.text:a.nodeValue).match(ja)}function P(a,b){for(var c=p;a!=c;)c=a,a=a.replace(ka,function(a,c){return b[c]});return a}function la(){var a=[],d=[];this.save=function(c,e){var f=b.a.i(a,c);0<=f?d[f]=e:(a.push(c),d.push(e))};this.get=function(c){c=b.a.i(a,c);return 0<=c?d[c]:I}}function ba(a,b,c){function e(e){var g=b(a[e]);switch(typeof g){case "boolean":case "number":case "string":case "function":f[e]=
g;break;case "object":case "undefined":var h=c.get(g);f[e]=h!==I?h:ba(g,b,c)}}c=c||new la;a=b(a);if(!("object"==typeof a&&a!==p&&a!==I&&!(a instanceof Date)))return a;var f=a instanceof Array?[]:{};c.save(a,f);var g=a;if(g instanceof Array){for(var h=0;h<g.length;h++)e(h);"function"==typeof g.toJSON&&e("toJSON")}else for(h in g)e(h);return f}function ca(a,d){if(a)if(8==a.nodeType){var c=b.s.Ua(a.nodeValue);c!=p&&d.push({sb:a,Fb:c})}else if(1==a.nodeType)for(var c=0,e=a.childNodes,f=e.length;c<f;c++)ca(e[c],
d)}function Q(a,d,c,e){b.c[a]={init:function(a){b.a.f.set(a,da,{});return{controlsDescendantBindings:m}},update:function(a,g,h,k,l){h=b.a.f.get(a,da);g=b.a.d(g());k=!c!==!g;var n=!h.Za;if(n||d||k!==h.qb)n&&(h.Za=b.a.Ia(b.e.childNodes(a),m)),k?(n||b.e.N(a,b.a.Ia(h.Za)),b.Ea(e?e(l,g):l,a)):b.e.Y(a),h.qb=k}};b.g.Q[a]=r;b.e.I[a]=m}function ea(a,d,c){c&&d!==b.k.q(a)&&b.k.T(a,d);d!==b.k.q(a)&&b.r.K(b.a.Ba,p,[a,"change"])}var b="undefined"!==typeof w?w:{};b.b=function(a,d){for(var c=a.split("."),e=b,f=0;f<
c.length-1;f++)e=e[c[f]];e[c[c.length-1]]=d};b.p=function(a,b,c){a[b]=c};b.version="2.2.1";b.b("version",b.version);b.a=new function(){function a(a,d){if("input"!==b.a.u(a)||!a.type||"click"!=d.toLowerCase())return r;var c=a.type;return"checkbox"==c||"radio"==c}var d=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,c={},e={};c[/Firefox\/2/i.test(ga.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];c.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");
for(var f in c){var g=c[f];if(g.length)for(var h=0,k=g.length;h<k;h++)e[g[h]]=f}var l={propertychange:m},n,c=3;f=y.createElement("div");for(g=f.getElementsByTagName("i");f.innerHTML="\x3c!--[if gt IE "+ ++c+"]><i></i><![endif]--\x3e",g[0];);n=4<c?c:I;return{Na:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(a,b){for(var d=0,c=a.length;d<c;d++)b(a[d])},i:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var d=0,c=a.length;d<
c;d++)if(a[d]===b)return d;return-1},lb:function(a,b,d){for(var c=0,e=a.length;c<e;c++)if(b.call(d,a[c]))return a[c];return p},ga:function(a,d){var c=b.a.i(a,d);0<=c&&a.splice(c,1)},Ga:function(a){a=a||[];for(var d=[],c=0,e=a.length;c<e;c++)0>b.a.i(d,a[c])&&d.push(a[c]);return d},V:function(a,b){a=a||[];for(var d=[],c=0,e=a.length;c<e;c++)d.push(b(a[c]));return d},fa:function(a,b){a=a||[];for(var d=[],c=0,e=a.length;c<e;c++)b(a[c])&&d.push(a[c]);return d},P:function(a,b){if(b instanceof Array)a.push.apply(a,
b);else for(var d=0,c=b.length;d<c;d++)a.push(b[d]);return a},extend:function(a,b){if(b)for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a},ka:function(a){for(;a.firstChild;)b.removeNode(a.firstChild)},Hb:function(a){a=b.a.L(a);for(var d=y.createElement("div"),c=0,e=a.length;c<e;c++)d.appendChild(b.A(a[c]));return d},Ia:function(a,d){for(var c=0,e=a.length,g=[];c<e;c++){var f=a[c].cloneNode(m);g.push(d?b.A(f):f)}return g},N:function(a,d){b.a.ka(a);if(d)for(var c=0,e=d.length;c<e;c++)a.appendChild(d[c])},
Ya:function(a,d){var c=a.nodeType?[a]:a;if(0<c.length){for(var e=c[0],g=e.parentNode,f=0,h=d.length;f<h;f++)g.insertBefore(d[f],e);f=0;for(h=c.length;f<h;f++)b.removeNode(c[f])}},bb:function(a,b){7>n?a.setAttribute("selected",b):a.selected=b},D:function(a){return(a||"").replace(d,"")},Rb:function(a,d){for(var c=[],e=(a||"").split(d),f=0,g=e.length;f<g;f++){var h=b.a.D(e[f]);""!==h&&c.push(h)}return c},Ob:function(a,b){a=a||"";return b.length>a.length?r:a.substring(0,b.length)===b},tb:function(a,b){if(b.compareDocumentPosition)return 16==
(b.compareDocumentPosition(a)&16);for(;a!=p;){if(a==b)return m;a=a.parentNode}return r},X:function(a){return b.a.tb(a,a.ownerDocument)},u:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(b,d,c){var e=n&&l[d];if(!e&&"undefined"!=typeof F){if(a(b,d)){var f=c;c=function(a,b){var d=this.checked;b&&(this.checked=b.nb!==m);f.call(this,a);this.checked=d}}F(b).bind(d,c)}else!e&&"function"==typeof b.addEventListener?b.addEventListener(d,c,r):"undefined"!=typeof b.attachEvent?b.attachEvent("on"+
d,function(a){c.call(b,a)}):j(Error("Browser doesn't support addEventListener or attachEvent"))},Ba:function(b,d){(!b||!b.nodeType)&&j(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=typeof F){var c=[];a(b,d)&&c.push({nb:b.checked});F(b).trigger(d,c)}else"function"==typeof y.createEvent?"function"==typeof b.dispatchEvent?(c=y.createEvent(e[d]||"HTMLEvents"),c.initEvent(d,m,m,x,0,0,0,0,0,r,r,r,r,0,b),b.dispatchEvent(c)):j(Error("The supplied element doesn't support dispatchEvent")):
"undefined"!=typeof b.fireEvent?(a(b,d)&&(b.checked=b.checked!==m),b.fireEvent("on"+d)):j(Error("Browser doesn't support triggering events"))},d:function(a){return b.$(a)?a():a},ua:function(a){return b.$(a)?a.t():a},da:function(a,d,c){if(d){var e=/[\w-]+/g,f=a.className.match(e)||[];b.a.o(d.match(e),function(a){var d=b.a.i(f,a);0<=d?c||f.splice(d,1):c&&f.push(a)});a.className=f.join(" ")}},cb:function(a,d){var c=b.a.d(d);if(c===p||c===I)c="";if(3===a.nodeType)a.data=c;else{var e=b.e.firstChild(a);
!e||3!=e.nodeType||b.e.nextSibling(e)?b.e.N(a,[y.createTextNode(c)]):e.data=c;b.a.wb(a)}},ab:function(a,b){a.name=b;if(7>=n)try{a.mergeAttributes(y.createElement("<input name='"+a.name+"'/>"),r)}catch(d){}},wb:function(a){9<=n&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},ub:function(a){if(9<=n){var b=a.style.width;a.style.width=0;a.style.width=b}},Lb:function(a,d){a=b.a.d(a);d=b.a.d(d);for(var c=[],e=a;e<=d;e++)c.push(e);return c},L:function(a){for(var b=[],d=0,c=a.length;d<
c;d++)b.push(a[d]);return b},Pb:6===n,Qb:7===n,Z:n,Oa:function(a,d){for(var c=b.a.L(a.getElementsByTagName("input")).concat(b.a.L(a.getElementsByTagName("textarea"))),e="string"==typeof d?function(a){return a.name===d}:function(a){return d.test(a.name)},f=[],g=c.length-1;0<=g;g--)e(c[g])&&f.push(c[g]);return f},Ib:function(a){return"string"==typeof a&&(a=b.a.D(a))?x.JSON&&x.JSON.parse?x.JSON.parse(a):(new Function("return "+a))():p},xa:function(a,d,c){("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&
j(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"));return JSON.stringify(b.a.d(a),d,c)},Jb:function(a,d,c){c=c||{};var e=c.params||{},f=c.includeFields||this.Na,g=a;if("object"==typeof a&&"form"===b.a.u(a))for(var g=a.action,h=f.length-1;0<=h;h--)for(var k=b.a.Oa(a,f[h]),l=k.length-1;0<=l;l--)e[k[l].name]=k[l].value;d=b.a.d(d);var n=y.createElement("form");
n.style.display="none";n.action=g;n.method="post";for(var w in d)a=y.createElement("input"),a.name=w,a.value=b.a.xa(b.a.d(d[w])),n.appendChild(a);for(w in e)a=y.createElement("input"),a.name=w,a.value=e[w],n.appendChild(a);y.body.appendChild(n);c.submitter?c.submitter(n):n.submit();setTimeout(function(){n.parentNode.removeChild(n)},0)}}};b.b("utils",b.a);b.b("utils.arrayForEach",b.a.o);b.b("utils.arrayFirst",b.a.lb);b.b("utils.arrayFilter",b.a.fa);b.b("utils.arrayGetDistinctValues",b.a.Ga);b.b("utils.arrayIndexOf",
b.a.i);b.b("utils.arrayMap",b.a.V);b.b("utils.arrayPushAll",b.a.P);b.b("utils.arrayRemoveItem",b.a.ga);b.b("utils.extend",b.a.extend);b.b("utils.fieldsIncludedWithJsonPost",b.a.Na);b.b("utils.getFormFields",b.a.Oa);b.b("utils.peekObservable",b.a.ua);b.b("utils.postJson",b.a.Jb);b.b("utils.parseJson",b.a.Ib);b.b("utils.registerEventHandler",b.a.n);b.b("utils.stringifyJson",b.a.xa);b.b("utils.range",b.a.Lb);b.b("utils.toggleDomNodeCssClass",b.a.da);b.b("utils.triggerEvent",b.a.Ba);b.b("utils.unwrapObservable",
b.a.d);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments);a=c.shift();return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}});b.a.f=new function(){var a=0,d="__ko__"+(new Date).getTime(),c={};return{get:function(a,d){var c=b.a.f.la(a,r);return c===I?I:c[d]},set:function(a,d,c){c===I&&b.a.f.la(a,r)===I||(b.a.f.la(a,m)[d]=c)},la:function(b,f){var g=b[d];if(!g||!("null"!==g&&c[g])){if(!f)return I;g=b[d]="ko"+
a++;c[g]={}}return c[g]},clear:function(a){var b=a[d];return b?(delete c[b],a[d]=p,m):r}}};b.b("utils.domData",b.a.f);b.b("utils.domData.clear",b.a.f.clear);b.a.F=new function(){function a(a,d){var e=b.a.f.get(a,c);e===I&&d&&(e=[],b.a.f.set(a,c,e));return e}function d(c){var e=a(c,r);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](c);b.a.f.clear(c);"function"==typeof F&&"function"==typeof F.cleanData&&F.cleanData([c]);if(f[c.nodeType])for(e=c.firstChild;c=e;)e=c.nextSibling,8===c.nodeType&&d(c)}
var c="__ko_domNodeDisposal__"+(new Date).getTime(),e={1:m,8:m,9:m},f={1:m,9:m};return{Ca:function(b,d){"function"!=typeof d&&j(Error("Callback must be a function"));a(b,m).push(d)},Xa:function(d,e){var f=a(d,r);f&&(b.a.ga(f,e),0==f.length&&b.a.f.set(d,c,I))},A:function(a){if(e[a.nodeType]&&(d(a),f[a.nodeType])){var c=[];b.a.P(c,a.getElementsByTagName("*"));for(var k=0,l=c.length;k<l;k++)d(c[k])}return a},removeNode:function(a){b.A(a);a.parentNode&&a.parentNode.removeChild(a)}}};b.A=b.a.F.A;b.removeNode=
b.a.F.removeNode;b.b("cleanNode",b.A);b.b("removeNode",b.removeNode);b.b("utils.domNodeDisposal",b.a.F);b.b("utils.domNodeDisposal.addDisposeCallback",b.a.F.Ca);b.b("utils.domNodeDisposal.removeDisposeCallback",b.a.F.Xa);b.a.ta=function(a){var d;if("undefined"!=typeof F)if(F.parseHTML)d=F.parseHTML(a);else{if((d=F.clean([a]))&&d[0]){for(a=d[0];a.parentNode&&11!==a.parentNode.nodeType;)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}}else{var c=b.a.D(a).toLowerCase();d=y.createElement("div");
c=c.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!c.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!c.indexOf("<td")||!c.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];a="ignored<div>"+c[1]+a+c[2]+"</div>";for("function"==typeof x.innerShiv?d.appendChild(x.innerShiv(a)):d.innerHTML=a;c[0]--;)d=d.lastChild;d=b.a.L(d.lastChild.childNodes)}return d};b.a.ca=function(a,d){b.a.ka(a);d=b.a.d(d);if(d!==p&&d!==I)if("string"!=typeof d&&(d=d.toString()),
"undefined"!=typeof F)F(a).html(d);else for(var c=b.a.ta(d),e=0;e<c.length;e++)a.appendChild(c[e])};b.b("utils.parseHtmlFragment",b.a.ta);b.b("utils.setHtml",b.a.ca);var R={};b.s={ra:function(a){"function"!=typeof a&&j(Error("You can only pass a function to ko.memoization.memoize()"));var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);R[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},hb:function(a,b){var c=R[a];c===I&&j(Error("Couldn't find any memo with ID "+
a+". Perhaps it's already been unmemoized."));try{return c.apply(p,b||[]),m}finally{delete R[a]}},ib:function(a,d){var c=[];ca(a,c);for(var e=0,f=c.length;e<f;e++){var g=c[e].sb,h=[g];d&&b.a.P(h,d);b.s.hb(c[e].Fb,h);g.nodeValue="";g.parentNode&&g.parentNode.removeChild(g)}},Ua:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:p}};b.b("memoization",b.s);b.b("memoization.memoize",b.s.ra);b.b("memoization.unmemoize",b.s.hb);b.b("memoization.parseMemoText",b.s.Ua);b.b("memoization.unmemoizeDomNodeAndDescendants",
b.s.ib);b.Ma={throttle:function(a,d){a.throttleEvaluation=d;var c=p;return b.j({read:a,write:function(b){clearTimeout(c);c=setTimeout(function(){a(b)},d)}})},notify:function(a,d){a.equalityComparer="always"==d?u(r):b.m.fn.equalityComparer;return a}};b.b("extenders",b.Ma);b.fb=function(a,d,c){this.target=a;this.ha=d;this.rb=c;b.p(this,"dispose",this.B)};b.fb.prototype.B=function(){this.Cb=m;this.rb()};b.S=function(){this.w={};b.a.extend(this,b.S.fn);b.p(this,"subscribe",this.ya);b.p(this,"extend",
this.extend);b.p(this,"getSubscriptionsCount",this.yb)};b.S.fn={ya:function(a,d,c){c=c||"change";var e=new b.fb(this,d?a.bind(d):a,function(){b.a.ga(this.w[c],e)}.bind(this));this.w[c]||(this.w[c]=[]);this.w[c].push(e);return e},notifySubscribers:function(a,d){d=d||"change";this.w[d]&&b.r.K(function(){b.a.o(this.w[d].slice(0),function(b){b&&b.Cb!==m&&b.ha(a)})},this)},yb:function(){var a=0,b;for(b in this.w)this.w.hasOwnProperty(b)&&(a+=this.w[b].length);return a},extend:function(a){var d=this;if(a)for(var c in a){var e=
b.Ma[c];"function"==typeof e&&(d=e(d,a[c]))}return d}};b.Qa=function(a){return"function"==typeof a.ya&&"function"==typeof a.notifySubscribers};b.b("subscribable",b.S);b.b("isSubscribable",b.Qa);var C=[];b.r={mb:function(a){C.push({ha:a,La:[]})},end:function(){C.pop()},Wa:function(a){b.Qa(a)||j(Error("Only subscribable things can act as dependencies"));if(0<C.length){var d=C[C.length-1];d&&!(0<=b.a.i(d.La,a))&&(d.La.push(a),d.ha(a))}},K:function(a,b,c){try{return C.push(p),a.apply(b,c||[])}finally{C.pop()}}};
var ma={undefined:m,"boolean":m,number:m,string:m};b.m=function(a){function d(){if(0<arguments.length){if(!d.equalityComparer||!d.equalityComparer(c,arguments[0]))d.H(),c=arguments[0],d.G();return this}b.r.Wa(d);return c}var c=a;b.S.call(d);d.t=function(){return c};d.G=function(){d.notifySubscribers(c)};d.H=function(){d.notifySubscribers(c,"beforeChange")};b.a.extend(d,b.m.fn);b.p(d,"peek",d.t);b.p(d,"valueHasMutated",d.G);b.p(d,"valueWillMutate",d.H);return d};b.m.fn={equalityComparer:function(a,
b){return a===p||typeof a in ma?a===b:r}};var E=b.m.Kb="__ko_proto__";b.m.fn[E]=b.m;b.ma=function(a,d){return a===p||a===I||a[E]===I?r:a[E]===d?m:b.ma(a[E],d)};b.$=function(a){return b.ma(a,b.m)};b.Ra=function(a){return"function"==typeof a&&a[E]===b.m||"function"==typeof a&&a[E]===b.j&&a.zb?m:r};b.b("observable",b.m);b.b("isObservable",b.$);b.b("isWriteableObservable",b.Ra);b.R=function(a){0==arguments.length&&(a=[]);a!==p&&(a!==I&&!("length"in a))&&j(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));
var d=b.m(a);b.a.extend(d,b.R.fn);return d};b.R.fn={remove:function(a){for(var b=this.t(),c=[],e="function"==typeof a?a:function(b){return b===a},f=0;f<b.length;f++){var g=b[f];e(g)&&(0===c.length&&this.H(),c.push(g),b.splice(f,1),f--)}c.length&&this.G();return c},removeAll:function(a){if(a===I){var d=this.t(),c=d.slice(0);this.H();d.splice(0,d.length);this.G();return c}return!a?[]:this.remove(function(d){return 0<=b.a.i(a,d)})},destroy:function(a){var b=this.t(),c="function"==typeof a?a:function(b){return b===
a};this.H();for(var e=b.length-1;0<=e;e--)c(b[e])&&(b[e]._destroy=m);this.G()},destroyAll:function(a){return a===I?this.destroy(u(m)):!a?[]:this.destroy(function(d){return 0<=b.a.i(a,d)})},indexOf:function(a){var d=this();return b.a.i(d,a)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.H(),this.t()[c]=b,this.G())}};b.a.o("pop push reverse shift sort splice unshift".split(" "),function(a){b.R.fn[a]=function(){var b=this.t();this.H();b=b[a].apply(b,arguments);this.G();return b}});b.a.o(["slice"],
function(a){b.R.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});b.b("observableArray",b.R);b.j=function(a,d,c){function e(){b.a.o(z,function(a){a.B()});z=[]}function f(){var a=h.throttleEvaluation;a&&0<=a?(clearTimeout(t),t=setTimeout(g,a)):g()}function g(){if(!q)if(n&&w())A();else{q=m;try{var a=b.a.V(z,function(a){return a.target});b.r.mb(function(c){var d;0<=(d=b.a.i(a,c))?a[d]=I:z.push(c.ya(f))});for(var c=s.call(d),e=a.length-1;0<=e;e--)a[e]&&z.splice(e,1)[0].B();n=m;h.notifySubscribers(l,
"beforeChange");l=c}finally{b.r.end()}h.notifySubscribers(l);q=r;z.length||A()}}function h(){if(0<arguments.length)return"function"===typeof v?v.apply(d,arguments):j(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")),this;n||g();b.r.Wa(h);return l}function k(){return!n||0<z.length}var l,n=r,q=r,s=a;s&&"object"==typeof s?(c=s,s=c.read):(c=c||{},s||(s=c.read));"function"!=typeof s&&j(Error("Pass a function that returns the value of the ko.computed"));
var v=c.write,G=c.disposeWhenNodeIsRemoved||c.W||p,w=c.disposeWhen||c.Ka||u(r),A=e,z=[],t=p;d||(d=c.owner);h.t=function(){n||g();return l};h.xb=function(){return z.length};h.zb="function"===typeof c.write;h.B=function(){A()};h.pa=k;b.S.call(h);b.a.extend(h,b.j.fn);b.p(h,"peek",h.t);b.p(h,"dispose",h.B);b.p(h,"isActive",h.pa);b.p(h,"getDependenciesCount",h.xb);c.deferEvaluation!==m&&g();if(G&&k()){A=function(){b.a.F.Xa(G,arguments.callee);e()};b.a.F.Ca(G,A);var D=w,w=function(){return!b.a.X(G)||D()}}return h};
b.Bb=function(a){return b.ma(a,b.j)};w=b.m.Kb;b.j[w]=b.m;b.j.fn={};b.j.fn[w]=b.j;b.b("dependentObservable",b.j);b.b("computed",b.j);b.b("isComputed",b.Bb);b.gb=function(a){0==arguments.length&&j(Error("When calling ko.toJS, pass the object you want to convert."));return ba(a,function(a){for(var c=0;b.$(a)&&10>c;c++)a=a();return a})};b.toJSON=function(a,d,c){a=b.gb(a);return b.a.xa(a,d,c)};b.b("toJS",b.gb);b.b("toJSON",b.toJSON);b.k={q:function(a){switch(b.a.u(a)){case "option":return a.__ko__hasDomDataOptionValue__===
m?b.a.f.get(a,b.c.options.sa):7>=b.a.Z?a.getAttributeNode("value").specified?a.value:a.text:a.value;case "select":return 0<=a.selectedIndex?b.k.q(a.options[a.selectedIndex]):I;default:return a.value}},T:function(a,d){switch(b.a.u(a)){case "option":switch(typeof d){case "string":b.a.f.set(a,b.c.options.sa,I);"__ko__hasDomDataOptionValue__"in a&&delete a.__ko__hasDomDataOptionValue__;a.value=d;break;default:b.a.f.set(a,b.c.options.sa,d),a.__ko__hasDomDataOptionValue__=m,a.value="number"===typeof d?
d:""}break;case "select":for(var c=a.options.length-1;0<=c;c--)if(b.k.q(a.options[c])==d){a.selectedIndex=c;break}break;default:if(d===p||d===I)d="";a.value=d}}};b.b("selectExtensions",b.k);b.b("selectExtensions.readValue",b.k.q);b.b("selectExtensions.writeValue",b.k.T);var ka=/\@ko_token_(\d+)\@/g,na=["true","false"],oa=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;b.g={Q:[],aa:function(a){var d=b.a.D(a);if(3>d.length)return[];"{"===d.charAt(0)&&(d=d.substring(1,d.length-1));a=[];for(var c=
p,e,f=0;f<d.length;f++){var g=d.charAt(f);if(c===p)switch(g){case '"':case "'":case "/":c=f,e=g}else if(g==e&&"\\"!==d.charAt(f-1)){g=d.substring(c,f+1);a.push(g);var h="@ko_token_"+(a.length-1)+"@",d=d.substring(0,c)+h+d.substring(f+1),f=f-(g.length-h.length),c=p}}e=c=p;for(var k=0,l=p,f=0;f<d.length;f++){g=d.charAt(f);if(c===p)switch(g){case "{":c=f;l=g;e="}";break;case "(":c=f;l=g;e=")";break;case "[":c=f,l=g,e="]"}g===l?k++:g===e&&(k--,0===k&&(g=d.substring(c,f+1),a.push(g),h="@ko_token_"+(a.length-
1)+"@",d=d.substring(0,c)+h+d.substring(f+1),f-=g.length-h.length,c=p))}e=[];d=d.split(",");c=0;for(f=d.length;c<f;c++)k=d[c],l=k.indexOf(":"),0<l&&l<k.length-1?(g=k.substring(l+1),e.push({key:P(k.substring(0,l),a),value:P(g,a)})):e.push({unknown:P(k,a)});return e},ba:function(a){var d="string"===typeof a?b.g.aa(a):a,c=[];a=[];for(var e,f=0;e=d[f];f++)if(0<c.length&&c.push(","),e.key){var g;a:{g=e.key;var h=b.a.D(g);switch(h.length&&h.charAt(0)){case "'":case '"':break a;default:g="'"+h+"'"}}e=e.value;
c.push(g);c.push(":");c.push(e);e=b.a.D(e);0<=b.a.i(na,b.a.D(e).toLowerCase())?e=r:(h=e.match(oa),e=h===p?r:h[1]?"Object("+h[1]+")"+h[2]:e);e&&(0<a.length&&a.push(", "),a.push(g+" : function(__ko_value) { "+e+" = __ko_value; }"))}else e.unknown&&c.push(e.unknown);d=c.join("");0<a.length&&(d=d+", '_ko_property_writers' : { "+a.join("")+" } ");return d},Eb:function(a,d){for(var c=0;c<a.length;c++)if(b.a.D(a[c].key)==d)return m;return r},ea:function(a,d,c,e,f){if(!a||!b.Ra(a)){if((a=d()._ko_property_writers)&&
a[c])a[c](e)}else(!f||a.t()!==e)&&a(e)}};b.b("expressionRewriting",b.g);b.b("expressionRewriting.bindingRewriteValidators",b.g.Q);b.b("expressionRewriting.parseObjectLiteral",b.g.aa);b.b("expressionRewriting.preProcessBindings",b.g.ba);b.b("jsonExpressionRewriting",b.g);b.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",b.g.ba);var K="\x3c!--test--\x3e"===y.createComment("test").text,ja=K?/^\x3c!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*--\x3e$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,ia=K?/^\x3c!--\s*\/ko\s*--\x3e$/:
/^\s*\/ko\s*$/,pa={ul:m,ol:m};b.e={I:{},childNodes:function(a){return B(a)?aa(a):a.childNodes},Y:function(a){if(B(a)){a=b.e.childNodes(a);for(var d=0,c=a.length;d<c;d++)b.removeNode(a[d])}else b.a.ka(a)},N:function(a,d){if(B(a)){b.e.Y(a);for(var c=a.nextSibling,e=0,f=d.length;e<f;e++)c.parentNode.insertBefore(d[e],c)}else b.a.N(a,d)},Va:function(a,b){B(a)?a.parentNode.insertBefore(b,a.nextSibling):a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)},Pa:function(a,d,c){c?B(a)?a.parentNode.insertBefore(d,
c.nextSibling):c.nextSibling?a.insertBefore(d,c.nextSibling):a.appendChild(d):b.e.Va(a,d)},firstChild:function(a){return!B(a)?a.firstChild:!a.nextSibling||H(a.nextSibling)?p:a.nextSibling},nextSibling:function(a){B(a)&&(a=$(a));return a.nextSibling&&H(a.nextSibling)?p:a.nextSibling},jb:function(a){return(a=B(a))?a[1]:p},Ta:function(a){if(pa[b.a.u(a)]){var d=a.firstChild;if(d){do if(1===d.nodeType){var c;c=d.firstChild;var e=p;if(c){do if(e)e.push(c);else if(B(c)){var f=$(c,m);f?c=f:e=[c]}else H(c)&&
(e=[c]);while(c=c.nextSibling)}if(c=e){e=d.nextSibling;for(f=0;f<c.length;f++)e?a.insertBefore(c[f],e):a.appendChild(c[f])}}while(d=d.nextSibling)}}}};b.b("virtualElements",b.e);b.b("virtualElements.allowedBindings",b.e.I);b.b("virtualElements.emptyNode",b.e.Y);b.b("virtualElements.insertAfter",b.e.Pa);b.b("virtualElements.prepend",b.e.Va);b.b("virtualElements.setDomNodeChildren",b.e.N);b.J=function(){this.Ha={}};b.a.extend(b.J.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind")!=
p;case 8:return b.e.jb(a)!=p;default:return r}},getBindings:function(a,b){var c=this.getBindingsString(a,b);return c?this.parseBindingsString(c,b,a):p},getBindingsString:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return b.e.jb(a);default:return p}},parseBindingsString:function(a,d,c){try{var e;if(!(e=this.Ha[a])){var f=this.Ha,g,h="with($context){with($data||{}){return{"+b.g.ba(a)+"}}}";g=new Function("$context","$element",h);e=f[a]=g}return e(d,c)}catch(k){j(Error("Unable to parse bindings.\nMessage: "+
k+";\nBindings value: "+a))}}});b.J.instance=new b.J;b.b("bindingProvider",b.J);b.c={};b.z=function(a,d,c){d?(b.a.extend(this,d),this.$parentContext=d,this.$parent=d.$data,this.$parents=(d.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=a,this.ko=b);this.$data=a;c&&(this[c]=a)};b.z.prototype.createChildContext=function(a,d){return new b.z(a,this,d)};b.z.prototype.extend=function(a){var d=b.a.extend(new b.z,this);return b.a.extend(d,a)};b.eb=function(a,d){if(2==
arguments.length)b.a.f.set(a,"__ko_bindingContext__",d);else return b.a.f.get(a,"__ko_bindingContext__")};b.Fa=function(a,d,c){1===a.nodeType&&b.e.Ta(a);return X(a,d,c,m)};b.Ea=function(a,b){(1===b.nodeType||8===b.nodeType)&&Z(a,b,m)};b.Da=function(a,b){b&&(1!==b.nodeType&&8!==b.nodeType)&&j(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"));b=b||x.document.body;Y(a,b,m)};b.ja=function(a){switch(a.nodeType){case 1:case 8:var d=b.eb(a);if(d)return d;
if(a.parentNode)return b.ja(a.parentNode)}return I};b.pb=function(a){return(a=b.ja(a))?a.$data:I};b.b("bindingHandlers",b.c);b.b("applyBindings",b.Da);b.b("applyBindingsToDescendants",b.Ea);b.b("applyBindingsToNode",b.Fa);b.b("contextFor",b.ja);b.b("dataFor",b.pb);var fa={"class":"className","for":"htmlFor"};b.c.attr={update:function(a,d){var c=b.a.d(d())||{},e;for(e in c)if("string"==typeof e){var f=b.a.d(c[e]),g=f===r||f===p||f===I;g&&a.removeAttribute(e);8>=b.a.Z&&e in fa?(e=fa[e],g?a.removeAttribute(e):
a[e]=f):g||a.setAttribute(e,f.toString());"name"===e&&b.a.ab(a,g?"":f.toString())}}};b.c.checked={init:function(a,d,c){b.a.n(a,"click",function(){var e;if("checkbox"==a.type)e=a.checked;else if("radio"==a.type&&a.checked)e=a.value;else return;var f=d(),g=b.a.d(f);"checkbox"==a.type&&g instanceof Array?(e=b.a.i(g,a.value),a.checked&&0>e?f.push(a.value):!a.checked&&0<=e&&f.splice(e,1)):b.g.ea(f,c,"checked",e,m)});"radio"==a.type&&!a.name&&b.c.uniqueName.init(a,u(m))},update:function(a,d){var c=b.a.d(d());
"checkbox"==a.type?a.checked=c instanceof Array?0<=b.a.i(c,a.value):c:"radio"==a.type&&(a.checked=a.value==c)}};b.c.css={update:function(a,d){var c=b.a.d(d());if("object"==typeof c)for(var e in c){var f=b.a.d(c[e]);b.a.da(a,e,f)}else c=String(c||""),b.a.da(a,a.__ko__cssValue,r),a.__ko__cssValue=c,b.a.da(a,c,m)}};b.c.enable={update:function(a,d){var c=b.a.d(d());c&&a.disabled?a.removeAttribute("disabled"):!c&&!a.disabled&&(a.disabled=m)}};b.c.disable={update:function(a,d){b.c.enable.update(a,function(){return!b.a.d(d())})}};
b.c.event={init:function(a,d,c,e){var f=d()||{},g;for(g in f)(function(){var f=g;"string"==typeof f&&b.a.n(a,f,function(a){var g,n=d()[f];if(n){var q=c();try{var s=b.a.L(arguments);s.unshift(e);g=n.apply(e,s)}finally{g!==m&&(a.preventDefault?a.preventDefault():a.returnValue=r)}q[f+"Bubble"]===r&&(a.cancelBubble=m,a.stopPropagation&&a.stopPropagation())}})})()}};b.c.foreach={Sa:function(a){return function(){var d=a(),c=b.a.ua(d);if(!c||"number"==typeof c.length)return{foreach:d,templateEngine:b.C.oa};
b.a.d(d);return{foreach:c.data,as:c.as,includeDestroyed:c.includeDestroyed,afterAdd:c.afterAdd,beforeRemove:c.beforeRemove,afterRender:c.afterRender,beforeMove:c.beforeMove,afterMove:c.afterMove,templateEngine:b.C.oa}}},init:function(a,d){return b.c.template.init(a,b.c.foreach.Sa(d))},update:function(a,d,c,e,f){return b.c.template.update(a,b.c.foreach.Sa(d),c,e,f)}};b.g.Q.foreach=r;b.e.I.foreach=m;b.c.hasfocus={init:function(a,d,c){function e(e){a.__ko_hasfocusUpdating=m;var f=a.ownerDocument;"activeElement"in
f&&(e=f.activeElement===a);f=d();b.g.ea(f,c,"hasfocus",e,m);a.__ko_hasfocusUpdating=r}var f=e.bind(p,m),g=e.bind(p,r);b.a.n(a,"focus",f);b.a.n(a,"focusin",f);b.a.n(a,"blur",g);b.a.n(a,"focusout",g)},update:function(a,d){var c=b.a.d(d());a.__ko_hasfocusUpdating||(c?a.focus():a.blur(),b.r.K(b.a.Ba,p,[a,c?"focusin":"focusout"]))}};b.c.html={init:function(){return{controlsDescendantBindings:m}},update:function(a,d){b.a.ca(a,d())}};var da="__ko_withIfBindingData";Q("if");Q("ifnot",r,m);Q("with",m,r,function(a,
b){return a.createChildContext(b)});b.c.options={update:function(a,d,c){"select"!==b.a.u(a)&&j(Error("options binding applies only to SELECT elements"));for(var e=0==a.length,f=b.a.V(b.a.fa(a.childNodes,function(a){return a.tagName&&"option"===b.a.u(a)&&a.selected}),function(a){return b.k.q(a)||a.innerText||a.textContent}),g=a.scrollTop,h=b.a.d(d());0<a.length;)b.A(a.options[0]),a.remove(0);if(h){c=c();var k=c.optionsIncludeDestroyed;"number"!=typeof h.length&&(h=[h]);if(c.optionsCaption){var l=y.createElement("option");
b.a.ca(l,c.optionsCaption);b.k.T(l,I);a.appendChild(l)}d=0;for(var n=h.length;d<n;d++){var q=h[d];if(!q||!q._destroy||k){var l=y.createElement("option"),s=function(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c},v=s(q,c.optionsValue,q);b.k.T(l,b.a.d(v));q=s(q,c.optionsText,v);b.a.cb(l,q);a.appendChild(l)}}h=a.getElementsByTagName("option");d=k=0;for(n=h.length;d<n;d++)0<=b.a.i(f,b.k.q(h[d]))&&(b.a.bb(h[d],m),k++);a.scrollTop=g;e&&"value"in c&&ea(a,b.a.ua(c.value),m);b.a.ub(a)}}};
b.c.options.sa="__ko.optionValueDomData__";b.c.selectedOptions={init:function(a,d,c){b.a.n(a,"change",function(){var e=d(),f=[];b.a.o(a.getElementsByTagName("option"),function(a){a.selected&&f.push(b.k.q(a))});b.g.ea(e,c,"value",f)})},update:function(a,d){"select"!=b.a.u(a)&&j(Error("values binding applies only to SELECT elements"));var c=b.a.d(d());c&&"number"==typeof c.length&&b.a.o(a.getElementsByTagName("option"),function(a){var d=0<=b.a.i(c,b.k.q(a));b.a.bb(a,d)})}};b.c.style={update:function(a,
d){var c=b.a.d(d()||{}),e;for(e in c)if("string"==typeof e){var f=b.a.d(c[e]);a.style[e]=f||""}}};b.c.submit={init:function(a,d,c,e){"function"!=typeof d()&&j(Error("The value for a submit binding must be a function"));b.a.n(a,"submit",function(b){var c,h=d();try{c=h.call(e,a)}finally{c!==m&&(b.preventDefault?b.preventDefault():b.returnValue=r)}})}};b.c.text={update:function(a,d){b.a.cb(a,d())}};b.e.I.text=m;b.c.uniqueName={init:function(a,d){if(d()){var c="ko_unique_"+ ++b.c.uniqueName.ob;b.a.ab(a,
c)}}};b.c.uniqueName.ob=0;b.c.value={init:function(a,d,c){function e(){h=r;var e=d(),f=b.k.q(a);b.g.ea(e,c,"value",f)}var f=["change"],g=c().valueUpdate,h=r;g&&("string"==typeof g&&(g=[g]),b.a.P(f,g),f=b.a.Ga(f));if(b.a.Z&&("input"==a.tagName.toLowerCase()&&"text"==a.type&&"off"!=a.autocomplete&&(!a.form||"off"!=a.form.autocomplete))&&-1==b.a.i(f,"propertychange"))b.a.n(a,"propertychange",function(){h=m}),b.a.n(a,"blur",function(){h&&e()});b.a.o(f,function(c){var d=e;b.a.Ob(c,"after")&&(d=function(){setTimeout(e,
0)},c=c.substring(5));b.a.n(a,c,d)})},update:function(a,d){var c="select"===b.a.u(a),e=b.a.d(d()),f=b.k.q(a),g=e!=f;0===e&&(0!==f&&"0"!==f)&&(g=m);g&&(f=function(){b.k.T(a,e)},f(),c&&setTimeout(f,0));c&&0<a.length&&ea(a,e,r)}};b.c.visible={update:function(a,d){var c=b.a.d(d()),e="none"!=a.style.display;c&&!e?a.style.display="":!c&&e&&(a.style.display="none")}};b.c.click={init:function(a,d,c,e){return b.c.event.init.call(this,a,function(){var a={};a.click=d();return a},c,e)}};b.v=function(){};b.v.prototype.renderTemplateSource=
function(){j(Error("Override renderTemplateSource"))};b.v.prototype.createJavaScriptEvaluatorBlock=function(){j(Error("Override createJavaScriptEvaluatorBlock"))};b.v.prototype.makeTemplateSource=function(a,d){if("string"==typeof a){d=d||y;var c=d.getElementById(a);c||j(Error("Cannot find template with ID "+a));return new b.l.h(c)}if(1==a.nodeType||8==a.nodeType)return new b.l.O(a);j(Error("Unknown template type: "+a))};b.v.prototype.renderTemplate=function(a,b,c,e){a=this.makeTemplateSource(a,e);
return this.renderTemplateSource(a,b,c)};b.v.prototype.isTemplateRewritten=function(a,b){return this.allowTemplateRewriting===r?m:this.makeTemplateSource(a,b).data("isRewritten")};b.v.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,c);b=b(a.text());a.text(b);a.data("isRewritten",m)};b.b("templateEngine",b.v);var qa=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,ra=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;b.za={vb:function(a,
d,c){d.isTemplateRewritten(a,c)||d.rewriteTemplate(a,function(a){return b.za.Gb(a,d)},c)},Gb:function(a,b){return a.replace(qa,function(a,e,f,g,h,k,l){return W(l,e,b)}).replace(ra,function(a,e){return W(e,"\x3c!-- ko --\x3e",b)})},kb:function(a){return b.s.ra(function(d,c){d.nextSibling&&b.Fa(d.nextSibling,a,c)})}};b.b("__tr_ambtns",b.za.kb);b.l={};b.l.h=function(a){this.h=a};b.l.h.prototype.text=function(){var a=b.a.u(this.h),a="script"===a?"text":"textarea"===a?"value":"innerHTML";if(0==arguments.length)return this.h[a];
var d=arguments[0];"innerHTML"===a?b.a.ca(this.h,d):this.h[a]=d};b.l.h.prototype.data=function(a){if(1===arguments.length)return b.a.f.get(this.h,"templateSourceData_"+a);b.a.f.set(this.h,"templateSourceData_"+a,arguments[1])};b.l.O=function(a){this.h=a};b.l.O.prototype=new b.l.h;b.l.O.prototype.text=function(){if(0==arguments.length){var a=b.a.f.get(this.h,"__ko_anon_template__")||{};a.Aa===I&&a.ia&&(a.Aa=a.ia.innerHTML);return a.Aa}b.a.f.set(this.h,"__ko_anon_template__",{Aa:arguments[0]})};b.l.h.prototype.nodes=
function(){if(0==arguments.length)return(b.a.f.get(this.h,"__ko_anon_template__")||{}).ia;b.a.f.set(this.h,"__ko_anon_template__",{ia:arguments[0]})};b.b("templateSources",b.l);b.b("templateSources.domElement",b.l.h);b.b("templateSources.anonymousTemplate",b.l.O);var O;b.wa=function(a){a!=I&&!(a instanceof b.v)&&j(Error("templateEngine must inherit from ko.templateEngine"));O=a};b.va=function(a,d,c,e,f){c=c||{};(c.templateEngine||O)==I&&j(Error("Set a template engine before calling renderTemplate"));
f=f||"replaceChildren";if(e){var g=N(e);return b.j(function(){var h=d&&d instanceof b.z?d:new b.z(b.a.d(d)),k="function"==typeof a?a(h.$data,h):a,h=T(e,f,k,h,c);"replaceNode"==f&&(e=h,g=N(e))},p,{Ka:function(){return!g||!b.a.X(g)},W:g&&"replaceNode"==f?g.parentNode:g})}return b.s.ra(function(e){b.va(a,d,c,e,"replaceNode")})};b.Mb=function(a,d,c,e,f){function g(a,b){U(b,k);c.afterRender&&c.afterRender(b,a)}function h(d,e){k=f.createChildContext(b.a.d(d),c.as);k.$index=e;var g="function"==typeof a?
a(d,k):a;return T(p,"ignoreTargetNode",g,k,c)}var k;return b.j(function(){var a=b.a.d(d)||[];"undefined"==typeof a.length&&(a=[a]);a=b.a.fa(a,function(a){return c.includeDestroyed||a===I||a===p||!b.a.d(a._destroy)});b.r.K(b.a.$a,p,[e,a,h,c,g])},p,{W:e})};b.c.template={init:function(a,d){var c=b.a.d(d());if("string"!=typeof c&&!c.name&&(1==a.nodeType||8==a.nodeType))c=1==a.nodeType?a.childNodes:b.e.childNodes(a),c=b.a.Hb(c),(new b.l.O(a)).nodes(c);return{controlsDescendantBindings:m}},update:function(a,
d,c,e,f){d=b.a.d(d());c={};e=m;var g,h=p;"string"!=typeof d&&(c=d,d=c.name,"if"in c&&(e=b.a.d(c["if"])),e&&"ifnot"in c&&(e=!b.a.d(c.ifnot)),g=b.a.d(c.data));"foreach"in c?h=b.Mb(d||a,e&&c.foreach||[],c,a,f):e?(f="data"in c?f.createChildContext(g,c.as):f,h=b.va(d||a,f,c,a)):b.e.Y(a);f=h;(g=b.a.f.get(a,"__ko__templateComputedDomDataKey__"))&&"function"==typeof g.B&&g.B();b.a.f.set(a,"__ko__templateComputedDomDataKey__",f&&f.pa()?f:I)}};b.g.Q.template=function(a){a=b.g.aa(a);return 1==a.length&&a[0].unknown||
b.g.Eb(a,"name")?p:"This template engine does not support anonymous templates nested within its templates"};b.e.I.template=m;b.b("setTemplateEngine",b.wa);b.b("renderTemplate",b.va);b.a.Ja=function(a,b,c){a=a||[];b=b||[];return a.length<=b.length?S(a,b,"added","deleted",c):S(b,a,"deleted","added",c)};b.b("utils.compareArrays",b.a.Ja);b.a.$a=function(a,d,c,e,f){function g(a,b){t=l[b];w!==b&&(z[a]=t);t.na(w++);M(t.M);s.push(t);A.push(t)}function h(a,c){if(a)for(var d=0,e=c.length;d<e;d++)c[d]&&b.a.o(c[d].M,
function(b){a(b,d,c[d].U)})}d=d||[];e=e||{};var k=b.a.f.get(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===I,l=b.a.f.get(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],n=b.a.V(l,function(a){return a.U}),q=b.a.Ja(n,d),s=[],v=0,w=0,B=[],A=[];d=[];for(var z=[],n=[],t,D=0,C,E;C=q[D];D++)switch(E=C.moved,C.status){case "deleted":E===I&&(t=l[v],t.j&&t.j.B(),B.push.apply(B,M(t.M)),e.beforeRemove&&(d[D]=t,A.push(t)));v++;break;case "retained":g(D,v++);break;case "added":E!==I?
g(D,E):(t={U:C.value,na:b.m(w++)},s.push(t),A.push(t),k||(n[D]=t))}h(e.beforeMove,z);b.a.o(B,e.beforeRemove?b.A:b.removeNode);for(var D=0,k=b.e.firstChild(a),H;t=A[D];D++){t.M||b.a.extend(t,ha(a,c,t.U,f,t.na));for(v=0;q=t.M[v];k=q.nextSibling,H=q,v++)q!==k&&b.e.Pa(a,q,H);!t.Ab&&f&&(f(t.U,t.M,t.na),t.Ab=m)}h(e.beforeRemove,d);h(e.afterMove,z);h(e.afterAdd,n);b.a.f.set(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult",s)};b.b("utils.setDomNodeChildrenFromArrayMapping",b.a.$a);b.C=function(){this.allowTemplateRewriting=
r};b.C.prototype=new b.v;b.C.prototype.renderTemplateSource=function(a){var d=!(9>b.a.Z)&&a.nodes?a.nodes():p;if(d)return b.a.L(d.cloneNode(m).childNodes);a=a.text();return b.a.ta(a)};b.C.oa=new b.C;b.wa(b.C.oa);b.b("nativeTemplateEngine",b.C);b.qa=function(){var a=this.Db=function(){if("undefined"==typeof F||!F.tmpl)return 0;try{if(0<=F.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,c,e){e=e||{};2>a&&j(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));
var f=b.data("precompiled");f||(f=b.text()||"",f=F.template(p,"{{ko_with $item.koBindingContext}}"+f+"{{/ko_with}}"),b.data("precompiled",f));b=[c.$data];c=F.extend({koBindingContext:c},e.templateOptions);c=F.tmpl(f,b,c);c.appendTo(y.createElement("div"));F.fragments={};return c};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){y.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(F.tmpl.tag.ko_code=
{open:"__.push($1 || '');"},F.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};b.qa.prototype=new b.v;w=new b.qa;0<w.Db&&b.wa(w);b.b("jqueryTmplTemplateEngine",b.qa)}"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?L(module.exports||exports):"function"===typeof define&&define.amd?define("knockout",["exports"],L):L(x.ko={});m;
})();
// Presentation/Scripts/TFS/SPS.Host.TfsContext //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("Presentation/Scripts/TFS/SPS.Host.TfsContext",["require","exports","VSS/VSS","VSS/Context","VSS/Diag","VSS/Common/Contracts/Platform"],function(n,t,i,r,u,f){function c(){o=$.now()}var o,e,l,s,h;t.setImageTimestamp=c;e=function(){function n(n){this._options=n||{}}return n.prototype.getRootPath=function(){return this._options.rootPath||"/"},n.prototype.getTheme=function(){return this._options.theme||"Default"},n.prototype.getResourcesPath=function(){return this._options.resourcesPath||this.getRootPath()+"_content/"},n.prototype.getResourcesFile=function(n){return this.getResourcesPath()+encodeURIComponent(n)},n.prototype.getTfsStaticRootPath=function(){return this._options.staticRootTfs||"/tfs/_static/tfs/12/"},n.prototype.get3rdPartyStaticRootPath=function(){return this._options.staticRoot3rdParty||"/tfs/_static/3rdParty/"},n.prototype.getThemedFile=function(n){return this.getTfsStaticRootPath()+"App_Themes/"+encodeURIComponent(this.getTheme())+"/"+encodeURIComponent(n)},n.prototype.getWebApiVersion=function(){return this._options.webApiVersion||"1"},n.prototype.getMailSettings=function(){return this._options.mailSettings},n}();t.Configuration=e,function(n){n[n.None=0]="None";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.Collection=4]="Collection";n[n.Project=8]="Project";n[n.Team=16]="Team";n[n.ApplicationAll=15]="ApplicationAll";n[n.All=31]="All"}(t.NavigationContextLevels||(t.NavigationContextLevels={}));l=t.NavigationContextLevels,function(n){n[n.Parent=-1]="Parent";n[n.Unknown=0]="Unknown";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.ProjectCollection=4]="ProjectCollection"}(t.TeamFoundationHostType||(t.TeamFoundationHostType={}));s=t.TeamFoundationHostType;h=function(){function n(t){this.contextData=t;var i=r.getPageContext();this.navigation={applicationServiceHost:n.createServiceHost(t.account,f.ContextHostType.Application,t,i.webAccessConfiguration.paths.rootPath),area:i.navigation.area,areaPrefix:i.webAccessConfiguration.api.areaPrefix,collection:n.createServiceHost(t.collection,f.ContextHostType.ProjectCollection,t,i.webAccessConfiguration.paths.rootPath),controllerPrefix:i.webAccessConfiguration.api.controllerPrefix,currentAction:i.navigation.currentAction,currentController:i.navigation.currentController,project:null,projectId:null,publicAccessPoint:{authority:t.host.authority,scheme:t.host.scheme,uri:t.account?t.account.uri:t.host.uri},serviceHost:n.createServiceHost(t.host,t.host.hostType,t,i.webAccessConfiguration.paths.rootPath),topMostLevel:i.navigation.topMostLevel,team:null,teamId:null};this.navigation.publicAccessPoint.uri[this.navigation.publicAccessPoint.uri.length-1]!=="/"&&(this.navigation.publicAccessPoint.uri+="/");t.project&&(this.navigation.project=t.project.name,this.navigation.projectId=t.project.id);t.team&&i.navigation.topMostLevel===f.NavigationContextLevels.Team&&(this.navigation.team=t.team.name,this.navigation.teamId=t.team.id);this.configuration=new e({mailSettings:i.webAccessConfiguration.mailSettings,resourcesPath:i.webAccessConfiguration.paths.resourcesPath,rootPath:i.webAccessConfiguration.paths.rootPath,staticRoot3rdParty:i.webAccessConfiguration.paths.staticRoot3rdParty,staticRootTfs:i.webAccessConfiguration.paths.staticRootTfs,theme:i.globalization.theme,webApiVersion:i.webAccessConfiguration.api.webApiVersion});this.isHosted=!!i.webAccessConfiguration.isHosted;this.allowStatsCollection=!!i.diagnostics.allowStatsCollection;this.activityId=i.diagnostics.activityId;this.sessionId=i.diagnostics.sessionId;this.isAADAccount=!!t.host.isAADAccount;this.isSameHost=window.self==window.top;t.user&&(this.currentUser=t.user.name,this.standardAccessMode=!t.user.limitedAccess,this.currentIdentity={displayName:t.user.name,email:t.user.email,id:t.user.id,isActive:!0,isContainer:!1,uniqueName:t.user.uniqueName});t.team&&(this.currentUserHasTeamPermission=!!t.team.userIsMember,this.currentUserHasTeamAdminPermission=!!t.team.userIsAdmin,this.currentTeam={name:t.team.name,identity:{displayName:t.team.name,id:t.team.id,isActive:!0,isContainer:!0,email:null,uniqueName:null}})}return n.getContextOrDefault=function(t){var i=r.parseWebContext(t);return i?new n(i):n.getDefault()},n.getDefault=function(){if(!n._defaultTfsContext){var t=r.getDefaultWebContext();if(!t)throw new Error("Default context information is missing.");n._defaultTfsContext=new n(t)}return n._defaultTfsContext},n.tryGetDefaultContext=function(){if(typeof n._defaultTfsContext=="undefined"){var t=r.getDefaultWebContext();n._defaultTfsContext=t?new n(t):null}return n._defaultTfsContext},n.createServiceHost=function(n,t,i,r){return n?{hostType:t,name:n.name,instanceId:n.id,uri:n.uri,relVDir:this.trimVirtualPath(n.relativeUri,r),vDir:n.relativeUri}:null},n.trimVirtualPath=function(n,t){if(!n||n.length===0)return n;for(n.toLowerCase().indexOf(t.toLowerCase())===0&&(n=n.substr(t.length));n.length>0&&n[0]==="/";)n=n.substr(1);while(n.length>0&&n[n.length-1]==="/")n=n.substr(0,n.length-1);return n},n.prototype.getSessionId=function(){var t,r,i,u,n;for(t=this.sessionId,r=document.cookie?document.cookie.split("; "):[],i=0,u=r.length;i<u;i++)if(n=r[i].split("="),n&&n.length===2&&n[0]==="Tfs-SessionId"){t=n[1];break}return this.sessionId=t,t},n.prototype.getHostUrl=function(){return this.navigation.publicAccessPoint.scheme+"://"+this.navigation.publicAccessPoint.authority},n.prototype.getServiceHostUrl=function(){return this.navigation.serviceHost.vDir},n.prototype.getPublicActionUrl=function(n,t,i){var r=this._constructActionUrl(n,t,i);return this.getHostUrl()+this.configuration.getRootPath()+r},n.prototype.getActionUrl=function(n,t,i){if(!this.isSameHost)return this.getPublicActionUrl(n,t,i);var r=this._constructActionUrl(n,t,i);return this.configuration.getRootPath()+r},n.prototype.getCollectionActionUrl=function(n,t,i,r){var u=this._constructActionUrl(t,i,r);return this.configuration.getRootPath()+n+"/"+u},n.prototype.getCollectionTfsContext=function(n){var t=$.extend(!0,{},this);return t.navigation.serviceHost=n,t.navigation.collection=n,t},n.prototype.getPermalinkUrl=function(n,t,i){var r=this._constructPermalinkUrl(n,t,i);return this.configuration.getRootPath()+r},n.prototype.getIdentityImageUrl=function(t,i){var r={area:n._API,project:"",id:t,t:o};return this.getActionUrl("IdentityImage","common",$.extend(r,i))},n.prototype.isEmbedded=function(){return!!this.getClientHost()},n.prototype.getClientHost=function(){return this.contextData.clientHost},n.prototype._constructActionUrl=function(t,r,u){var h=this.navigation,e=[],c,a,v,f,l,w,b,d,o,k,y,p;if(b=h.areaPrefix||"",d=h.controllerPrefix||"",f=$.extend({},u),o=f.area,typeof o=="undefined"&&(o=h.area),delete f.area,c=f.serviceHost,typeof c=="undefined"&&(c=h.serviceHost),c&&(c.relVDir&&e.push(encodeURI(c.relVDir)),c.hostType===s.ProjectCollection&&(k=this._shouldBuildApiUrl(o,f),a=f.project,typeof a=="undefined"&&(a=k?h.projectId:h.project),a&&(e.push(encodeURIComponent(a)),v=f.team,typeof v=="undefined"&&(v=k?h.teamId:h.team),v&&e.push(encodeURIComponent(v))))),delete f.serviceHost,delete f.project,delete f.team,o)if($.isArray(o))for(y=o,y.length>0&&e.push(encodeURIComponent(b+y[0])),p=1;p<y.length;p++)e.push(encodeURIComponent(y[p]));else e.push(encodeURIComponent(b+o));return r||(r=f.controller),delete f.controller,t||(t=f.action),delete f.action,l=f.parameters,delete f.parameters,l&&(r||(r=n._DEFAULT_CONTROLLER_NAME),t||(t=n._DEFAULT_ACTION_NAME)),r&&(e.push(encodeURIComponent(d+r)),t&&(e.push(encodeURIComponent(t)),l&&($.isArray(l)?e.push.apply(e,$.map(l,encodeURIComponent)):e.push(encodeURIComponent(l))))),(f.includeVersion||o===n._API)&&(f[n._VERSION]=this.configuration.getWebApiVersion()),f.includeLanguage&&i.uiCulture&&(f[n._LANGUAGE]=i.uiCulture),delete f.includeVersion,f.area!==n._API&&this.getClientHost()&&(f[n._CLIENTHOST]=this.getClientHost()),w=$.param(f),e.join("/")+(w?"?"+w:"")},n.prototype._constructPermalinkUrl=function(t,i,r){var s=this.navigation,u=[],f=$.extend({},r),o,h=s.controllerPrefix||"",c=i||f.controller||n._DEFAULT_CONTROLLER_NAME,l=t||f.action||n._DEFAULT_ACTION_NAME,e=f.parameters;return u.push(n._PERMALINK_PREFIX),u.push(encodeURIComponent(h+c)),u.push(encodeURIComponent(l)),delete f.controller,delete f.action,delete f.parameters,e&&($.isArray(e)?u.push.apply(u,$.map(e,encodeURIComponent)):u.push(encodeURIComponent(e))),o=$.param(f),u.join("/")+(o?"?"+o:"")},n.prototype._shouldBuildApiUrl=function(t,i){var r;return t&&(r=$.isArray(t)?t[0]:t),i.useApiUrl||r===n._API&&(typeof i.useApiUrl=="undefined"||i.useApiUrl)},n._DEFAULT_CONTROLLER_NAME="home",n._DEFAULT_ACTION_NAME="index",n._CLIENTHOST="clientHost",n._VERSION="__v",n._LANGUAGE="__loc",n._PERMALINK_PREFIX="_permalink",n._API="api",n.ControlExtensions={initializeEnhancementOptions:function(t,i){return $.extend({},i,{tfsContext:n.getContextOrDefault(t)})}},n}();t.TfsContext=h});
// jQueryUI/widget //
/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
(function(n){typeof define=="function"&&define.amd?define("jQueryUI/widget",["jquery"],n):n(jQuery)})(function(n){var i=0,t=Array.prototype.slice;return n.cleanData=function(t){return function(i){for(var r,u,f=0;(u=i[f])!=null;f++)try{r=n._data(u,"events");r&&r.remove&&n(u).triggerHandler("remove")}catch(e){}t(i)}}(n.cleanData),n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];return t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){if(!n.isFunction(r)){h[t]=r;return}h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}()}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u},n.widget.extend=function(i){for(var e=t.call(arguments,1),f=0,o=e.length,r,u;f<o;f++)for(r in e[f])u=e[f][r],e[f].hasOwnProperty(r)&&u!==undefined&&(i[r]=n.isPlainObject(u)?n.isPlainObject(i[r])?n.widget.extend({},i[r],u):n.widget.extend({},u):u);return i},n.widget.bridge=function(i,r){var u=r.prototype.widgetFullName||i;n.fn[i]=function(f){var s=typeof f=="string",o=t.call(arguments,1),e=this;return s?this.each(function(){var t,r=n.data(this,u);return f==="instance"?(e=r,!1):r?!n.isFunction(r[f])||f.charAt(0)==="_"?n.error("no such method '"+f+"' for "+i+" widget instance"):(t=r[f].apply(r,o),t!==r&&t!==undefined?(e=t&&t.jquery?e.pushStack(t.get()):t,!1):void 0):n.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+f+"'")}):(o.length&&(f=n.widget.extend.apply(null,[f].concat(o))),this.each(function(){var t=n.data(this,u);t?(t.option(f||{}),t._init&&t._init()):n.data(this,u,new r(f,this))})),e}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=n(r||this.defaultElement||this)[0];this.element=n(r);this.uuid=i++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=n();this.hoverable=n();this.focusable=n();r!==this&&(n.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===r&&this.destroy()}}),this.document=n(r.style?r.ownerDocument:r.document||r),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var e=t,r,u,f;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof t=="string")if(e={},r=t.split("."),t=r.shift(),r.length){for(u=e[t]=n.widget.extend({},this.options[t]),f=0;f<r.length-1;f++)u[r[f]]=u[r[f]]||{},u=u[r[f]];if(t=r.pop(),arguments.length===1)return u[t]===undefined?null:u[t];u[t]=i}else{if(arguments.length===1)return this.options[t]===undefined?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,r){var f,u=this;typeof t!="boolean"&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof e=="string"?u[e]:e).apply(u,arguments)}typeof e!="string"&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.unbind(i).undelegate(i);this.bindings=n(this.bindings.not(t).get());this.focusable=n(this.focusable.not(t).get());this.hoverable=n(this.hoverable.not(t).get())},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent,f)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{};typeof u=="number"&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}}),n.widget});
// jQueryUI/core //
/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function(n){typeof define=="function"&&define.amd?define("jQueryUI/core",["jquery"],n):n(jQuery)})(function(n){function t(t,r){var u,f,e,o=t.nodeName.toLowerCase();return"area"===o?(u=t.parentNode,f=u.name,!t.href||!f||u.nodeName.toLowerCase()!=="map")?!1:(e=n("img[usemap='#"+f+"']")[0],!!e&&i(e)):(/^(input|select|textarea|button|object)$/.test(o)?!t.disabled:"a"===o?t.href||r:r)&&i(t)}function i(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"}).length}n.ui=n.ui||{};n.extend(n.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({scrollParent:function(t){var i=this.css("position"),u=i==="absolute",f=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=n(this);return u&&t.css("position")==="static"?!1:f.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return i==="fixed"||!r.length?n(this[0].ownerDocument||document):r},uniqueId:function(){var n=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(i){return t(i,!isNaN(n.attr(i,"tabindex")))},tabbable:function(i){var r=n.attr(i,"tabindex"),u=isNaN(r);return(u||r>=0)&&t(i,!u)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(t,i){function f(t,i,r,u){return n.each(e,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var e=i==="Width"?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),u={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+i]=function(t){return t===undefined?u["inner"+i].call(this):this.each(function(){n(this).css(r,f(this,t)+"px")})};n.fn["outer"+i]=function(t,e){return typeof t!="number"?u["outer"+i].call(this,t):this.each(function(){n(this).css(r,f(this,t,!0,e)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.fn.extend({focus:function(t){return function(i,r){return typeof i=="number"?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),disableSelection:function(){var n="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(n+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(t!==undefined)return this.css("zIndex",t);if(this.length)for(var i=n(this[0]),r,u;i.length&&i[0]!==document;){if(r=i.css("position"),(r==="absolute"||r==="relative"||r==="fixed")&&(u=parseInt(i.css("zIndex"),10),!isNaN(u)&&u!==0))return u;i=i.parent()}return 0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&n.element[0].parentNode.nodeType!==11))for(u=0;u<f.length;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}}});
// VSS/Utils/UI //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("VSS/Utils/UI",["require","exports","VSS/Diag","VSS/Utils/Core","VSS/Utils/String","VSS/VSS","VSS/Context","jQueryUI/widget","jQueryUI/core"],function(n,t,i,r,u,f,e){function it(n){var t=0;return n.wheelDelta?t=n.wheelDelta/120:n.detail?t=-n.detail/3:n.originalEvent&&n.originalEvent.wheelDelta?t=n.originalEvent.wheelDelta/120:n.originalEvent&&n.originalEvent.detail&&(t=-n.originalEvent.detail/3),t}function rt(n,t){t===!0?$(n).removeAttr("disabled"):$(n).attr("disabled","disabled")}function ut(n){if(h.isMozilla())n.style.MozUserFocus="ignore";else if(h.isMsie()){n.unselectable="on";for(var i=0,t=n.all&&n.all[i++];t;){switch(t.tagName){case"IFRAME":case"TEXTAREA":case"INPUT":case"SELECT":break;default:t.unselectable="on"}t=n.all[i++]}}}function l(n,t){function u(){try{f.focus()}catch(n){tt(i.LogVerbosity.Warning,"Failed to set focus to element: "+n)}}var f=n instanceof jQuery?n:$(n);typeof t=="undefined"?u():r.delay(this,t,function(){u()})}function ft(n,t){var i=$(n),r=i.outerWidth()-t;r!==0&&i.width(t-r)}function et(n){return $.contains(document.documentElement,n)}function ot(n,t){return n.dataset?n.dataset[t]:n.getAttribute("data-"+t)}function lt(n,t){var i=document.createElement(n);return t&&(i.className=t),i}function v(n){return n.jquery?n:$(n)}function at(n){if(!n)return"";var t=n;return typeof n!="string"&&(t=""+n),t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")}function wt(n,t){o||(o=new pt);o.attach($(n),t)}function bt(n){o&&o.detach($(n))}function kt(){o&&(o.dispose(),o=null)}function ni(n,t,i){var r,u;if(n&&n.length)if(i)$.each(n,function(n,i){i.end>=t&&(i.start>=t&&i.start++,i.end++)});else return r=[],u={},$.each(n,function(n,i){var f;i.end>=t&&(i.start>t&&(i.start=Math.max(1,i.start-1)),i.end=Math.max(1,i.end-1));i.start!==i.end&&(f=i.start+"_"+i.end,f in u||(u[f]=!0,r.push(i)))}),r;return n}function ti(n){function i(n,r){$.each(n,function(u,f){r?f!==r&&r.start<=f.start&&r.end>=f.end&&(i(n,f),r.level=Math.max(r.level,f.level+1),t=Math.max(t,r.level)):i(n,f)})}var t=0;return n&&n.length&&($.each(n,function(n,t){t.level=0}),i(n,null)),t}function w(n,t,i,r){var o,e,s,f=null,c,h,l;if(n&&(s=this.children,s&&(l=s.length)>0)){t=t||"/";do o=n.indexOf(t),o>=0?(e=n.substring(0,o),n=n.substring(o+t.length)):(e=n,n=null);while(n&&e===t);if(e){for(r=r||"text",i=i||u.localeIgnoreCaseComparer,h=0;h<l;h++)if(c=s[h],i(c[r],e)===0){f=c;break}if(f&&n){if(f.children)return w.call(f,n,t,i,r);f=null}}}return f}function b(n,t,i,r){var u=this.parent;return r=r||"root",u&&!n&&u[r]&&(u=null),i=i||"text",u?(t=t||"/",b.call(u,n,t,i,r)+t+this[i]):this[i]}function k(n){var t,r,i,u;if(n&&(n.call(this,this),i=this.children,i&&(r=i.length)))for(t=0;t<r;t++)u=i[t],k.call(u,n)}function ii(n,t){t===void 0&&(t=null);var r=$("head > link[rel=stylesheet]"),i={};$.each(r,function(n,t){var r=$(t).attr("href");r&&(i[r]=!0)});$.each(n,function(n,r){if(!i[r]){var u=(t||"")+r;i[u]||$("<link />").attr("rel","stylesheet").attr("href",u).appendTo($(document.head))}})}function d(n,t){var u=$(":tabbable"),r=$(n.target),f=u.index(r);for(t?t.call(r,n):r.click();!r.is(":visible:tabbable");)if(r=u.eq(f++),r)if(r.is(":visible:tabbable")){r.focus();break}else continue;else break;return!1}function ri(n,t){return n.addClass("propagate-keydown-event").attr("tabindex","0").keypress(function(n){if(n.keyCode===c.ENTER)return d(n,t)}).keyup(function(n){if(n.keyCode===c.SPACE)return d(n,t)})}function ui(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return g.instance().watermark(n,i)}var tt=i.log,c,st,a,ht,ct,vt,h,dt,gt,s,y,p,g,nt;t.getWheelDelta=it;t.enableElement=rt;t.makeElementUnselectable=ut;t.tryFocus=l;t.alignWidth=ft;t.isInDomTree=et;t.getCustomData=ot,function(n){n[n.ALT=18]="ALT";n[n.BACKSPACE=8]="BACKSPACE";n[n.CAPS_LOCK=20]="CAPS_LOCK";n[n.COMMA=188]="COMMA";n[n.CONTROL=17]="CONTROL";n[n.DELETE=46]="DELETE";n[n.DOWN=40]="DOWN";n[n.END=35]="END";n[n.ENTER=13]="ENTER";n[n.ESCAPE=27]="ESCAPE";n[n.HOME=36]="HOME";n[n.INSERT=45]="INSERT";n[n.LEFT=37]="LEFT";n[n.PAGE_DOWN=34]="PAGE_DOWN";n[n.PAGE_UP=33]="PAGE_UP";n[n.PERIOD=190]="PERIOD";n[n.RIGHT=39]="RIGHT";n[n.SEMI_COLON=186]="SEMI_COLON";n[n.FIREFOX_SEMI_COLON=59]="FIREFOX_SEMI_COLON";n[n.SHIFT=16]="SHIFT";n[n.SPACE=32]="SPACE";n[n.TAB=9]="TAB";n[n.UP=38]="UP";n[n.F1=112]="F1";n[n.F2=113]="F2";n[n.F10=121]="F10";n[n.IME_INPUT=229]="IME_INPUT";n[n.N=78]="N";n[n.P=80]="P";n[n.Q=81]="Q";n[n.S=83]="S";n[n.A=65]="A";n[n.C=67]="C";n[n.H=72]="H";n[n.T=84]="T";n[n.QUESTION_MARK=191]="QUESTION_MARK"}(t.KeyCode||(t.KeyCode={}));c=t.KeyCode,function(n){function t(n){return n.ctrlKey&&!n.altKey&&!n.shiftKey}function i(n){return n.ctrlKey||n.altKey||n.shiftKey}n.isExclusivelyCtrl=t;n.isModifierKey=i}(st=t.KeyUtils||(t.KeyUtils={}));a=250,function(n){n.HtmlNewLine="<BR>";n.BlurTimeout=a}(ht=t.Constants||(t.Constants={})),function(n){function t(t){var i=$("<div/>").attr("id",n._PROBE_ID).css("position","absolute").css("left","-50000px").css("top","-50000px").css("width","9em").css("height","18ex").css("overflow","auto").appendTo(t);return $("<div><\/div>").css("width","3in").css("height","36ex").appendTo(i),i}function i(t){t=t||$(document.body);var i=t.children("#"+n._PROBE_ID);return i.length===0&&(i=n._createProbe(t)),i}function r(){return n._getProbe().width()/9}function u(){return n._getProbe().height()/18}function f(){return $("div",n._getProbe()).width()/3}function e(t){var i=n._getProbe(t);return i.width()-i[0].clientWidth}function o(t){var i=n._getProbe(t);return i.height()-i[0].clientHeight}function s(t){t=t.toLowerCase();var i=parseInt(t,10);return t.indexOf("px")>0?i=Math.round(parseFloat(t)):t.indexOf("em")>0?i=Math.round(parseFloat(t)*n.getUnitEm()):t.indexOf("ex")>0?i=Math.round(parseFloat(t)*n.getUnitEx()):t.indexOf("in")>0?i=Math.round(parseFloat(t)*n.getUnitIn()):t.indexOf("mm")>0?i=Math.round(parseFloat(t)*n.getUnitIn()/25.4):t.indexOf("cm")>0&&(i=Math.round(parseFloat(t)*n.getUnitIn()/2.54)),i}n._PROBE_ID="tfs-measurement-probe";n._createProbe=t;n._getProbe=i;n.getUnitEm=r;n.getUnitEx=u;n.getUnitIn=f;n.getScrollbarWidth=e;n.getScrollbarHeight=o;n.getUnitAsPixel=s}(ct=t.Measurement||(t.Measurement={}));t.domElem=lt;t.htmlEncode=at,function(n){function u(n){return 0-n}function f(n){var t=$(window),i=t.height()+t.scrollTop();return n-i}function e(n,t){var i=$(window),f=t.leftOffsetPixels||0,r=n.left+t.elementMeasure-(i.width()+i.scrollLeft())+f,u=n.left-r;n.left=r>0?Math.max(0,u):Math.max(0,n.left);r>0&&u<0&&(t.adjustedWidth=Math.min(t.elementMeasure,i.width()+i.scrollLeft()))}function o(n,t){var r=$(window),u=n.left+t.elementMeasure-(r.width()+r.scrollLeft()),i;i=t.elementAlign==="left"?-t.elementMeasure:t.elementMeasure;n.left+=n.left<0?i+t.baseMeasure:u>0?i-t.baseMeasure:0}function s(t,i){var r,e=0,f,u;return r=t.top,f=n._topOverflow(r),f>0?(r=0,u=n._bottomOverflow(r+i.elementMeasure),u>0&&(e=u)):(u=n._bottomOverflow(r+i.elementMeasure),u>0&&(r-=u,f=n._topOverflow(r),f>0&&(r=0,e=f))),{top:r,shrink:e}}function h(t,i){var r,e,o,s,u,f;return r=t.top,o=i.elementAlign==="top"?-i.elementMeasure:i.elementMeasure,u=n._topOverflow(r),u>0?(r+=o+i.baseMeasure,f=n._bottomOverflow(r+i.elementMeasure),f>0&&(f>=u?(r=t.top,e=u):e=f)):(f=n._bottomOverflow(r+i.elementMeasure),f>0&&(s=i.baseAlign==="top"?i.baseMeasure:-i.baseMeasure,r+=o+s,u=n._topOverflow(r),u>0&&(u>=f?(r=t.top,e=f):(r=0,e=u)))),{top:r,shrink:e}}function i(n){var t,r;return!n||!n.length||n[0]===document?0:(t=n.css("position"),(t==="absolute"||t==="relative"||t==="fixed"||t==="-ms-device-fixed")&&(r=parseInt(n.css("zIndex"),10),r!==0&&!isNaN(r)))?r:i(n.parent())}function c(t,r,u){var st;u=$.extend({},u);var l=0,a=1,f,y,w,c,b,k,e,o,s,h,ht,ct,p,nt,tt,it,d,rt,ut,ft,et,g,ot=2e4;t=v(t);r=v(r);u.elementAlignmentMarker&&u.elementAlignmentMarker.length&&(s=u.elementAlignmentMarker);u.baseAlignmentMarker&&u.baseAlignmentMarker.length&&(h=u.baseAlignmentMarker);nt=u.supportScroll===!0;u.skipZIndexSetting||(st=r?i(r):0,st!==0&&(ot=ot+st),t.css("z-index",ot));nt&&(t[0].style.height="");y=t.outerWidth();w=t.outerHeight();c=r.offset();b=r.outerWidth();k=r.outerHeight();e=u.elementAlign||"left-top";o=u.baseAlign||"left-bottom";p=u.overflow||"fit-flip";u.alignToMarkerHorizontal&&h&&(c.left=h.offset().left,b=h.outerWidth());u.alignToMarkerVertical&&h&&(c.top=h.offset().top,k=h.outerHeight());o=o.split("-");o[l]==="right"&&(c.left+=b);o[a]==="bottom"&&(c.top+=k);f=$.extend({},c);u.alignToMarkerHorizontal&&s&&(ht=t.offset().left-s.offset().left,f.left+=ht,y=s.outerWidth());u.alignToMarkerVertical&&s&&(ct=t.offset().top-s.offset().top,f.top+=ct,w=s.outerHeight());e=e.split("-");e[l]==="right"&&(f.left-=y);e[a]==="bottom"&&(f.top-=w);f.left=Math.round(f.left);f.top=Math.round(f.top);p=p.split("-");it=n["_"+p[a].toLowerCase()+"Vertical"];it&&(d=it(f,{baseMeasure:k,baseAlign:o[a],elementMeasure:w,elementAlign:e[a]}),f.top=d.top,nt&&d.shrink>0&&(t.height(t.height()-d.shrink),y=t.outerWidth()));tt=n["_"+p[l].toLowerCase()+"Horizontal"];g={baseMeasure:b,baseAlign:o[l],elementMeasure:y,elementAlign:e[l],adjustedWidth:0,leftOffsetPixels:u.leftOffsetPixels};$.isFunction(tt)&&tt(f,g);rt=t.offset();ut=parseInt(jQuery.css(t[0],"top",!0),10)||0;ft=parseInt(jQuery.css(t[0],"left",!0),10)||0;u.leftOffsetPixels&&(ft+=u.leftOffsetPixels);u.topOffsetPixels&&(ut+=u.topOffsetPixels);et={top:f.top-rt.top+ut,left:f.left-rt.left+ft};g.adjustedWidth>0&&(et.width=g.adjustedWidth);t.css(et)}function l(n){for(var t=n.parent();t.length&&!(t.css("overflow-y")==="auto"||t.css("overflow-y")==="scroll");)t=t.parent();return t.length||(t=$(document)),t}function t(t,i,r,u,f){var e;switch(u){case n.VerticalScrollBehavior.Top:e=t;break;case n.VerticalScrollBehavior.Middle:e=t+(i-r.height())/2;break;case n.VerticalScrollBehavior.Bottom:e=t+i-r.height()}typeof e!="undefined"&&(f>0?r.animate({scrollTop:e},f):r.scrollTop(e))}function r(n,t){for(var i=n[0],f=!1,u=0;i;){if(t&&i===t[0]){f=!0;break}u+=i.offsetTop;i=i.offsetParent}return t&&!f&&(u-=r(t,null)),u}function a(i,u,f,e){var o=n.getVerticalScrollContainer(i),s=r(i,o),c,h,l;h=o.scrollTop();s<h?t(s,i.outerHeight(),o,u?u:n.VerticalScrollBehavior.Top,e):(c=s+i.outerHeight(),l=h+o.height(),c>l?t(s,i.outerHeight(),o,u?u:n.VerticalScrollBehavior.Bottom,e):f&&t(s,i.outerHeight(),o,u?u:n.VerticalScrollBehavior.Middle,e))}(function(n){n[n.Default=0]="Default";n[n.Top=1]="Top";n[n.Middle=2]="Middle";n[n.Bottom=3]="Bottom"})(n.VerticalScrollBehavior||(n.VerticalScrollBehavior={}));var y=n.VerticalScrollBehavior;n._topOverflow=u;n._bottomOverflow=f;n._fitHorizontal=e;n._flipHorizontal=o;n._fitVertical=s;n._flipVertical=h;n.position=c;n.getVerticalScrollContainer=l;n.scrollIntoViewVertical=a}(vt=t.Positioning||(t.Positioning={}));var yt=function(){function n(n,t){this.$element=n;this.handler=t}return n.prototype.execute=function(n,t){this.handler&&this.handler(n,t)},n.prototype.isMyParent=function(n){var t=!1,i=n.get(0);return i===window?!0:(this.$element.parents().each(function(){if(i===this)return t=!0,!1}),t)},n.prototype.owns=function(n){return this.$element.get(0)===n.get(0)},n}(),pt=function(){function n(){this.handlers=[];$(window).bind("resize.containerResizeManager",r.delegate(this,this.onResize))}return n.prototype.onResize=function(n,t){for(var r,f=$(n.target),i=0,u=this.handlers.length;i<u;i++)r=this.handlers[i],r.isMyParent(f)&&r.execute(n,t)},n.prototype.attach=function(n,t){this.handlers.push(new yt(n,t))},n.prototype.detach=function(n){for(var i=this.handlers||[],r,t=i.length-1;t>=0;t--)r=i[t],r.owns(n)&&i.splice(t,1)},n.prototype.dispose=function(){this.handlers=null;$(window).unbind("resize.containerResizeManager")},n}(),o=null;t.attachResize=wt;t.detachResize=bt;t.clearResizeHandlers=kt,function(n){function i(){var n=window.navigator.userAgent.toLowerCase();return t.getInstance().getBrowserInformation().mozilla&&n.indexOf("trident")===-1}function r(){return t.getInstance().getBrowserInformation().chrome}function u(){return t.getInstance().getBrowserInformation().mozilla}function f(){return t.getInstance().getBrowserInformation().msie}function e(){var n=window.navigator.userAgent.toLowerCase();return t.getInstance().getBrowserInformation().msie?!0:n.indexOf("trident")!==-1?!0:!1}function o(){return t.getInstance().getBrowserInformation().edge}function s(){return t.getInstance().getBrowserInformation().version}function h(i){if(n.isIE()){var r=0,u=window.navigator.userAgent.toLowerCase();return t.getInstance().getBrowserInformation().msie?r=Number(t.getInstance().getBrowserInformation().version):u.indexOf("trident")!==-1&&(r=11),i===r}return!1}function c(){if(n.isIE()){var i=Number(t.getInstance().getBrowserInformation().version);return i>0&&i<=9}return!1}function l(){if(n.isIE()){var i=Number(t.getInstance().getBrowserInformation().version);return i>0&&i<=8}return!1}function a(){return t.getInstance().getBrowserInformation().isMacintosh}function v(){return t.getInstance().getBrowserInformation().isWindows}var t=function(){function n(){}return n.getInstance=function(){return n._instance||(n._instance=new n,this._instance._initialize()),n._instance},n.prototype.getBrowserInformation=function(){return this._browserInformation},n.prototype._initialize=function(){var n,t,i,r,u;if(!this._browserInformation){if(this._browserInformation={},this._browserInformation.isWindows=navigator.platform.indexOf("Win")>-1,this._browserInformation.isMacintosh=navigator.userAgent.indexOf("Mac OS X")>-1,n=/edge\/([\d+.]+)/i.exec(navigator.userAgent),n){this._browserInformation.edge=!0;this._browserInformation.version=n[1];return}if(t=/msie ([\d+.]+)/i.exec(navigator.userAgent),t){this._browserInformation.msie=!0;this._browserInformation.version=t[1];return}if(i=/chrome\/([\d.]+)/i.exec(navigator.userAgent),i){this._browserInformation.chrome=!0;this._browserInformation.webkit=!0;this._browserInformation.version=i[1];return}if(r=/safari\/([\d.]+)/i.exec(navigator.userAgent),r){this._browserInformation.safari=!0;this._browserInformation.webkit=!0;this._browserInformation.version=r[1];return}if(u=/mozilla.*rv:([\d+.]+)/i.exec(navigator.userAgent),u){this._browserInformation.mozilla=!0;this._browserInformation.version=u[1];return}}},n}();n.isFirefox=i;n.isChrome=r;n.isMozilla=u;n.isMsie=f;n.isIE=e;n.isEdge=o;n.getVersion=s;n.isIEVersion=h;n.isLessThanOrEqualToIE9=c;n.isLessThanOrEqualToIE8=l;n.isMacintosh=a;n.isWindows=v}(h=t.BrowserCheckUtils||(t.BrowserCheckUtils={})),function(n){function t(){var t=null,n;return window.getSelection&&(n=window.getSelection(),n&&n.anchorNode&&n.focusNode&&(n.anchorNode!==n.focusNode||n.anchorOffset!==n.focusOffset)&&(t={$startNode:$(n.anchorNode),$endNode:$(n.focusNode),startNodeOffset:n.anchorOffset,endNodeOffset:n.focusOffset})),t}function i(n,t,i,u){var f,e;u&&n.focus();f=n[0];typeof f.selectionStart!="undefined"?(f.selectionStart=t,f.selectionEnd=i):r.documentSelection&&r.documentSelection.createRange&&(f.select(),e=r.documentSelection.createRange(),e.collapse(!0),e.moveStart("character",t),e.moveEnd("character",i),e.select())}n.getSelection=t;n.selectInputText=i}(dt=t.SelectionUtils||(t.SelectionUtils={})),function(n){function t(n,t){var r,i,u,f,e,o,c,s,h;if(t?u=t.document:(t=window,u=document),f=u.selection,t.getSelection){if(r=t.getSelection(),r.getRangeAt&&r.rangeCount){for(i=r.getRangeAt(0),i.deleteContents(),e=u.createElement("div"),e.innerHTML=n,o=u.createDocumentFragment(),h=u.createTextNode($("<div>&nbsp;<\/div>").text());c=e.firstChild;)s=o.appendChild(c);i.insertNode(o);s&&(i=i.cloneRange(),i.setStartAfter(s),i.collapse(!0),i.insertNode(h),i.selectNodeContents(h),r.removeAllRanges(),r.addRange(i))}}else f&&f.createRange&&f.createRange().pasteHTML(n)}n.pasteHtmlAtCaret=t}(gt=t.HtmlInsertionUtils||(t.HtmlInsertionUtils={})),function(n){n[n.None=0]="None";n[n.Ctrl=1]="Ctrl";n[n.Alt=2]="Alt";n[n.Shift=3]="Shift";n[n.CtrlShift=4]="CtrlShift";n[n.CtrlAlt=5]="CtrlAlt"}(t.HotKeyCombination||(t.HotKeyCombination={}));s=t.HotKeyCombination;y=function(){function n(){this._hotKeys=[];this._hotKeysMap={};$(document).bind("keyup.VSS_Global_KeyUp_Listener",r.delegate(this,this._onGlobalKeyDown))}return n.prototype.registerHotKey=function(n){var t=n.combination+":"+n.which;this._hotKeysMap[t]!==!0&&(this._hotKeysMap[t]=!0,this._hotKeys.push(n))},n.prototype.registerCtrlAltHotkey=function(n,t,i){this.registerHotKey({combination:s.CtrlAlt,which:n,displayText:t,handler:i})},n.prototype.dispose=function(){$(document).unbind("keyup.VSS_Global_KeyUp_Listener",r.delegate(this,this._onGlobalKeyDown));this._hotKeys=null;this._hotKeysMap=null},n.prototype._onGlobalKeyDown=function(n){var r,t,u,i,f;if(!this._modalDialogExists())for(r=this._hotKeys,t=0,u=r.length;t<u;t++)if(i=r[t],this._combinationSatisfied(n,i)&&n.which===i.which&&(f=i.handler(),f===!0)){n.stopPropagation();break}},n.prototype._combinationSatisfied=function(n,t){switch(t.combination){case s.Alt:return n.altKey&&!n.shiftKey&&!n.ctrlKey;case s.Ctrl:return!n.altKey&&!n.shiftKey&&n.ctrlKey;case s.Shift:return!n.altKey&&n.shiftKey&&!n.ctrlKey;case s.CtrlAlt:return n.altKey&&!n.shiftKey&&n.ctrlKey;case s.CtrlShift:return!n.altKey&&n.shiftKey&&n.ctrlKey;case s.None:return!n.altKey&&!n.shiftKey&&!n.ctrlKey;default:return!1}},n.prototype._modalDialogExists=function(){return $("body").children("div.ui-dialog").length>0},n}();t.globalHotKeyManager=new y;p=function(){function n(){this._index=0}return n.prototype.identifySections=function(){var n=this;$(".splitter").each(function(t,i){n._identify($(i).children(".leftPane"));n._identify($(i).children(".rightPane"))})},n.prototype.nextSection=function(){var n=this._getCurrentSectionIndex();return this._focusElement(n+1)},n.prototype.previousSection=function(){var n=this._getCurrentSectionIndex();return n>=1?this._focusElement(n-1):!1},n.prototype._identify=function(n){if(n.length>0){var t=this._index++;n.addClass("hotkey-section hotkey-section-"+t);n.data("hotkey-section-index",t)}},n.prototype._getCurrentSectionIndex=function(){if(document.activeElement){var n=$(document.activeElement).closest(".hotkey-section");if(n.length>0)return n.data("hotkey-section-index")}return-1},n.prototype._focusElement=function(n){var t=$(".hotkey-section-"+n+" :tabbable:first");return t.length>0?(t.focus(),!0):!1},n}();t.sectionManager=new p;t.updateFilterGroups=ni;t.updateFilterGroupLevels=ti;t.findTreeNode=w;t.calculateTreePath=b;t.walkTree=k;t.injectStylesheets=ii;t.accessible=ri;g=function(){function n(){this._watermarkWidgetSetup=!1;var n=document.createElement("input");this._useNativeWatermarkSupport="placeholder"in n}return n.instance=function(){return this._instance||(this._instance=new n),this._instance},n.prototype.nativeWatermarkSupported=function(){return this._useNativeWatermarkSupport},n.prototype.watermark=function(n,t){return this.nativeWatermarkSupported()?t.length>0&&(typeof t[0].watermarkText=="string"?n.attr("placeholder",t[0].watermarkText):t[0]==="focus"&&l(n)):(this._ensureWatermarkWidgetSetup(),n.Watermark.apply(n,t)),n},n.prototype._ensureWatermarkWidgetSetup=function(){function n(){jQuery.fn.valWatermark=jQuery.fn.val;jQuery.fn.val=function(n){if(this.hasClass("watermark"))if(n)this.removeClass("watermark");else return"";return jQuery.fn.valWatermark.apply(this,arguments)}}this._watermarkWidgetSetup||(n(),$.widget("TFS.Watermark",{options:{watermarkText:null},_create:function(){this.element.bind("blur",this,this.blurHandler);this.element.bind("focus",this,this.focusHandler);$("form").bind("submit",this,function(n){n.data._removeStyle()});this._applyStyle()},blurHandler:function(n){var t=n.data;t._applyStyle();t.element.unbind("keydown mousedown",t.focusHandler)},focusHandler:function(n){var t=n.data;t._removeStyle();t.element.unbind("keydown mousedown",t.focusHandler)},isActive:function(){return this.element.hasClass("watermark")},preventKeyDown:function(){return!1},focus:function(){this.element.unbind("focus",this.focusHandler);this.element.focus();this.element.bind("keydown",this.preventKeyDown);this._resetCaret();r.delay(this,h.isMsie()?50:0,function(){this.element.unbind("keydown",this.preventKeyDown);this.element.bind("focus keydown mousedown",this,this.focusHandler)})},_resetCaret:function(){if(this.element.get(0).setSelectionRange)try{this.element.get(0).setSelectionRange(0,0)}catch(n){}},reset:function(){this.element.addClass("watermark");this.element.valWatermark(this.options.watermarkText)},resetIfEmpty:function(){this.element.val()||this.reset()},_applyStyle:function(){var n=this.element.valWatermark();(n===""||n===this.options.watermarkText)&&this.reset()},_removeStyle:function(){this.isActive()&&(this.element.valWatermark(""),this._resetCaret(),this.element.removeClass("watermark"))}}),this._watermarkWidgetSetup=!0)},n}();t.Watermark=ui;nt=function(){function n(){}return n.execute=function(){e.isHighContrastMode()&&$("head > link[data-highcontrast]").each(function(){this.href=$(this).data("highcontrast")})},n}();$(function(){nt.execute()});f.tfsModuleLoaded("VSS.UI",t)});
// VSS/Controls //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Controls",["require","exports","q","VSS/Diag","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS"],function(n,t,i,r,u,f,e,o,s){function v(){return++b}function k(n,t,i,r){return c.create(n,t,i,r)}var a=s.getErrorMessage,p=f.delegate,w=o.domElem,b=0,h,c,y,l;t.getId=v;h=function(){function n(t,i){if(this._options={},this.getType()===n)throw new Error("You cannot instantiate an abstract type.");this.initializeOptions(t);this.setEnhancementOptions(i);this.getTypeName()}return n.getTypeName=function(n){return typeof n!="function"&&(n=this),n.enhancementTypeName?n.enhancementTypeName:n._typeName||"tfs.controls."+s.getTypeName(n)},n.getOptionPrefix=function(t){for(var i=t;i;){if(i.hasOwnProperty(n.ENHANCEMENT_OPTIONPREFIX_KEY))return i[n.ENHANCEMENT_OPTIONPREFIX_KEY];i=i._base}return""},n.getEnhancementOptions=function(t,i){var r,e,o,s,u,h=[],c;for(typeof t!="function"&&(i=t,t=this),e=n.getOptionPrefix(t)||"",r=i.data(e+"options"),r||(o=i.children("."+e+"options"),o.length>0&&(s=o.html(),s&&(r=f.parseMSJSON(s,!1)))),u=t;u;)u.hasOwnProperty("initializeEnhancementOptions")&&h.push(u.initializeEnhancementOptions),u=u._base;while(h.length>0)c=h.pop(),$.isFunction(c)&&(r=c.call(t,i,r));return r},n.enhance=function(t,i,r,u){var f,e,s,o;return e=typeof i!="string"&&i instanceof n?i.getElement():$(i),s=e.data(n.ENHANCEMENTS_DATA_KEY),s&&$.each(s,function(i,r){if(r instanceof t||r._typeName===n.getTypeName(t))return f=r,!1}),f||(o=typeof r=="function"?r.call(t,e):r,o=$.extend(n.getEnhancementOptions(t,e),o),f=new t(o,u),f.enhance(e)),f},n.getInstance=function(n,t){return this.getInstanceO(n,t)},n.getInstanceO=function(t,i){var u,r;return typeof t!="function"&&(i=t,t=this),r=i.data(n.ENHANCEMENTS_DATA_KEY),r&&$.each(r,function(i,r){if(r instanceof t||r._typeName===n.getTypeName(t))return u=r,!1}),u},n.registerEnhancement=function(t,i,u,f,o){function c(r){var e=[],f;return r&&(f=$(r)),f&&f.is(i)||(f=$(i,f)),f.each(function(){e.push(n.enhance(t,$(this),u,o))}),e}var h=n.getTypeName(t);$(function(){try{c(document);r.logTracePoint("Enhancement.registered-complete",[i,h])}catch(n){if(r.logTracePoint("Enhancement.register-exception",n),f){var t=new Error(e.format("Enhancement failed for '{0}'. Details: {1}",h,a(n)));t.name="EnhancementFailed";s.handleError(t,f)}else throw n;}});r.logTracePoint("Enhancement.registered-pending",[i,h]);n.enhancementList.push({typeName:h,enhancement:c})},n.ensureEnhancements=function(t,i,u){var o,h,l,c=[],f;for(typeof t!="function"&&(u=i,i=t,t=this),h=0,l=n.enhancementList.length;h<l;h++)if(o=n.enhancementList[h],t===n||o.typeName===n.getTypeName(t))try{c=c.concat(o.enhancement(i)||[])}catch(v){if(f=new Error(e.format("Enhancement failed for '{0}'. Details: {1}",o.typeName,a(v))),f.name="EnhancementFailed",r.logTracePoint("Enhancement.ensure-exception",f),u)s.handleError(f,u);else throw f;}return c},n.ensureEnhancement=function(t,i,r){return typeof t!="function"&&(r=i,i=t,t=this),n.ensureEnhancements(t,i,r)[0]},n.registerJQueryWidget=function(t,i,u,f){var e;typeof t=="string"&&(u=i,i=t,t=this);i||(i=t._widgetName,i||(e=n.getTypeName(t),i=e.split("."),i=i[i.length-1]));$.fn[i]=function(i){return this.each(function(){n.enhance(t,$(this),$.extend(u||{},i),f)})}},n.prototype._getUniqueId=function(){return v().toString()},n.prototype.getId=function(){return this._id||this._setId(this._getUniqueId()),this._id},n.prototype._setId=function(n){this._id=n},n.prototype.setEnhancementOptions=function(n){if(this._enhancementOptions)$.extend(this._enhancementOptions,n);else{var t=this._options&&this._options.earlyInitialize;this._enhancementOptions=$.extend({},{earlyInitialize:t!==undefined?t:!0},n)}},n.prototype.getTypeName=function(){return this._typeName||(this._typeName=n.getTypeName(this.getType())),this._typeName},n.prototype._getEventNameSpace=function(){return this._eventNamespace||(this._eventNamespace=this.getTypeName().replace(/\./g,"_")+this.getId()),this._eventNamespace},n.prototype.getType=function(){return this.constructor},n.prototype.initializeOptions=function(n){this._options?$.extend(this._options,n):this._options=$.extend({},n)},n.prototype.initialize=function(){this._initialized=!0},n.prototype._ensureInitialized=function(){return this._initialized?!1:(this.initialize(),!0)},n.prototype._attemptInitialize=function(){this._getEnhancementOption("earlyInitialize")&&this.initialize()},n.prototype.enhance=function(n){this._enhance(n);this._attemptInitialize()},n.prototype._enhance=function(n){this._setElement(n)},n.prototype._setElement=function(t){var r=this.getType(),i;this._element!==t&&(this._cleanup(),this._element=t,this._bind("remove.remove_"+this.getTypeName(),p(this,this._dispose)),i=this._element.data(n.ENHANCEMENTS_DATA_KEY),i||(i=[],this._element.data(n.ENHANCEMENTS_DATA_KEY,i)),u.add(i,this),this._setStyles())},n.prototype._setStyles=function(){this._getEnhancementOption("coreCssClass")&&this._element.addClass(this._getEnhancementOption("coreCssClass"));this._getEnhancementOption("cssClass")&&this._element.addClass(this._getEnhancementOption("cssClass"))},n.prototype.getElement=function(){return this._element},n.prototype._fire=function(n,t,i){return typeof n=="string"&&(i=t,t=n,n=this._element),n.trigger(t,i)},n.prototype._bind=function(n,t,i,r){var u,f=this,e;return typeof n=="string"&&(r=i,i=t,t=n,n=this._element),u=$(n),u.length>0&&(e=this._getEventNameSpace(),u.bind($.map(t.split(" "),function(n){return n+"."+e}).join(" "),i),r&&u.each(function(){this!==f._element[0]&&f._trackElement(this)})),this},n.prototype._unbind=function(n,t,i,r){var u,f=this,e;return typeof n=="string"&&(i=r,r=t,t=n,n=this._element),u=$(n),u.length>0&&(e=this._getEventNameSpace(),u.unbind($.map(t.split(" "),function(n){return n+"."+e}).join(" "),i),r&&u.each(function(){this!==f._element[0]&&f._untrackElement(this)})),this},n.prototype.delayExecute=function(n,t,i,r){var u;if(!n){f.delay(this,t,r);return}this._delayedFunctions||(this._delayedFunctions={});u=this._delayedFunctions[n];u?(u.setDelay(t),u.setMethod(this,r)):(u=new f.DelayedFunction(this,t,n,r),this._delayedFunctions[n]=u);i?u.reset():u.start()},n.prototype.cancelDelayedFunction=function(n){var t;return this._delayedFunctions&&(t=this._delayedFunctions[n],t)?(t.cancel(),!0):!1},n.prototype._cleanup=function(){var i=this.getType(),t;this._element&&(this._unbind("remove.remove_"+this.getTypeName()),this._element.unbind("."+this._getEventNameSpace()),t=this._element.data(n.ENHANCEMENTS_DATA_KEY),t&&(u.remove(t,this),t.length===0&&this._element.data(n.ENHANCEMENTS_DATA_KEY,null)))},n.prototype._dispose=function(){var t=this._trackedElements,n,i;if(t)for(n=0,i=t.length;n<i;n++)$(t[n]).unbind("."+this._getEventNameSpace());this._trackedElements=null;this._disposed=!0},n.prototype.dispose=function(){this._cleanup();this._dispose()},n.prototype.isDisposed=function(){return this._disposed},n.prototype._getEnhancementOption=function(n){return this._enhancementOptions[n]||this._options[n]},n.prototype._trackElement=function(n){var t=this._trackedElements,i,u,r,f;for(t||(this._trackedElements=t=[]),i=0,u=t.length;i<u;i++)if(r=t[i],r.elem===n){r.count++;f=!0;break}f||t.push({elem:n,count:1})},n.prototype._untrackElement=function(n){var i=this._trackedElements,t,f,r,u=-1;if(i){for(t=0,f=i.length;t<f;t++)if(r=i[t],r.elem===n){r.count--;u=t;break}u>=0&&(r.count||i.splice(u))}},n.ENHANCEMENTS_DATA_KEY="tfs-enhancements",n.ENHANCEMENT_OPTIONS_KEY="tfs-enhancement-options",n.ENHANCEMENT_OPTIONPREFIX_KEY="optionsPrefix",n.optionsPrefix="",n.enhancementList=[],n}();t.Enhancement=h;s.initClassPrototype(h,{_id:"",_typeName:"",_eventNamespace:"",_options:null,_initialized:!1,_element:null,_trackedElements:null,_delayedFunctions:null,_disposed:!1});t.create=k;c=function(n){function t(t){n.call(this,t);this._overlay=null}return __extends(t,n),t.create=function(n,i,r,u){return t.createIn(n,i,$.extend({},r,u))},t.createIn=function(n,t,i,r){r===void 0&&(r=!1);var u,f;return r?(n=this,u=new n(t,i)):(typeof n!="function"&&(i=t,t=n,n=this),u=new n(i)),f=t instanceof h?t.getElement():$(t),u.createIn(f),u},t.prototype.initializeOptions=function(n){$.extend(this._options,{tagName:"div"},n)},t.prototype._getUniqueId=function(){var t;return this._element&&(t=this._element.attr("id")),typeof t=="undefined"&&(t=n.prototype._getUniqueId.call(this)),t},t.prototype._setId=function(t){this._element&&this._element.attr("id",t);n.prototype._setId.call(this,t)},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._element&&(this._element.remove(),this._element=null)},t.prototype.showElement=function(){this._element.show()},t.prototype.hideElement=function(){this._element.hide()},t.prototype.enableElement=function(n){n?(this._element.removeAttr("disabled"),this._element.removeClass("disabled")):(this._element.attr("disabled","disabled"),this._element.addClass("disabled"))},t.prototype.showBusyOverlay=function(){return this._overlay||(this._overlay=$("<div />").addClass("control-busy-overlay").appendTo(this._element.parent())),this._overlay.show(),this._overlay},t.prototype.hideBusyOverlay=function(){this._overlay&&this._overlay.hide()},t.prototype._createElement=function(){var n=$(w(this._getEnhancementOption("tagName")));this._setElement(n)},t.prototype._initializeElement=function(){this._element&&this._getEnhancementOption("id")&&this._setId(this._getEnhancementOption("id").toString())},t.prototype._setStyles=function(){var t=this._element,i=this._options;this._getEnhancementOption("width")&&t.width(this._getEnhancementOption("width"));this._getEnhancementOption("height")&&t.height(this._getEnhancementOption("height"));this._getEnhancementOption("title")&&t.attr("title",this._getEnhancementOption("title"));this._getEnhancementOption("role")&&t.attr("role",this._getEnhancementOption("role"));n.prototype._setStyles.call(this)},t.prototype.createIn=function(n){this._createIn(n);this._initializeElement();this._attemptInitialize()},t.prototype._createIn=function(n){this._createElement();this._getEnhancementOption("prepend")?n.prepend(this._element):n.append(this._element)},t.prototype.focus=function(){this._element.focus()},t.prototype._fireChange=function(n){var t;return(n=n||this,typeof this._getEnhancementOption("change")=="function"&&(t=arguments,t[0]=n,t.length=arguments.length||1,this._getEnhancementOption("change").apply(n,t)===!1))?!1:this._fire("change",n)},t.prototype._getInDomPromise=function(){if(!this._elementInDomPromise){var n=i.defer();this._elementInDomPromise=n.promise;this._waitForElementInDom(n)}return this._elementInDomPromise},t.prototype._waitForElementInDom=function(n){var t=this;this._disposed||(o.isInDomTree(this._element[0])?n.resolve(null):window.setTimeout(function(){t._waitForElementInDom(n)},100))},t}(h);t.Control=c;y=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(c);t.BaseControl=y;l=function(){function n(n){this._options=$.extend({sorted:!1,comparer:e.localeIgnoreCaseComparer},n);this.setSource(this._options.source)}return n.prototype.setSource=function(n){this._source=n;this._items=null;this._allItems=null},n.prototype.getSource=function(){return this._source},n.prototype.prepareSource=function(n){var t=n||[];this._options.sorted&&u.sortIfNotSorted(t,this._options.comparer||e.localeIgnoreCaseComparer);this.setItems(t)},n.prototype.getComparer=function(){return this._options.comparer},n.prototype.ensureItems=function(){var n;this._items||(n=this._source,$.isFunction(n)&&(n=n.call(this)),this.prepareSource(n))},n.prototype.getItems=function(n){return this.ensureItems(),n?this._allItems:this._items},n.prototype.setItems=function(n,t){this._items=n||[];this._allItems=t||this._items},n.prototype.getCount=function(n){return this.getItems(n).length},n.prototype.getItem=function(n,t){return this.getItems(t)[n]},n.prototype.getItemText=function(n,t){return this.getItem(n,t)+""},n.prototype.getItemIndex=function(n,t,i){var r=this._getItemIndexesInternal(n,t,i,!0);return r.length>0?r[0]:-1},n.prototype.getItemIndexes=function(n,t,i){return this._getItemIndexesInternal(n,t,i)},n.prototype._getItemIndexesInternal=function(n,t,i,r){var f=[],o,u,s=this._getInputTextToItemComparer(t),h,c,e;if(!n)return f;if(o=this.getItems(i),this._options.sorted){for(c=0,h=o.length-1;h>=c;)if(u=c+h>>1,e=s(u,n,i),e<0)h=u-1;else if(e>0)c=u+1;else break;while(u>0&&s(u-1,n,i)===0)u--;for(u;u<o.length;u++)if(e=s(u,n,i),e===0){if(f.push(u),r)return f}else if(e<0)break;return f}for(u=0;u<o.length;u++)if(s(u,n,i)===0&&(f.push(u),r))return f;return f},n.prototype._getInputTextToItemComparer=function(n){var t=this;return $.isFunction(this._options.compareInputToItem)?function(n,i,r){return t._options.compareInputToItem(t.getItem(n,r),i)}:n?function(n,i,r){return t._options.comparer(i,t.getItemText(n,r).substr(0,i.length))}:function(n,i,r){return t._options.comparer(i,t.getItemText(n,r))}},n.prototype.nextIndex=function(n,t,i){var r=this.getCount(i);return r<1?-1:n<0?0:t>0?n===r-1?-1:Math.min(r-1,n+t):n===0?-1:Math.max(0,n+t)},n}();t.BaseDataSource=l;s.initClassPrototype(l,{_options:null,_source:null,_items:null,_allItems:null});s.tfsModuleLoaded("VSS.UI.Controls",t)});
// VSS/Events/Handlers //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("VSS/Events/Handlers",["require","exports","VSS/Utils/Array"],function(n,t,i){function u(n,t,r,u){var e,f,o;if(n&&n.length>0)for(e=i.clone(n),f=e.length-1;f>=0;f--)if(o=e[f](t,r),u&&u(o))break}var o=function(){function n(){this._namedHandlers={}}return n.prototype.subscribe=function(n,t){this._getOrCreateHandlerList(n).subscribe(t)},n.prototype.unsubscribe=function(n,t){this._getOrCreateHandlerList(n).unsubscribe(t)},n.prototype.invokeHandlers=function(n,t,i,r){var f=this._namedHandlers[(n||"").toUpperCase()];f&&u(f.getHandlers(),t,i,r)},n.prototype._getOrCreateHandlerList=function(n){var t=this._namedHandlers[(n||"").toUpperCase()];return t||(t=new r,this._namedHandlers[(n||"").toUpperCase()]=t),t},n}(),f,r,e;t.NamedEventCollection=o;f=function(){function n(){}return n.prototype.getHandlers=function(){return this._handlers||(this._handlers=new r),this._handlers},n.prototype.invokeHandlers=function(n,t,i){this._handlers&&u(this._handlers.getHandlers(),n,t,i)},n}();t.Event=f;r=function(){function n(n){this._handlers=n}return n.prototype.subscribe=function(n){this._handlers||(this._handlers=[]);n&&this._handlers.push(n)},n.prototype.unsubscribe=function(n){this._handlers&&(this._handlers=this._handlers.filter(function(t){return t!==n}))},n.prototype.getHandlers=function(){return this._handlers||[]},n}();t.EventHandlerList=r;e=function(){function n(n,t,i){this._commandName=n;this._commandArgument=t;this._commandSource=i}return n.prototype.get_commandName=function(){return this._commandName},n.prototype.get_commandArgument=function(){return this._commandArgument},n.prototype.get_commandSource=function(){return this._commandSource},n}();t.CommandEventArgs=e});
// VSS/Events/Services //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("VSS/Events/Services",["require","exports","VSS/Events/Handlers","VSS/Service"],function(n,t,i,r){function f(){return r.getLocalService(u)}var u=function(){function n(){}return n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype.attachEvent=function(n,t){this._events||(this._events=new i.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n.prototype._fireEvent=function(n,t,i){if(this._events){var r;if(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r)return!1}},n}();t.EventService=u;t.getService=f});
// VSS/Controls/Validation //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Controls/Validation",["require","exports","VSS/Controls","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/Number","VSS/Utils/String","VSS/VSS","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s){function d(n,t,i){function u(t,i,u,f){u&&u!=="*"&&u!==n||f||r.push(i)}var r=[];return $(i||window.document.body).bind(h.EVENT_VALIDATE_STATUS,u),$(i||window.document.body).trigger(h.EVENT_VALIDATE,[n]),$(i||window.document.body).unbind(h.EVENT_VALIDATE_STATUS,u),r.length&&t&&$.each(r,function(n,i){t.push(i)}),r.length===0}var c=u.delegate,h=function(n){function t(r){if(n.call(this,r),this.getType()===t)throw new Error("You cannot instantiate an abstract type.");this.instanceId="val_"+i.getId()}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({invalidCssClass:"invalid",message:"Invalid input value!",group:"*",allowEmptyString:!1},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._bind("change",c(this,this.onChanged));this._onValidationRequiredDelegate=c(this,this.onValidationRequired);this._bind(window.document.body,t.EVENT_VALIDATE,this._onValidationRequiredDelegate,!0);this._options.bindtokeystrokes&&this._bind("keyup",c(this,this.onKeyUp))},t.prototype.dispose=function(){this._onValidationRequiredDelegate&&this._unbind(window.document.body,t.EVENT_VALIDATE,this._onValidationRequiredDelegate,!0);n.prototype.dispose.call(this)},t.prototype.getValue=function(){return this._element.val()},t.prototype.isValid=function(){return!0},t.prototype.getValidationGroup=function(){return this._options.group},t.prototype.getMessage=function(){var n=this._options.message;return n&&typeof n=="function"&&(n=n.call(this)),n},t.prototype.onKeyUp=function(){this.validate()},t.prototype.onChanged=function(){this.validate()},t.prototype.onValidationRequired=function(n,t){t&&t!=="*"&&t!==this._options.group||this.validate()},t.prototype.validate=function(){var n,i;this._disposed||(n=this._testEmptyString()||this.isValid(),i=this.getValidationGroup(),this._element.toggleClass(this._options.invalidCssClass,!n),this._fire(t.EVENT_VALIDATE_STATUS,[this,i,n]))},t.prototype._testEmptyString=function(){return this._options.allowEmptyString&&this.getValue()===""},t.optionsPrefix="validator",t.EVENT_VALIDATE="validate",t.EVENT_VALIDATE_STATUS="validate-status",t}(i.Enhancement),a,v,y,p,w,b,k,l;t.BaseValidator=h;s.initClassPrototype(h,{instanceId:null});a=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value cannot be empty!"},t))},t.prototype.isValid=function(){return $.trim(this.getValue())?!0:!1},t.optionsPrefix="requiredValidator",t}(h);t.RequiredValidator=a;i.Enhancement.registerEnhancement(a,".validate.required");v=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Out of range"},t))},t.prototype.isValid=function(){var n=this.getValue(),t=this._element.data("rangeValidator-min"),i=this._element.data("rangeValidator-max");return n>=t&&n<=i},t.prototype.getMessage=function(){var n=this.getValue(),t=this._element.data("rangeValidator-min"),i=this._element.data("rangeValidator-max");return n<t?"Input cannot be smaller than "+t:n>i?"Input cannot be greater than "+i:void 0},t.optionsPrefix="rangeValidator",t}(h);t.RangeValidator=v;i.Enhancement.registerEnhancement(v,".validate.range");y=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value doesn't match regex",testEmptyString:!0},t))},t.prototype.isValid=function(){var n,t;return(t=this._options.regex||this._element.data("regexValidator-regex"),t&&(n=this.getValue(),this._options.testEmptyString||$.trim(n)))?new RegExp(t).test(n):!0},t.prototype.getMessage=function(){return this._element.data("regexValidator-message")||this._options.message},t.optionsPrefix="regexValidator",t}(h);t.RegexValidator=y;i.Enhancement.registerEnhancement(y,".validate.regex");p=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value doesn't satisfy function",testEmptyString:!0,validate:function(){return!0}},t))},t.prototype.isValid=function(){var n,t;return(t=this._options.validate,typeof t=="function"&&(n=this.getValue(),this._options.testEmptyString||$.trim(n)))?t(n):!0},t.prototype.setValidate=function(n){this._options.validate=n},t.prototype.getMessage=function(){return this._element.data("customValidator-message")||this._options.message},t.optionsPrefix="customValidator",t}(h);t.CustomValidator=p;i.Enhancement.registerEnhancement(p,".validate.custom");w=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value must be a valid date",parseFormat:""},t))},t.prototype.isValid=function(){var t=$.trim(this.getValue()),n;if(t)n=f.parseDateString(t,this._options.parseFormat);else return!0;return n instanceof Date&&!isNaN(n)},t.prototype.getMessage=function(){return this._element.data("dateValidator-message")||this._options.message},t.optionsPrefix="dateValidator",t}(h);t.DateValidator=w;i.Enhancement.registerEnhancement(w,".validate.date");b=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.isValid=function(){var t=this.getValue(),n=this._getBounds();return this.isWithinBounds(t,n.max,n.min)},t.prototype.isWithinBounds=function(n,t,i){var u=e.parseLocale(n),f=!1,r=parseInt(""+u,10),o=parseFloat(""+u);return!isNaN(u)&&r===o&&isFinite(r)&&i<=r&&t>=r&&(f=!0),f},t.prototype.getMessage=function(){var n=this._getBounds();return o.format(r.Validation_IntegerRange,n.min,n.max)},t.prototype._getBounds=function(){var n,t;return n=this._options.minValue!==undefined?this._options.minValue:Number(this._element.data("integerRangeValidator-min")),t=this._options.maxValue!==undefined?this._options.maxValue:Number(this._element.data("integerRangeValidator-max")),{min:n,max:t}},t.optionsPrefix="integerRangeValidator",t}(h);t.IntegerRangeValidator=b;i.Enhancement.registerEnhancement(b,".validate.integerRange");k=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:o.format("Input cannot exceed {0} characters.",t.maxLength)},t))},t.prototype.isValid=function(){return this.getValue().length>this._options.maxLength?!1:!0},t.optionsPrefix="maxLengthValidator",t}(h);t.MaxLengthValidator=k;i.Enhancement.registerEnhancement(k,".validate.maxlength");l=function(n){function t(t){n.call(this,t);this._messages={};t.fixedHeight&&(this._fixedHeight=!0);t.singleMessage&&(this._singleMessage=!0);t.showAsWarning&&(this._showAsWarning=!0)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"validation-summary",group:"*"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._bind(this._options.context||window.document.body,h.EVENT_VALIDATE_STATUS,c(this,this.onValidationStatus),!0)},t.prototype.onValidationStatus=function(n,t,i,r){delete this._messages[t.instanceId];i&&i!=="*"&&i!==this._options.group||(r||(this._messages[t.instanceId]=t.getMessage()),this._updateUI())},t.prototype.validate=function(){try{this._messages={};this._ignoreUIUpdate=!0;this._fire(this._options.context||window.document.body,h.EVENT_VALIDATE,[this._options.group])}finally{this._ignoreUIUpdate=!1}this._updateUI()},t.prototype._updateUI=function(){var n=this,t=!1,i;this._ignoreUIUpdate||(this._element.empty(),$.each(this._messages,function(i,r){return(t=!0,n._element.append($("<div />").text(r||"")),n._singleMessage)?!1:!0}),i=n._showAsWarning?"invalid-warning":"invalid",this._element.toggleClass(i,t),this._element.toggleClass("fixed-height",n._fixedHeight))},t}(i.Control);t.ValidationSummary=l;s.initClassPrototype(l,{_messages:null,_ignoreUIUpdate:!1,_fixedHeight:!1,_singleMessage:!1,_showAsWarning:!1});i.Enhancement.registerEnhancement(l,".validation-summary");t.validateGroup=d;s.tfsModuleLoaded("VSS.UI.Controls.Validation",t)});
// VSS/Controls/Virtualization //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Controls/Virtualization",["require","exports","VSS/Controls","VSS/Utils/Core","VSS/Utils/UI","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u){var f=r.delegate,e=u.domElem,o=function(n){function t(){n.apply(this,arguments);this._firstVisible=0;this._selectedIndex=-1;this._rowHeight=20;this._ignoreScrollEvent=!1;this._enableMouseOver=!0;this._prevMousePos="";this.visibleRowCount=1}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"virtualizing-list-view",maxRowCount:8,selectedIndex:-1},t))},t.prototype.initialize=function(){this._bind("click",f(this,this._onClick));this._itemsContainer=$(e("ul","items"));this._bind(this._itemsContainer,"mouseover",f(this,this._onMouseOver));this._bind(this._itemsContainer,"mousemove",f(this,this._onMouseMove));this._options.preventMouseDown&&this._bind(this._itemsContainer,"mousedown",function(n){return n.preventDefault()});this._bind(this._itemsContainer,u.BrowserCheckUtils.isFirefox()?"DOMMouseScroll":"mousewheel",f(this,this._onMouseWheel));this._element.append(this._itemsContainer);this._scrollContainer=$(e("div","scroller"));this._bind(this._scrollContainer,"scroll",f(this,this._onScroll));this._scrollSpacer=$(e("div","content-spacer"));this._scrollContainer.append(this._scrollSpacer);this._element.append(this._scrollContainer);this._dataSource=this._options.dataSource;this._selectedIndex=this._options.selectedIndex;this.update();this._enableMouseOver=!0;n.prototype.initialize.call(this)},t.prototype.update=function(){var t=this._dataSource.getCount(),n;this.visibleRowCount=Math.min(t,this._options.maxRowCount);this._selectedIndex>=0&&(this._selectedIndex=Math.min(this._selectedIndex,t-1));this._setVisibleBounds(this._selectedIndex);this._drawItems();n=this._itemsContainer.outerHeight();this._element.height(n);this._setupScrollbar(n)},t.prototype.scrollItemIntoView=function(n){this._setVisibleBounds(n);this._drawItems();this._updateScrollbar()},t.prototype.selectNext=function(n){var t=this._dataSource.nextIndex(this._selectedIndex,n?this.visibleRowCount:1,null);return t>=0?(this.setSelectedIndex(t),this._fireSelectionChanged(),!0):!1},t.prototype.selectPrev=function(n){var t=this._dataSource.nextIndex(this._selectedIndex,-(n?this.visibleRowCount:1),null);return t>=0?(this.setSelectedIndex(t),this._fireSelectionChanged(),!0):!1},t.prototype.getSelectedIndex=function(){return this._selectedIndex},t.prototype.setSelectedIndex=function(n,t){this._selectedIndex!==n&&(this._selectedIndex=n,t||this.scrollItemIntoView(n))},t.prototype._setVisibleBounds=function(n){n=n||0;n<=this._firstVisible?this._firstVisible=Math.max(0,n):n>=this._firstVisible+this.visibleRowCount&&(this._firstVisible=Math.max(0,Math.min(n,this._dataSource.getCount()-this.visibleRowCount)));this._firstVisible=Math.max(0,Math.min(this._firstVisible,this._dataSource.getCount()-this.visibleRowCount))},t.prototype._createItem=function(n){var t=this._dataSource.getItemText(n)||"",i=$(e("li",this._options.itemCss)).attr("title",t);return t&&$.isFunction(this._options.getItemContents)?i.append(this._options.getItemContents(t)):i.text(t),i},t.prototype._drawItems=function(){var n,t;this._itemsContainer.empty();var r=this._options.createItem||this._createItem,i=this._firstVisible,u=Math.min(i+this.visibleRowCount,this._dataSource.getCount());for(n=i;n<u;n++)t=r.call(this,n),t.data("index",n),this._itemsContainer.append(t);this._updateItemStyles();this._enableMouseOver=!1},t.prototype._updateItemStyles=function(){var n=this._firstVisible,t=this._selectedIndex;this._itemsContainer.children("li").each(function(i){$(this).toggleClass("selected",i+n===t)})},t.prototype._setupScrollbar=function(n){var t=this._dataSource.getCount(),i=this.visibleRowCount<t;this._element.toggleClass("scroll",i);i&&(this._rowHeight=(n||this._itemsContainer.outerHeight())/this.visibleRowCount,this._scrollSpacer.height(this._rowHeight*t),this._updateScrollbar())},t.prototype._updateScrollbar=function(){try{this._ignoreScrollEvent=!0;this._scrollContainer.scrollTop(this._rowHeight*this._firstVisible)}finally{this._ignoreScrollEvent=!1}},t.prototype._onScroll=function(){var n=this._dataSource.getCount();return this._ignoreScrollEvent||(this._firstVisible=Math.max(0,Math.min(Math.floor(this._scrollContainer.scrollTop()/this._rowHeight),n-this.visibleRowCount)),this._drawItems()),!1},t.prototype._onMouseMove=function(n){var t=n.screenX+"-"+n.screenY;this._prevMousePos&&this._prevMousePos===t||(this._prevMousePos=t,this._enableMouseOver=!0)},t.prototype._onMouseOver=function(n){var i=$(n.target),t;this._enableMouseOver&&(this._enableMouseOver=!1,t=i.closest("li"),t.length&&(this._selectedIndex=t.data("index"),this._updateItemStyles()))},t.prototype._onMouseWheel=function(n){var t=u.getWheelDelta(n);if(t!==0)return this._firstVisible=Math.max(0,Math.min(this._firstVisible+(t>0?-1:1),this._dataSource.getCount()-this.visibleRowCount)),this.scrollItemIntoView(this._firstVisible),!1},t.prototype._onClick=function(n){var r=$(n.target),t=r.closest("li"),i;if(t.length){if(i=t.data("index"),this._options.itemClick&&this._options.itemClick.call(this,n,i,r,t)===!1)return!1;this.setSelectedIndex(i);this._updateItemStyles();this._fireSelectionChanged(!0)}},t.prototype._fireSelectionChanged=function(n){this._options.selectionChange&&this._options.selectionChange.call(this,this._selectedIndex,n)},t}(i.BaseControl);t.VirtualizingListView=o});
// VSS/Controls/Combos //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Controls/Combos",["require","exports","VSS/Controls","VSS/Utils/Culture","VSS/Diag","VSS/Events/Services","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/String","VSS/Utils/UI","VSS/Controls/Validation","VSS/Controls/Virtualization","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function it(n,t){var i=$.extend({},n);return t&&$.each(t,function(n,t){delete i[t]}),i}var y=o.delegate,b=c.domElem,v=c.KeyCode,rt,k,d,g,ut,p,nt,tt,lt,w,ft,et,ot,st,ht,ct;t.extendWithout=it;rt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(i.BaseDataSource);t.ListDataSource=rt;k=function(){function n(n,t){this.combo=n;this._options=t||{};this._onForceHideDropPopupDelegate=y(this,this.onForceHideDropPopup)}return n.prototype.initialize=function(){this._options.source&&this.setSource(this._options.source)},n.prototype.dispose=function(){this.hideDropPopup()},n.prototype.setMode=function(n){this._options.mode=n},n.prototype.canType=function(){return!0},n.prototype.getValue=function(){return null},n.prototype.getDropPopup=function(){return this._dropPopup},n.prototype.getDataSource=function(){return this._dataSource},n.prototype.getDropOptions=function(){return $.extend({combo:this.combo,anchor:this.combo.getElement(),host:this.combo.getElement(),width:this.getDropWidth(),dropElementAlign:"left-top",dropBaseAlign:"left-bottom",dataSource:this._dataSource},this._options.dropOptions)},n.prototype.getDropWidth=function(){return this.combo.getElement().innerWidth()},n.prototype.showDropPopup=function(){var t=this._options.dropControlType,n;return(this._dropPopup&&this.hideDropPopup(),t)?(n=this.getDropOptions(),n.width=this.getDropWidth(),this._attachGlobalEvents(),this._dropPopup=i.BaseControl.createIn(t,n.host||$(document.body),n),this._options.dropShow&&this._options.dropShow(this._dropPopup),!0):!1},n.prototype.hideDropPopup=function(){if(this._dropPopup){if(this._detachGlobalEvents(),!this._options.dropHide||this._options.dropHide(this._dropPopup))return this._dropPopup.dispose(),this._dropPopup=null,!0;this._dropPopup=null}return!1},n.prototype.toggleDropDown=function(){this._dropPopup?this.hideDropPopup():this.showDropPopup()},n.prototype.isDropVisible=function(){return Boolean(this._dropPopup)},n.prototype.setSource=function(n){this._dataSource&&this._dataSource.setSource(n)},n.prototype.getSelectedIndex=function(){return-1},n.prototype.setSelectedIndex=function(){},n.prototype.getText=function(){return this.combo.getInputText()},n.prototype.setText=function(n,t){typeof n!="undefined"&&this.combo.setInputText(n,t)},n.prototype.upKey=function(){},n.prototype.downKey=function(n){if(n.altKey&&this.showDropPopup())return!1},n.prototype.pageUpKey=function(){},n.prototype.pageDownKey=function(){},n.prototype.leftKey=function(){},n.prototype.rightKey=function(){},n.prototype.keyDown=function(){},n.prototype.keyPress=function(){},n.prototype.keyUp=function(){},n.prototype.onForceHideDropPopup=function(){this.hideDropPopup()},n.prototype.getItemText=function(n,t){return $.isFunction(this._options.getItemText)?this._options.getItemText(this._dataSource.getItem(n,!0)):this._dataSource.getItemText(n,t)},n.prototype._attachGlobalEvents=function(){this.combo._bind(this.combo.getElement().parents(),"scroll resize",this._onForceHideDropPopupDelegate);f.getService().attachEvent("dialog-move",this._onForceHideDropPopupDelegate)},n.prototype._detachGlobalEvents=function(){this.combo._unbind(this.combo.getElement().parents(),"scroll resize",this._onForceHideDropPopupDelegate);f.getService().detachEvent("dialog-move",this._onForceHideDropPopupDelegate)},n}();t.BaseComboBehavior=k;d=function(n){function t(t){n.call(this,t);this.combo=this._options.combo}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"combo-drop-popup"},t))},t.prototype.initialize=function(){this._bind("mousedown",y(this,this._onMouseDown));this.setPosition();n.prototype.initialize.call(this)},t.prototype.setPosition=function(){c.Positioning.position(this.getElement(),this._options.anchor,{elementAlign:this._options.dropElementAlign,baseAlign:this._options.dropBaseAlign})},t.prototype.getSelectedIndex=function(){return-1},t.prototype.getSelectedValue=function(){return""},t.prototype.setSelectedValue=function(){},t.prototype.selectNext=function(){return!1},t.prototype.selectPrev=function(){return!1},t.prototype.update=function(){},t.prototype.dispose=function(){n.prototype.dispose.call(this)},t.prototype._onMouseDown=function(){this.combo.blockBlur()},t}(i.BaseControl);t.BaseComboDropPopup=d;g={};ut=function(n){function t(){n.apply(this,arguments);this._currentText=""}return __extends(t,n),t.registerBehavior=function(n,t){g[n]=t},t.attachBehavior=function(n,t){var i=g[n._options.type];return i=n._options.type?g[n._options.type]:k,i?new i(n,t):null},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({allowEdit:!0,type:"list",treeLevel:1,mode:"drop",dropWidth:"dynamic",dropCount:8,invalidCss:"invalid",disabledCss:"disabled",dropButtonHoverCss:"hover",inputCss:undefined,coreCssClass:"combo input-text-box",enabled:!0},t))},t.prototype._dispose=function(){this._behavior&&($.isFunction(this._behavior.dispose)&&this._behavior.dispose(),this._behavior=null);n.prototype._dispose.call(this)},t.prototype._createIn=function(t){n.prototype._createIn.call(this,t);this._input=$(b("input")).attr("type","text");this._options.id&&this._input.attr("id",this._options.id+"_txt");typeof this._options.value!="undefined"&&(this._input.val(this._options.value),this._currentText=this.getInputText());this._decorate()},t.prototype._enhance=function(n){this._createElement();this._input=n;n.after(this.getElement());this._decorate();this._currentText=this.getInputText()},t.prototype.initialize=function(){this._ensureBehavior();n.prototype.initialize.call(this)},t.prototype.getBehavior=function(){return this._behavior},t.prototype.getText=function(){return this._behavior.getText()},t.prototype.setText=function(n,t){this._behavior.setText(n,t)},t.prototype.getDropButton=function(){return this._dropButton},t.prototype.getInput=function(){return this._input},t.prototype.getInputText=function(){return this._input.val()},t.prototype.setInputText=function(n,t){this._input.val(n);this._input.attr("title",n);t?this.fireChangeIfNecessary(n):this._currentText=n},t.prototype.getSelectedIndex=function(){return this._behavior.getSelectedIndex()},t.prototype.setSelectedIndex=function(n,t){this._behavior.setSelectedIndex(n,t)},t.prototype.getValue=function(){return this._behavior.getValue()},t.prototype.fireChangeIfNecessary=function(n){return typeof n=="undefined"&&(n=this.getText()),this._currentText!==n?(this._currentText=n,this._input.attr("title",n),this._fireChange()):void 0},t.prototype.toggleDropDown=function(){this._behavior.toggleDropDown();this._input.focus();this._fire("dropDownToggled",{isDropVisible:this.isDropVisible(),target:this.getElement()})},t.prototype.showDropPopup=function(){this._behavior.showDropPopup();this._input.focus()},t.prototype.hideDropPopup=function(){return this._behavior.hideDropPopup()},t.prototype.isDropVisible=function(){return this._behavior.isDropVisible()},t.prototype.isBlockingBlur=function(){return this._blockBlur},t.prototype.blockBlur=function(){this._blockBlur=!0;this.delayExecute("blockBlur",200,!0,function(){this.cancelBlockBlur()})},t.prototype.cancelBlockBlur=function(){this._blockBlur=!1;this.cancelDelayedFunction("blockBlur")},t.prototype._onInputKeyDown=function(n){if(this._options.onKeyDown&&this._options.onKeyDown.call(this,n),this._behavior.keyDown(n)===!1)return!1;switch(n.keyCode){case v.BACKSPACE:if(!this._options.allowEdit)return n.stopPropagation(),n.preventDefault(),!1;break;case v.PAGE_UP:return this._options.enabled?this._behavior.pageUpKey(n):!1;case v.UP:return this._options.enabled?this._behavior.upKey(n):!1;case v.PAGE_DOWN:return this._options.enabled?this._behavior.pageDownKey(n):!1;case v.DOWN:return this._options.enabled?this._behavior.downKey(n):!1;case v.LEFT:return this._options.enabled?this._behavior.leftKey(n):!1;case v.RIGHT:return this._options.enabled?this._behavior.rightKey(n):!1;case v.TAB:this.cancelBlockBlur();break;case v.ENTER:case v.ESCAPE:if(this.fireChangeIfNecessary(),this.hideDropPopup())return!1;break;default:if(!this._behavior.canType())return!1}},t.prototype.setTextSelection=function(n){var t=this._input[0],i;t.setSelectionRange?t.setSelectionRange(n,t.value.length):t.createTextRange&&(i=t.createTextRange(),i.moveStart("character",n),i.select())},t.prototype.setSource=function(n){this._behavior.setSource(n)},t.prototype.getEnabled=function(){return this._options.enabled===!0},t.prototype.setEnabled=function(n){this._options.enabled=n===!0;this._updateStyles()},t.prototype.getMode=function(){return this._options.mode},t.prototype.setMode=function(n){this._options.mode=n;this._behavior.setMode(n);this._updateStyles()},t.prototype.setType=function(n){this._options.type!==n&&(this.hideDropPopup(),this.getElement().removeClass(this._options.type),this._options.type=n,this._ensureBehavior(),this._updateStyles())},t.prototype.getComboType=function(){return this._options?this._options.type:null},t.prototype.setInvalid=function(n){this.getElement().toggleClass(this._options.invalidCss,n);this._input.attr("aria-invalid",n?"true":"false")},t.prototype._ensureBehavior=function(){if(this._behavior&&($.isFunction(this._behavior.dispose)&&this._behavior.dispose(),this._behavior=null),this._behavior=p.attachBehavior(this,this._options),!this._behavior)throw new Error(h.format("Unsupported combo behavior '{0}'.",this._options.type));this._behavior.initialize()},t.prototype._decorate=function(){var u=this,t=this._options,i=this.getElement(),n=this._input,r;i.val=function(){return arguments.length?u.setText(arguments[0],!1):u.getText()};n.attr("autocomplete","off");this._bind("mousedown",y(this,this._onMouseDown));this._bind(n,"keydown",y(this,this._onInputKeyDown));this._bind(n,"keypress",y(this,this._onInputKeyPress));this._bind(n,"keyup",y(this,this._onInputKeyUp));this._bind(n,"focus",y(this,this._onInputFocus));this._bind(n,"blur",y(this,this._onInputBlur));this._bind(n,"click",y(this,this._onInputClick));this._bind(n,"focus",function(){i.addClass("focus")});this._bind(n,"blur",function(){i.removeClass("focus")});t.allowEdit||(n.attr("readonly","readonly"),i.addClass("no-edit"));t.inputCss&&n.addClass(t.inputCss);n.bind("change input",function(){return u.fireChangeIfNecessary()});t.noDropButton&&i.addClass("no-background");r=$(b("div","wrap"));r.append(n);this._options.label&&this._options.id&&r.append($(b("label","hidden")).append(this._options.label).attr("For",n.attr("id")));t.iconCss&&($(b("div","preWrapIcon")).addClass(t.iconCss).appendTo(i),r.addClass("withIcon"));i.append(r);this._dropButton=$(b("div","drop"));this._bind(this._dropButton,"mouseenter",function(){$(this).addClass(t.dropButtonHoverCss)});this._bind(this._dropButton,"mouseleave",function(){$(this).removeClass(t.dropButtonHoverCss)});this._bind(this._dropButton,"click",y(this,this._onDropButtonClick));i.append(this._dropButton);this._updateStyles()},t.prototype._updateStyles=function(){var n=this.getElement(),i=this._input,t,r;n.addClass(this._options.type);this._dropButton.removeClass(h.localeIgnoreCaseComparer(this._options.type,"date-time")===0?"bowtie-icon bowtie-triangle-down":"bowtie-icon bowtie-calendar");this._dropButton.addClass(h.localeIgnoreCaseComparer(this._options.type,"date-time")===0?"bowtie-icon bowtie-calendar":"bowtie-icon bowtie-triangle-down");t=this._options.enabled;t&&this._options.allowEdit?i.removeAttr("readonly"):i.attr("readonly","readonly");i.toggleClass(this._options.disabledCss,!t);t?n.removeAttr("disabled"):n.attr("disabled");r=t&&this._options.mode==="drop";n.toggleClass("drop",r&&!this._options.noDropButton);n.toggleClass("text",!r)},t.prototype._onDropButtonClick=function(){return this.toggleDropDown(),!1},t.prototype._onInputClick=function(){return!this._options.allowEdit&&this._options.enabled&&this.toggleDropDown(),!1},t.prototype._onInputFocus=function(){if(!this._onInputFocusInProgress)try{this._onInputFocusInProgress=!0;this._blockBlur||this._options.disableTextSelectOnFocus||this._input.select();$.isFunction(this._options.focus)&&this._options.focus.apply(this,arguments)}finally{this._onInputFocusInProgress=!1}},t.prototype._onInputBlur=function(){this._disposed||(this.fireChangeIfNecessary(),this._blockBlur?(this._input.focus(10),this._blockBlur=!1):this.hideDropPopup(),$.isFunction(this._options.blur)&&this._options.blur.apply(this,arguments))},t.prototype._onMouseDown=function(){this.blockBlur()},t.prototype._onInputKeyPress=function(n){return this._behavior.keyPress(n)},t.prototype._onInputKeyUp=function(n){var t=this._behavior.keyUp(n);return this.fireChangeIfNecessary(),t},t.enhancementTypeName="tfs.combo",t}(i.Control);t.ComboO=ut;p=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(ut);t.Combo=p;i.Enhancement.registerJQueryWidget(p,"comboList",{type:"list"});i.Enhancement.registerJQueryWidget(p,"comboTree",{type:"tree"});nt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({itemCss:""},t))},t.prototype.initialize=function(){this._dataSource=this._options.dataSource;this._initializeVirtualization();n.prototype.initialize.call(this)},t.prototype._initializeVirtualization=function(){this.virtualizingListView=i.Enhancement.enhance(a.VirtualizingListView,this.getElement(),$.extend(it(this._options,["coreCssClass"]),{maxRowCount:this._options.dropCount}))},t.prototype.selectPrev=function(n){return this.virtualizingListView.selectPrev(n)},t.prototype.selectNext=function(n){return this.virtualizingListView.selectNext(n)},t.prototype.getSelectedIndex=function(){return this.virtualizingListView.getSelectedIndex()},t.prototype.getSelectedValue=function(){return this._dataSource.getItemText(this.virtualizingListView.getSelectedIndex())},t.prototype.setSelectedValue=function(n){var t=n?this._dataSource.getItemIndex(n):-1;this.virtualizingListView.setSelectedIndex(t)},t.prototype.getDataSource=function(){return this._dataSource},t.prototype.update=function(){this.virtualizingListView.update()},t}(d);t.ComboListDropPopup=nt;tt=function(n){function t(t,i){n.call(this,t,$.extend({dropControlType:nt},i))}return __extends(t,n),t.prototype.initialize=function(){this._dataSource=this._createDataSource();n.prototype.initialize.call(this)},t.prototype.setSource=function(t){n.prototype.setSource.call(this,t);this._maxItemLength=null},t.prototype.getDropOptions=function(){return $.extend(n.prototype.getDropOptions.call(this),{selectedIndex:this._dataSource.getItemIndex(this.combo.getText()),selectionChange:y(this,this._dropSelectionChanged)})},t.prototype.getValue=function(){return this.getText()},t.prototype.getMaxItemLength=function(){var i,r,n,t;if(this._maxItemLength===null){for(i=this._dataSource.getCount(!0),n=0,t=0;t<i;t++)r=this.getItemText(t,!0),n=Math.max(r.length,n);this._maxItemLength=n}return this._maxItemLength},t.prototype.getDropWidth=function(){var i=n.prototype.getDropWidth.call(this),t=this.getMaxItemLength()*c.Measurement.getUnitEx();return t*=1.2,this._options.maxAutoExpandDropWidth&&t>i?Math.min(Math.max(this._options.maxAutoExpandDropWidth,i),t):Math.max(i,t)},t.prototype.getSelectedIndex=function(n,t){return this._dataSource.getItemIndex(n||this.getText(),!1,t)},t.prototype.setSelectedIndex=function(n,t){this._setSelectedIndex(n,t)},t.prototype.setText=function(t,i){var r;i&&(r=t!==this.getText());n.prototype.setText.call(this,t,i);i&&r&&this._options.indexChanged&&this._options.indexChanged.call(this,this.getSelectedIndex(t))},t.prototype.upKey=function(t){if(this._options.mode!=="text")return n.prototype.upKey.call(this,t)===!1?!1:this.selectPrev()},t.prototype.downKey=function(t){if(this._options.mode!=="text")return n.prototype.downKey.call(this,t)===!1?!1:this.selectNext()},t.prototype.pageUpKey=function(t){if(this._options.mode!=="text")return n.prototype.pageUpKey.call(this,t)===!1?!1:this.selectPrev(!0)},t.prototype.pageDownKey=function(t){if(this._options.mode!=="text")return n.prototype.pageDownKey.call(this,t)===!1?!1:this.selectNext(!0)},t.prototype.keyDown=function(n){if(this._options.mode!=="text")if(n.keyCode===229)this._enableAutoFill=!1;else if(n.ctrlKey&&(n.keyCode===89||n.keyCode===90))return!1},t.prototype.keyPress=function(){if(this._options.mode!=="text")return this._enableAutoFill=typeof this._options.autoComplete=="undefined"?!0:this._options.autoComplete,!0},t.prototype.keyUp=function(n){var t;if(this._options.mode!=="text")return t=n.keyCode||n.charCode,this._options.enableFilter===!0&&(t>=47||t===v.SPACE||t===v.BACKSPACE||t===v.DELETE)&&this._applyFilter(),this._enableAutoFill&&((t>=47||t===v.SPACE)&&this._tryAutoFill(),this._enableAutoFill=!1),this._options.keyUp&&this._options.keyUp.call(this),!0},t.prototype.selectPrev=function(n){var i=this.getDropPopup(),t;if(i){if(i.selectPrev(n))return!1}else if(!n&&(t=this._dataSource.nextIndex(this.getSelectedIndex(null,!0),-1,!0),t>=0))return this._setSelectedIndex(t,!0),!1},t.prototype.selectNext=function(n){var i=this.getDropPopup(),t;if(i){if(i.selectNext(n))return!1}else if(!n&&(t=this._dataSource.nextIndex(this.getSelectedIndex(null,!0),1,!0),t>=0))return this._setSelectedIndex(t,!0),!1},t.prototype._createDataSource=function(){return new rt(this._options)},t.prototype._dropSelectionChanged=function(n,t){this.setText(this.getItemText(n,!1),!0);t&&this.hideDropPopup()},t.prototype._setSelectedIndex=function(n,t){this.setText(this.getItemText(n,!0),t)},t.prototype._tryAutoFill=function(){var n,t,i,r;u.logTracePoint("Combo._tryAutoFill.start");t=this.combo.getText();i=this._dataSource.getItemIndex(t,!0,!0);i>=0&&(n=this.getItemText(i,!0));n&&(this.combo.setText(n,!0),this.combo.setTextSelection(t.length));r=this.getDropPopup();r&&r.setSelectedValue(n);u.logTracePoint("Combo._tryAutoFill.complete")},t.prototype._applyFilter=function(){u.logTracePoint("Combo._applyFilter.start");this._filterData(this.combo.getText());var n=this.getDropPopup();n&&n.update();u.logTracePoint("Combo._applyFilter.complete")},t.prototype._filterData=function(n){var r=this,t,i;n?(t=this._dataSource.getItemIndexes(n,!0,!0),i=t.map(function(n){return r._dataSource.getItem(n,!0)}),this._dataSource.setItems(i,this._dataSource.getItems(!0))):this._dataSource.setItems(this._dataSource.getItems(!0))},t}(k);t.ComboListBehavior=tt;p.registerBehavior("list",tt);lt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value is not allowed!"},t))},t.prototype.isValid=function(){var t=$.trim(this.getValue()),n;return t&&(n=i.Enhancement.getInstance(p,this.getElement()),n)?n.getSelectedIndex()>=0:!0},t}(l.BaseValidator);t.ComboControlValidator=lt;w=function(){function n(n){this._setDate(n||new Date)}return n.toGregorian=function(n,t,i){var u=r.getDateTimeFormat().Calendar.convert;return u?u.toGregorian(n,t,i):new Date(n,t,i)},n.fromGregorian=function(n){var t=r.getDateTimeFormat().Calendar.convert;if(t)return t.fromGregorian(n)},n.prototype.getBaseDate=function(){return this._baseDate},n.prototype.setTime=function(n){n=n instanceof Date?n:new Date(n);this._setDate(n)},n.prototype.getTime=function(){return this.getBaseDate().getTime()},n.prototype.getDay=function(){return this.getBaseDate().getDay()},n.prototype.getFullYear=function(n){return n===!0&&this._convertedDate?this._convertedDate[0]:this.getBaseDate().getFullYear()},n.prototype.getMonth=function(n){return n===!0&&this._convertedDate?this._convertedDate[1]:this.getBaseDate().getMonth()},n.prototype.getDate=function(n){return n===!0&&this._convertedDate?this._convertedDate[2]:this.getBaseDate().getDate()},n.prototype.jumpToMonthStart=function(){var i=this.getFullYear(),r=this.getMonth(),u=this.getDate(),t=new n(new Date(i,r,u,12));return this.setTime(t.getTime()-n.DAY_IN_MILLISECONDS*(t.getDate(!0)-1)),this},n.prototype.jumpToWeekStart=function(){var t=r.getDateTimeFormat().FirstDayOfWeek,i=(n.DAYS_IN_A_WEEK-t+this.getDay())%n.DAYS_IN_A_WEEK;return this.setTime(this.getTime()-i*n.DAY_IN_MILLISECONDS),this},n.prototype.nextDay=function(){return this.setTime(this.getTime()+n.DAY_IN_MILLISECONDS),this},n.prototype.prevMonth=function(){return this._increment(0,-1),this},n.prototype.nextMonth=function(){return this._increment(0,1),this},n.prototype.prevYear=function(){return this._increment(-1,0),this},n.prototype.nextYear=function(){return this._increment(1,0),this},n.prototype.equals=function(n){return this.getFullYear()===n.getFullYear()&&this.getMonth()===n.getMonth()&&this.getDate()===n.getDate()},n.prototype._setDate=function(t){this._baseDate=t;this._convertedDate=n.fromGregorian(t)},n.prototype._increment=function(t,i){var r=this.getMonth(!0),u=this.getFullYear(!0);i>0?++r>11&&(r=0,u++):i<0&&--r<0&&(r=11,u--);u+=t;this.setTime(n.toGregorian(u,r,1))},n.DAY_IN_MILLISECONDS=864e5,n.DAYS_IN_A_WEEK=7,n}();ft=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"date-panel",canTakeFocus:!1},t))},t.prototype.initialize=function(){this._selectedDate=this._options.selectedDate;this._date=this._selectedDate||s.getNowInUserTimeZone();this._bind("click",y(this,this._onClick));this._bind("keydown",y(this,this._onKeyDown));this._draw(this._date,"prev-month");n.prototype.initialize.call(this)},t.prototype.prevMonth=function(){var n=new w(this._date);this._date=n.prevMonth().getBaseDate();this._draw(this._date,"prev-month")},t.prototype.nextMonth=function(){var n=new w(this._date);this._date=n.nextMonth().getBaseDate();this._draw(this._date,"next-month")},t.prototype.prevYear=function(){var n=new w(this._date);this._date=n.prevYear().getBaseDate();this._draw(this._date,"prev-year")},t.prototype.nextYear=function(){var n=new w(this._date);this._date=n.nextYear().getBaseDate();this._draw(this._date,"next-year")},t.prototype.selectDate=function(n){this.setSelectedDate(n);this._options.onSelectDate&&this._options.onSelectDate()},t.prototype.setSelectedDate=function(n){this._selectedDate=this._date=n;this._draw(this._selectedDate);this._fireChange()},t.prototype.getSelectedDate=function(){return this._selectedDate},t.prototype._draw=function(n,t){var f=this.getElement(),o=this._options.todayFormat||"d",u=$("<table />").attr("cellSpacing",0).attr("cellPadding",0).attr("border",0),i=$("<tr />").addClass("quick-nav"),r;$("<a />").addClass("prev-month").attr("href","#").attr("tabindex",0).append($("<span/>").addClass("icon icon-drop-left")).appendTo($("<td/>").addClass("prev-month").appendTo(i));r=$("<td/>").addClass("month-year").appendTo(i);r.text(s.localeFormat(n,"y",!0));$("<a />").addClass("next-month").attr("href","#").attr("tabindex",0).append($("<span/>").addClass("icon icon-drop-right")).appendTo($("<td/>").addClass("next-month").appendTo(i));u.append(i);i=$("<tr />");r=$("<td />").attr("colspan",6).addClass("days");r.append(this._drawCalendarTable(n));i.append(r);u.append(i);i=$("<tr />");r=$("<td />").attr("colspan",6).addClass("legend");$("<a />").addClass("today").attr("href","#").attr("tabindex",0).append($("<span/>").addClass("today")).append(h.format(e.TodayTitle,s.localeFormat(new Date,o))).appendTo(r);i.append(r);u.append(i);f.empty().append(u);t&&this._options.canTakeFocus&&$("."+t).focus()},t.prototype._drawCalendarTable=function(n){var c=s.getTodayInUserTimeZone(),h=r.getDateTimeFormat(),i=new w(n),l=i.getMonth(!0),e,f,u,t,o;for(i.jumpToMonthStart(),i.jumpToWeekStart(),e=$("<table />").attr("cellSpacing",0).attr("border",0),f=$("<tr />").addClass("day-names"),u=0;u<7;u++)t=$("<td />"),t.text(h.ShortestDayNames[(h.FirstDayOfWeek+u)%w.DAYS_IN_A_WEEK]),f.append(t);for(e.append(f),u=0;u<6;u++){for(f=$("<tr />").addClass("days"),o=0;o<w.DAYS_IN_A_WEEK;o++)t=$("<td />").addClass("date-cell"),$("<a />").addClass("date").attr("href","#").attr("tabindex",0).data("date",i.getTime()).text(i.getDate(!0)).appendTo(t),i.getMonth(!0)!==l&&t.addClass("other-month"),i.equals(c)&&t.addClass("today"),this._selectedDate instanceof Date?i.equals(this._selectedDate)&&(t.addClass("selected"),this._options.canTakeFocus&&t.focus()):i.equals(n)&&(this._options.canTakeFocus&&t.focus(),t.addClass("selected")),f.append(t),i.nextDay();e.append(f)}return e},t.prototype._onKeyDown=function(n){return n.keyCode===v.ENTER||n.keyCode===v.SPACE?this._onClick(n):n.keyCode===v.LEFT||n.keyCode===v.RIGHT||n.keyCode===v.UP||n.keyCode===v.DOWN?!1:void 0},t.prototype._onClick=function(n){var r=$(n.target),t=r.closest("a"),i;return t.length?(t.hasClass("prev-month")?this.prevMonth():t.hasClass("next-month")?this.nextMonth():t.hasClass("prev-year")?this.prevYear():t.hasClass("next-year")?this.nextYear():t.hasClass("today")?this.selectDate(s.getNowInUserTimeZone()):t.hasClass("date")&&this.selectDate(new Date(t.data("date"))),!1):(i=r.closest(".date-cell"),i.length)?(this.selectDate(new Date(i.find("a").data("date"))),!1):void 0},t}(i.BaseControl);t.DatePanel=ft;et=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initialize=function(){this._selectedDate=this._options.selectedDate;this._datePanel=i.BaseControl.createIn(ft,this.getElement(),$.extend(it(this._options,["coreCssClass"]),{change:y(this,this._onChange)}));n.prototype.initialize.call(this)},t.prototype.getSelectedDate=function(){return this._selectedDate},t.prototype.setSelectedDate=function(n){this._selectedDate=n;this._datePanel&&this._datePanel.setSelectedDate(n)},t.prototype._onChange=function(){return this._selectedDate=this._datePanel.getSelectedDate(),this._fireChange(),!1},t}(d);t.ComboDateDropPopup=et;ot=function(n){function t(t,i){n.call(this,t,$.extend({dropControlType:et,dateTimeFormat:r.getDateTimeFormat().ShortDatePattern},i))}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._timeValue=this._options.defaultTimeOfDay||0},t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.getValue=function(){return this.getSelectedDate()},t.prototype.getDropOptions=function(){var i=this,t=this.getSelectedDate();return!t&&this._options.getInitialDate&&(t=this._options.getInitialDate(this.combo)),$.extend(n.prototype.getDropOptions.call(this),{dropElementAlign:"right-top",dropBaseAlign:"right-bottom",selectedDate:t,onSelectDate:function(){i.hideDropPopup()},change:y(this,this._onChange)})},t.prototype.getDropWidth=function(){return undefined},t.prototype.getSelectedDate=function(){var i=$.trim(this.combo.getText()),n=null,t;return i&&(n=s.parseDateString(i,this._options.parseFormat,!0),n&&(t=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this._options.defaultTimeOfDay&&n.getTime()===t.getTime()?(n=new Date(n.getTime()+this._options.defaultTimeOfDay),this.setText(s.localeFormat(n,this._options.dateTimeFormat,!0),!1)):this._timeValue=n-t)),n},t.prototype.setSelectedDate=function(n,t){t===void 0&&(t=!0);n=new Date(n.getFullYear(),n.getMonth(),n.getDate());n=new Date(n.getTime()+(this._timeValue||0));this.setText(s.localeFormat(n,this._options.dateTimeFormat,!0),t)},t.prototype.upKey=function(){var n=this.getDropPopup();if(n)return n.setSelectedDate(this._addDays(this._getSelectedDate(),-7)),!1},t.prototype.downKey=function(t){if(n.prototype.downKey.call(this,t)===!1)return!1;var i=this.getDropPopup();if(i)return i.setSelectedDate(this._addDays(this._getSelectedDate(),7)),!1},t.prototype.pageUpKey=function(){var t=this.getDropPopup(),n;if(t)return n=this._getSelectedDate(),t.setSelectedDate(this._addDays(n,-1*this._getMonthLength(n.getMonth()-1,n.getFullYear()))),!1},t.prototype.pageDownKey=function(){var t=this.getDropPopup(),n;if(t)return n=this._getSelectedDate(),t.setSelectedDate(this._addDays(n,this._getMonthLength(n.getMonth(),n.getFullYear()))),!1},t.prototype.leftKey=function(){var n=this.getDropPopup();if(n)return n.setSelectedDate(this._addDays(this._getSelectedDate(),-1)),!1},t.prototype.rightKey=function(){var n=this.getDropPopup();if(n)return n.setSelectedDate(this._addDays(this._getSelectedDate(),1)),!1},t.prototype._onChange=function(){var t=this.getDropPopup(),n=t.getSelectedDate();return n&&this.setSelectedDate(n),!1},t.prototype._getSelectedDate=function(){var n=this.getDropPopup();return n.getSelectedDate()||new Date},t.prototype._addDays=function(n,t){var i=new Date;return i.setTime(n.getTime()+t*864e5),i},t.prototype._getMonthLength=function(n,t){n=(n+12)%12+1;switch(n){case 4:case 6:case 9:case 11:return 30;case 2:if(t%4==0){var i=new Date(t,1,29);if(i.getMonth()===1)return 29}return 28;default:return 31}},t}(k);t.ComboDateBehavior=ot;p.registerBehavior("date-time",ot);i.Enhancement.registerJQueryWidget(p,"comboDateTime",{type:"date-time"});st=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({type:"date-time"},t))},t}(p);t.DatePicker=st;i.Enhancement.registerJQueryWidget(st,"datePicker");ht=function(n){function t(t){n.call(this,t);this._checkStates={};this._options.id||(this._options.id="cmvdp_"+i.getId())}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"multi-value",createItem:y(this,this._createItem),itemClick:y(this,this._onItemClick)},t))},t.prototype.initialize=function(){var t=this.combo.getText().split(this._options.sepChar),i=this;$.each(t,function(n,t){t=$.trim(t);t&&(i._checkStates[t]=!0)});n.prototype.initialize.call(this)},t.prototype.getCheckedItems=function(){var n=this;return $.map(this._dataSource.getItems(),function(t){if(n._checkStates[t])return t})},t.prototype.getValue=function(){return this.getCheckedItems().join(this._options.joinChar||this._options.sepChar+" ")},t.prototype.toggleCheckbox=function(n){var r=this._options.id+"_cb"+n,t,i;i=this._dataSource.getItemText(n);t=$("#"+r);t.prop("checked")?(t.prop("checked",!1),this._checkStates[i]=!1):(t.prop("checked",!0),this._checkStates[i]=!0)},t.prototype._createItem=function(n){var t=this._dataSource.getItemText(n),r=this._options.id+"_cb"+n,i=$(b("li",this._options.nodeCss)),u=$("<input />").data("value",t).attr("type","checkbox").attr("id",r).data("index",n).appendTo(i);return this._checkStates[t]&&u.prop("checked",!0),i.append($(b("label")).attr("for",r).text(t||"")),i},t.prototype._onItemClick=function(n,t,i,r){var f,u,e=this._dataSource.getItemText(t);f=Boolean(this._checkStates[e]);u=Boolean(r.find("input").prop("checked"));this._checkStates[e]=u;f!==u&&this._fireChange()},t}(nt);t.ComboMultiValueDropPopup=ht;ct=function(n){function t(t,i){n.call(this,t,$.extend({dropControlType:ht,sepChar:",",joinChar:", "},i))}return __extends(t,n),t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.getValue=function(){var n=this.getDropPopup();return n.getCheckedItems()},t.prototype.getDropOptions=function(){return $.extend(n.prototype.getDropOptions.call(this),{sepChar:this._options.sepChar,joinChar:this._options.joinChar,selectedIndex:-1,selectionChange:!1,change:y(this,this._onChange)})},t.prototype.keyDown=function(n){var t=this.getDropPopup(),i;t&&n.keyCode===v.SPACE&&(i=t.getSelectedIndex(),i>=0&&(t.toggleCheckbox(i),this.setText(t.getValue(),!0)))},t.prototype._onChange=function(){var n=this.getDropPopup();return this.setText(n.getValue(),!0),!1},t}(tt);t.ComboMultiValueBehavior=ct;p.registerBehavior("multi-value",ct)});
// VSS/Controls/Notifications //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Controls/Notifications",["require","exports","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s){var b=e.delegate,c=s.domElem,h,a,l,v,y,p,w;(function(n){n[n.None=0]="None";n[n.Info=1]="Info";n[n.Warning=2]="Warning";n[n.Error=3]="Error"})(t.MessageAreaType||(t.MessageAreaType={}));h=t.MessageAreaType;a=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({closeable:!0,expanded:!1,showIcon:!1,showDetailsLink:!0,showHeader:!0,noHeaderNoLinkJustIcon:!1},t))},t.prototype.initialize=function(){var t,e=this,n,r,u,i,f;this.getElement().addClass("message-area-control");n=this._options.message?this._options.message.type:this._options.type;this._options.showIcon&&n!=h.None&&n!=h.Error&&(r=$(c("div")).appendTo(this.getElement()).addClass("message-icon"),u=$("<span>").addClass("icon").appendTo(r),n==h.Info?i="icon-info":n==h.Warning&&(i="bowtie-icon bowtie-status-warning"),u.addClass(i));this._options.showHeader&&(t=$(c("div")).appendTo(this.getElement()).addClass("message-header"),this._errorHeader=$(c("span")).appendTo(t));this._options.showDetailsLink&&(this._showErrorLink=$(c("a")).appendTo(t).addClass("linkAction show-details-action").attr("href","#").click(function(){return e._toggle(),!1}));f=$(c("div")).appendTo(this.getElement()).addClass("close-action bowtie-icon bowtie-edit-delete ").click(b(this,this.clear));s.accessible(f);this._errorContent=$(c("div")).appendTo(this.getElement());this._options.noHeaderNoLinkJustIcon||this._errorContent.addClass("error-content");this.getElement().hide();this._messageType=h.None;this._options.message&&this.setMessage(this._options.message);this._options.fillVertical&&this.getElement().css("height","100%")},t.prototype.setMessage=function(n,t){(typeof n=="string"||n&&n.jquery)&&(n={header:n});n.type||(n.type=t||h.Error);this._setDisplayMessage(n)},t.prototype.setError=function(n,t){(typeof n=="string"||n&&n.jquery)&&(n={header:n});n.type=h.Error;!n.click&&$.isFunction(t)&&(n.click=t);this.setMessage(n)},t.prototype.getMessageType=function(){return this._messageType},t.prototype.clear=function(){this._clear(!0)},t.prototype._setDisplayMessage=function(n){var i=this,t;this._options.closeable?this.getElement().addClass("closeable"):this.getElement().removeClass("closeable");this._clear(!1);this._messageType=this._options.message&&this._options.message.type?this._options.message.type:n.type;this._options.showHeader&&(n.header&&n.header.jquery?this._errorHeader.append(n.header):this._errorHeader.text(n.header));n.content?(n.content.jquery?this._errorContent.append(n.content):this._errorContent.text(n.content),this._options.showDetailsLink&&(this.setErrorDetailsVisibility(this._options.expanded),this._showErrorLink.show())):(this._errorContent.hide(),this._options.showDetailsLink&&this._showErrorLink.hide());switch(this._messageType){case h.Info:this.getElement().addClass("info-message");break;case h.Warning:this.getElement().addClass("warning-message");break;case h.Error:this.getElement().addClass("error-message")}this._options.hidden||(this.getElement().addClass("visible"),this.getElement().show());n.click&&(t=function(){n.click();i.clear()},this._errorHeader.addClass("clickable"),this._errorHeader.click(t),this._errorHeader.keydown(function(n){if(n.keyCode===s.KeyCode.ENTER)return t(),!1}));this._raiseDisplayComplete()},t.prototype._toggle=function(){this._errorContent.is(":visible")?(this.setErrorDetailsVisibility(!1),this._fire(l.ERROR_DETAILS_TOGGLED,{show:!1})):(this.setErrorDetailsVisibility(!0),this._fire(l.ERROR_DETAILS_TOGGLED,{show:!0}));this._raiseDisplayComplete()},t.prototype.setErrorDetailsVisibility=function(n){n?(this._showErrorLink.text(f.HideDetails),this._errorContent.show()):(this._showErrorLink.text(f.ShowDetails),this._errorContent.hide())},t.prototype._clear=function(n){if(this._options.showHeader){if(this._errorHeader.text().length===0)return;this._errorHeader.text("");this._errorHeader.unbind("click");this._errorHeader.removeClass("clickable")}switch(this._messageType){case h.Info:this.getElement().removeClass("info-message");break;case h.Warning:this.getElement().removeClass("warning-message");break;case h.Error:this.getElement().removeClass("error-message")}this._messageType=h.None;this._errorContent.text("");this.getElement().removeClass("visible");this.getElement().hide();n&&this._raiseDisplayComplete();this._fire(l.EVENT_DISPLAY_CLEARED);u.getService().fire(l.EVENT_DISPLAY_CLEARED)},t.prototype._raiseDisplayComplete=function(){this._fire(l.EVENT_DISPLAY_COMPLETE)},t.EVENT_DISPLAY_COMPLETE="event-display-complete",t.EVENT_DISPLAY_CLEARED="event-display-cleared",t.ERROR_DETAILS_TOGGLED="error-details-toggled",t}(i.Control);t.MessageAreaControlO=a;l=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(a);t.MessageAreaControl=l;v=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);s.BrowserCheckUtils.isLessThanOrEqualToIE8()?this._messageArea=i.Enhancement.enhance(l,this.getElement(),{closeable:!0,message:{header:$("<span>").html(f.UnsupportedBrowserNotificationMessage),type:h.Warning},showIcon:!0}):this.getElement().remove()},t}(i.BaseControl);t.UnsupportedBrowserMessageControl=v;i.Enhancement.registerEnhancement(v,".tfs-unsupported-browser-notification");y=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){t&&(this._collapsed=!!t.collapsed);n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"information-area-control",expandedIconClass:"content-expanded",collapsedIconClass:"content-collapsed"},t))},t.prototype.initialize=function(){var n=this,i=this,t=$(c("div","information-header")).appendTo(this.getElement()).click(function(){n._updateCollapsedState(!n._collapsed)});this._$collapseIndicator=$(c("div","icon collapse-indicator")).appendTo(t);this._$caption=$(c("div","information-caption")).appendTo(t).text(this._options.caption);this._$content=$(c("div","information-content")).appendTo(this.getElement());this._updateCollapsedState(this._collapsed)},t.prototype.appendDetailHeaderContent=function(n){$(c("div","detail-header")).appendTo(this._$content).append(n)},t.prototype.appendDetailContent=function(n){$(c("div","detail-content")).appendTo(this._$content).append(n)},t.prototype.appendCodeContent=function(n){$(c("div","code-content")).appendTo(this._$content).append(n)},t.prototype.appendDetailHeaderHtml=function(n){$(c("div","detail-header")).appendTo(this._$content).html(n)},t.prototype.appendDetailHtml=function(n){$(c("div","detail-content")).appendTo(this._$content).html(n)},t.prototype.appendCodeHtml=function(n){$(c("div","code-content")).appendTo(this._$content).html(n)},t.prototype._updateCollapsedState=function(n){n?(this._$collapseIndicator.removeClass(this._options.expandedIconClass),this._$collapseIndicator.addClass(this._options.collapsedIconClass),this._$content.hide()):(this._$collapseIndicator.removeClass(this._options.collapsedIconClass),this._$collapseIndicator.addClass(this._options.expandedIconClass),this._$content.show());this._collapsed=n},t}(i.Control);t.InformationAreaControlO=y;p=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(y);t.InformationAreaControl=p;w=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initialize=function(){var t=this,n=this.getElement(),r;n.hide();this._processOptions();r=$("<div>").appendTo(n);this._messageArea=i.Enhancement.enhance(l,r,{closeable:!1,fillVertical:!0});this._toasting=!1;this._bind(n,"mouseover",function(){t._delayedFunction.cancel();n.stop(!0);n.fadeIn(0)});this._bind(n,"mouseout",function(){t._delayedFunction=e.delay(t,t._toastTime,function(){n.fadeOut(t._fadeOutTime,function(){t._toasting=!1})})})},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"toast-notification"},t))},t.prototype._processOptions=function(){var n=this._getOptions(),t=this.getElement();t.width(n.width);t.css("min-height",n.minHeight);this._fadeInTime=n.fadeInTime;this._fadeOutTime=n.fadeOutTime;this._toastTime=n.toastTime},t.prototype._getOptions=function(){return $.extend(this._getDefaultOptions(),this._options)},t.prototype._getDefaultOptions=function(){return{width:280,fadeInTime:1e3,fadeOutTime:1e3,toastTime:5e3}},t.prototype.toast=function(n,t){var r=this,i;t===void 0&&(t=h.Info);this._ensureNoActiveToast();this._toasting=!0;this._messageArea.setMessage(n,t);i=this.getElement();i.fadeIn(this._fadeInTime);this._delayedFunction=e.delay(this,this._toastTime,function(){i.fadeOut(r._fadeOutTime,function(){r._toasting=!1})})},t.prototype._ensureNoActiveToast=function(){this._toasting&&(this.getElement().stop().hide(),this._delayedFunction.cancel())},t}(i.BaseControl);t.ToastNotification=w});
// VSS/Controls/StatusIndicator //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Controls/StatusIndicator",["require","exports","VSS/Controls","VSS/Diag","VSS/Locations","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s){var c=e.delegate,y=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"status-indicator"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._options.center===!0&&this.getElement().addClass("center");this._throttleMinTime=this._options.throttleMinTime||100;this._bindEvents()},t.prototype._dispose=function(){this._clearTimeout();n.prototype._dispose.call(this)},t.prototype.start=function(n){this._clearTimeout();$.extend(this._options,n);this._start()},t.prototype.delayStart=function(n){this._delayStart&&this._delayStart.cancel();this._delayStart=e.delay(this,n,this._start)},t.prototype.complete=function(){this._delayStart&&(this._delayStart.cancel(),this._delayStart=null);this._clearTimeout();this.hideElement()},t.prototype.error=function(n){this._lastError=n;this._clearTimeout();this.hideElement()},t.prototype.setMessage=function(n){var t=this.getElement().find("#indicator_message");t.text(n)},t.prototype.showElement=function(){this.getElement().css("display","")},t.prototype.hideElement=function(){this.getElement().css("display","none")},t.prototype._draw=function(){var n=this.getElement(),t;if(this.hideElement(),n.empty(),this._statusDiv=$("<div />").appendTo(n).addClass("status"),this._options.center){var r=$("<table />").appendTo(this._statusDiv),u=$("<tr />").appendTo(r),i=$("<td />").appendTo(u);this._image=$("<span />").appendTo(i);t=i}else this._statusDiv.addClass("status-inline"),n.addClass("inline"),this._image=$("<span />").appendTo(n),t=n;this._setImageClass();this._options.message&&$("<span id='indicator_message' />").appendTo(t).text(this._options.message)},t.prototype._start=function(){this._statusDiv?this._setImageClass():this._draw();this.showElement()},t.prototype._onClick=function(){this._lastError&&alert(this._lastError)},t.prototype._setImageClass=function(){this._image.removeClass();this._options.imageClass?(this._image.addClass("icon"),this._image.addClass(this._options.imageClass)):this._image.addClass("status-progress")},t.prototype._bindEvents=function(){var n=this._options.eventTarget||window;this._options.statusStartEvent&&this._bind(n,this._options.statusStartEvent,c(this,this._startHandler),!0);this._options.statusCompleteEvent&&this._bind(n,this._options.statusCompleteEvent,c(this,this.complete),!0);this._options.statusErrorEvent&&this._bind(n,this._options.statusErrorEvent,c(this,this.error),!0);this._bind("click",c(this,this._onClick))},t.prototype._error=function(n,t,i,r){this._lastError=r;this.hideElement()},t.prototype._startHandler=function(n,t){this.delayExecute("start",this._throttleMinTime,!0,function(){this.start(n,t)})},t.prototype._clearTimeout=function(){this.cancelDelayedFunction("start")},t.enhancementTypeName="tfs.statusIndicator",t}(i.Control),a,p,h,v,l;t.StatusIndicatorO=y;a=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(y);t.StatusIndicator=a;i.Enhancement.registerJQueryWidget(a,"statusIndicator");p=function(){function n(n,t){this._$rootElement=$(n);this._options=t||{};this._initialize()}return n.prototype.beginOperation=function(n){var t=this.getCancellableOperation();this._cancelable=t;$.isFunction(this._options.beginOperationCallback)&&this._options.beginOperationCallback();this._waitControl.startWait(t);e.delay(this,100,function(){n(t)})},n.prototype.createWaitControl=function(n){return i.create(l,this._$rootElement[0]._element,n)},n.prototype.getCancellableOperation=function(){return new e.Cancelable(this)},n.prototype.getWaitControl=function(){return this._waitControl},n.prototype.endOperation=function(){this._waitControl.endWait();$.isFunction(this._options.endOperationCallback)&&this._options.endOperationCallback()},n.prototype.isCancelled=function(){return this._cancelled},n.prototype.cancelOperation=function(){this._options&&this._options.cancellable&&(this._cancelled=!0);this.endOperation()},n.prototype._initialize=function(){this._state={message:this._options&&this._options.message?this._options.message:f.DefaultWaitMessage,target:this._$rootElement[0]._element,cancellable:this._options&&this._options.cancellable,showDelay:this._options&&this._options.showDelay!==null?this._options.showDelay:null};this._waitControl=this.createWaitControl(this._state)},n}();t.LongRunningOperation=p,function(n){n[n.NotStarted=0]="NotStarted";n[n.Waiting=1]="Waiting";n[n.Ending=2]="Ending";n[n.Ended=3]="Ended";n[n.Cancelling=4]="Cancelling";n[n.Cancelled=5]="Cancelled"}(t.WaitingState||(t.WaitingState={}));h=t.WaitingState;v=function(n){function t(t){n.call(this,t);this._state=h.NotStarted}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({image:u.urlHelper.getVersionedContentUrl("big-progress.gif"),showDelay:l.DefaultShowDelay},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this)},t.prototype.startWait=function(n){this._canStartWait()&&(this._context={instanceId:"waitControl_"+l._instanceIdSeed++,cancellable:n,options:{wait:this._options}},this._startWait())},t.prototype.endWait=function(){this._canEndWait()&&(this._state=h.Ending,this._tryEndWait())},t.prototype.cancelWait=function(){this._canCancelWait()&&(this._state=h.Cancelling,this._tryCancelWait())},t.prototype.setMessage=function(n){if(this._context){var t=this._context.options.wait;t.messageElement&&(t.messageElement.find(".wait-message-text").text(n),this._resizeWait(),t.cancellable&&s.tryFocus(t.messageElement.find("#"+t.cancelLinkId)))}},t.prototype.isCancelled=function(){return this._state===h.Cancelled},t.prototype._canStartWait=function(){return this._state===h.NotStarted||this._state===h.Ended||this._state===h.Cancelled},t.prototype._canEndWait=function(){return this._context&&(this._state===h.Waiting||this._state===h.Ending)},t.prototype._canCancelWait=function(){return this._context&&this._context.options.wait.cancellable&&(this._state===h.Waiting||this._state===h.Cancelling)},t.prototype._startWait=function(){var n=this._context.options.wait;this._state=h.Waiting;n.showDelay===null&&(n.showDelay=l.DefaultShowDelay);n.target||(n.entireWindow=!0,n.target=$("body"),n.extraStyles="height:100%; width:100%;");n.target.children(".wait-element").hide();n.target.children(".wait-box").hide();n.showDelay?this._context.showTimer=e.delay(this,n.showDelay,this._showWait):this._showWait()},t.prototype._tryEndWait=function(){var n=this._context.options.wait;this._state!==h.Ending||n.minLifeSpanBlocking||(this._state=h.Ended,this._reset())},t.prototype._tryCancelWait=function(){var t=this._context.options.wait,i=t.cancelCallback,n=this._context.cancellable;this._state!==h.Cancelling||t.minLifeSpanBlocking||(this._state=h.Cancelled,this._reset(),i&&i(),n&&n.cancel&&$.isFunction(n.cancel)&&n.cancel())},t.prototype._reset=function(){this._unbindKeydownEvent();this._removeWaitElement();this._originalFocusElement&&(this._originalFocusElement.focus(),this._originalFocusElement=null);this._removeShowTimer();this._context=null},t.prototype.updateWaitElements=function(n){n.messageElement=n.target.children(".wait-box").first()},t.prototype._showWait=function(){var t="",n=this._context.options.wait,f=n.extraStyles||"",i=this,u;n.image&&(t+=o.format('<img class="wait-image" src="{0}" />',n.image));u=this._getWaitMessage(n);u&&(t+=o.format('<div class="wait-message">{0}<\/div>',u));t.length>0&&(n.target.prepend(o.format('<div class="wait-box">{0}<\/div>',t)),this.updateWaitElements(n));n.backgroundColor&&(f+=o.format("background-color:{0};",n.backgroundColor));n.target.prepend(o.format('<div class="wait-element" style="{0}"><\/div>',f));n.element=n.target.children(".wait-element").first();this._resizeWait();$(window).bind(this._getResizeEventId(this._context.instanceId),c(this,this._resizeWait));n.cancellable&&(this._bindKeydownEvent(n.cancelLinkId),$("#"+n.cancelLinkId).click(c(this,this._handleCancelEvent)),this._originalFocusElement=$(document.activeElement),$("#"+n.cancelLinkId).focus());n.minLifetime||(n.minLifetime=l.MinLifeTime);n.minLifeSpanBlocking=!0;e.delay(this,n.minLifetime,function(){n.minLifeSpanBlocking=!1;i._state===h.Ending?i._tryEndWait():i._state===h.Cancelling&&i._tryCancelWait()})},t.prototype.getWaitingState=function(){return this._state},t.prototype.getWaitingContext=function(){return this._context},t.prototype._resizeWait=function(){var n,t,i;if(n=this._context.options.wait,n.entireWindow||(n.element.css("margin-top",-parseInt(n.target.css("padding-top"),10)),n.element.css("margin-left",-parseInt(n.target.css("padding-left"),10)),n.element.height(n.target.outerHeight()),n.element.width(n.target.outerWidth())),n.messageElement){t=parseInt(n.element.css("margin-top"),10);i=parseInt(n.element.css("margin-left"),10);(!t||isNaN(t))&&(t=0);(!i||isNaN(i))&&(i=0);var e=n.element.outerHeight(),f=n.element.outerWidth(),o=n.messageElement.outerHeight(),u=n.messageElement.outerWidth();u>f&&(u=f-4,n.messageElement.outerWidth(u));n.messageElement.css("top",n.element.position().top+(e-o)/2+t);n.messageElement.css("left",n.element.position().left+(f-u)/2+i)}},t.prototype._onKeyDown=function(n){var t=s.KeyCode;if(n.keyCode===t.ESCAPE)return this._handleCancelEvent(n),!1},t.prototype._handleCancelEvent=function(){return this._unbindKeydownEvent(),this.cancelWait(),!1},t.prototype._bindKeydownEvent=function(n){this._keyDownEventHandler||(this._keyDownEventHandler=c(this,this._onKeyDown),$("#"+n).keydown(this._keyDownEventHandler))},t.prototype._unbindKeydownEvent=function(){if(this._context){var n=this._context.options.wait;this._keyDownEventHandler&&n.cancelLinkId&&($("#"+n.cancelLinkId).unbind("keydown",this._keyDownEventHandler),this._keyDownEventHandler=null)}},t.prototype._removeWaitElement=function(){function t(n){n.element&&(n.element.remove(),n.element=null)}function i(n){n.messageElement&&(n.messageElement.remove(),n.messageElement=null)}if(this._context){var n=this._context.options.wait;n.element&&(n.fade!==!1?(n.element.fadeOut("fast",function(){t(n)}),n.messageElement.fadeOut("fast",function(){i(n)})):(t(n),i(n)),$(window).unbind(this._getResizeEventId(this._context.instanceId)))}},t.prototype._removeShowTimer=function(){this._context&&this._context.showTimer&&(this._context.showTimer.cancel(),delete this._context.showTimer)},t.prototype._getResizeEventId=function(n){return"resize."+n},t.prototype._getWaitMessage=function(n){var i,t;return i="",n.cancellable&&(n.cancelLinkId="cancelLink_"+this._context.instanceId,i=o.format(n.cancelTextFormat||f.CancelWaitAdvice,o.format('<a href="" class="wait-link" tabindex="0" id="{0}">ESC<\/a>',n.cancelLinkId))),t="",n.message?(t=o.format('<span class="wait-message-text">{0}<\/span>',n.message),t=n.cancellable?o.format(this.getWaitMessageFormatString(),t,i):t):n.cancellable&&(t=i),t},t.prototype.getWaitMessageFormatString=function(){return this._options.messageFormat||"{0}({1})"},t._instanceIdSeed=1,t.DefaultShowDelay=250,t.MinLifeTime=100,t}(i.Control);t.WaitControlO=v;l=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(v);t.WaitControl=l});
// VSS/Controls/Panels //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Controls/Panels",["require","exports","VSS/Ajax","VSS/Controls","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Controls/StatusIndicator","VSS/Utils/Core","VSS/Utils/UI","VSS/VSS","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h){var c=s.domElem,y=h.getErrorMessage,l=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({collapsed:!0,iconCss:"icon",iconCollapseCss:"bowtie-icon bowtie-toggle-tree-collapsed",iconExpandCss:"bowtie-icon bowtie-toggle-tree-expanded"},t))},t.prototype._swapDefaultToggleIconForCustom=function(n){this._$toggleIcon.remove();this._$toggleIcon=n;this._header.addClass(t._defaultToggleIconOverrideClass)},t.prototype._createControl=function(){var t=this,n=this._options;return this._isDisabled=!1,n.hoverCss&&this.getElement().hover(function(){$(this).addClass(n.hoverCss)},function(){$(this).removeClass(n.hoverCss)}),this._header=$(c("div","tfs-collapsible-header")).attr("tabindex","0"),n.headerCss&&this._header.addClass(n.headerCss),this._header.bind("click.CollapsiblePanel",function(){return t.toggleExpandedState()}),this._header.bind("keydown",function(n){if(n.keyCode===s.KeyCode.ENTER&&!s.KeyUtils.isModifierKey(n))return t.toggleExpandedState()}),this._header.bind("mouseenter focus",function(n){return n.preventDefault(),t._header.addClass("focus"),!1}),this._header.bind("mouseleave blur",function(n){return n.preventDefault(),t._header.removeClass("focus"),!1}),this._$toggleIcon=$(c("span","tfs-collapsible-collapse")).addClass(n.iconCss).addClass(n.collapsed?n.iconCollapseCss:n.iconExpandCss),n.collapseCss&&this._$toggleIcon.addClass(n.collapseCss),this._header.append(this._$toggleIcon),this.getElement().append(this._header),this._content=$(c("div","tfs-collapsible-content")),n.contentCss&&this._content.addClass(n.contentCss),n.collapsed&&this._content.hide(),this.getElement().append(this._content),this.getElement()},t.prototype._createIn=function(t){n.prototype._createIn.call(this,t);this._createControl()},t.prototype._enhance=function(n){if(this._options.collapsed=n.hasClass("collapsed"),this._createElement(),this._createControl(),n.after(this.getElement()),this.appendContent(n),this._options.headerText)this.appendHeaderText(this._options.headerText);else if(this._options.headerContent)this.appendHeader(this._options.headerContent),this._options.customToggleIcon&&this._swapDefaultToggleIconForCustom(this._options.customToggleIcon);else{var t=n.attr("title");t&&(n.hasClass("header")&&(n.removeClass("header"),this._header.addClass("header")),this.appendHeader(t))}},t.prototype.replaceHeaderTextIfPresent=function(n){return $("span.tfs-collapsible-text",this._header).text(n)},t.prototype.appendHeaderText=function(n){return this._header.attr("title",n),this.appendHeader($("<span>").text(n).addClass("tfs-collapsible-text"))},t.prototype.appendHeader=function(n){return this._header.append(n),this},t.prototype.appendContent=function(n){var i=this._options,t;return $.isFunction(n)?i.collapsed?(this._dynamicContents||(this._dynamicContents=[]),this._dynamicContents.push(n)):t=n.call(this):t=n,t&&(this._content.append(t),this.getElement().removeClass("collapsed")),this},t.prototype.isExpanded=function(){return this._options.collapsed?!1:!0},t.prototype.expand=function(){this.isExpanded()||this.toggleExpandedState()},t.prototype.collapse=function(){this.isExpanded()&&this.toggleExpandedState()},t.prototype.toggleExpandedState=function(){var i,o,n=this._options,r,u=this._content,f=this._dynamicContents,e;if(this._isDisabled)return!1;if(n.collapsed=!n.collapsed,r=this._$toggleIcon,r.removeClass(n.iconCollapseCss+" "+n.iconExpandCss),r.addClass(n.collapsed?n.iconCollapseCss:n.iconExpandCss),n.collapsed)u.hide(),n.expandCss&&this.getElement().removeClass(n.expandCss),this._fire(t.EVENT_CONTENT_COLLAPSED);else{if(f){for(i=0,o=f.length;i<o;i++)e=f[i],$.isFunction(e)&&u.append(e.apply());this._dynamicContents=null}u.show();n.expandCss&&this.getElement().addClass(n.expandCss);this._fire(t.EVENT_CONTENT_EXPANDED)}if(this._options.onToggleCallback&&$.isFunction(this._options.onToggleCallback))this._options.onToggleCallback(this.isExpanded());return!1},t.prototype.setDisabled=function(n){this._isDisabled!=n&&(n?(this._header.addClass("disabled"),this._$toggleIcon.hide()):(this._header.removeClass("disabled"),this._$toggleIcon.show()),this._isDisabled=n)},t.prototype.isCollapsiblePanelDisabled=function(){return this._isDisabled},t.EVENT_CONTENT_EXPANDED="collapsible-panel-expanded",t.EVENT_CONTENT_COLLAPSED="collapsible-panel-collapsed",t.enhancementTypeName="tfs.collapsiblepanel",t._defaultToggleIconOverrideClass="custom-toggle-icon",t}(r.Control),a,v;t.CollapsiblePanel=l;r.Enhancement.registerJQueryWidget(l,"collapsible");r.Enhancement.registerEnhancement(l,".tfs-collapsible");a=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"ajax-panel",replaceContent:!0,cache:!0},t))},t.prototype.initialize=function(){var t=this._options.url;n.prototype.initialize.call(this);t&&this.beginLoad(t,this._options.urlParams,this._options.success,this._options.error)},t.prototype._dispose=function(){this._cancelPendingLoad();n.prototype._dispose.call(this)},t.prototype.beginLoad=function(n,t,s,h){var c=this,l,a;u.logTracePoint("AjaxPanel.beginLoad.start");this._cancelPendingLoad();l=new o.Cancelable(this);this._cancelable=l;this.getElement().empty();this._options.showStatusIndicator!==!1&&(a=r.BaseControl.createIn(e.StatusIndicator,this.getElement(),{center:!0,imageClass:"big-status-progress",message:f.Loading}),a.start());i.issueRequest(n,{type:"GET",data:t,dataType:"html",traditional:!0,cache:this._options.cache}).then(l.wrap(function(n){c.onLoadCompleted(n);$.isFunction(s)&&s.call(c,n)}),l.wrap(function(n){var t;$.isFunction(h)&&(t=h.call(c,n)===!0);c.onLoadError(n,t)}))},t.prototype.onLoadCompleted=function(n){this.getElement()&&this._options.replaceContent&&(this.getElement().empty(),this.getElement().html(n),r.Enhancement.ensureEnhancements(this.getElement()));u.logTracePoint("AjaxPanel.beginLoad.complete")},t.prototype.onLoadError=function(n,t){t||this.showError(n);u.logTracePoint("AjaxPanel.beginLoad.complete")},t.prototype.showError=function(n){this.getElement().empty();$(c("div","error")).appendTo(this.getElement()).text(y(n))},t.prototype._cancelPendingLoad=function(){this._cancelable&&(this._cancelable.cancel(),this._cancelable=null)},t.enhancementTypeName="tfs.ajaxPanel",t}(r.Control);t.AjaxPanelO=a;v=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(a);t.AjaxPanel=v});
// jQueryUI/button //
/*!
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/button",["jquery", "./core", "./widget"], n) : n(jQuery) })(function (n) { var t, i = "ui-button ui-widget ui-state-default ui-corner-all", r = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only", f = function () { var t = n(this); setTimeout(function () { t.find(":ui-button").button("refresh") }, 1) }, u = function (t) { var i = t.name, r = t.form, u = n([]); return i && (i = i.replace(/'/g, "\\'"), u = r ? n(r).find("[name='" + i + "'][type=radio]") : n("[name='" + i + "'][type=radio]", t.ownerDocument).filter(function () { return !this.form })), u }; return n.widget("ui.button", { version: "1.11.4", defaultElement: "<button>", options: { disabled: null, text: !0, label: null, icons: { primary: null, secondary: null } }, _create: function () { this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, f); typeof this.options.disabled != "boolean" ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled); this._determineButtonType(); this.hasTitle = !!this.buttonElement.attr("title"); var e = this, r = this.options, o = this.type === "checkbox" || this.type === "radio", s = o ? "" : "ui-state-active"; r.label === null && (r.label = this.type === "input" ? this.buttonElement.val() : this.buttonElement.html()); this._hoverable(this.buttonElement); this.buttonElement.addClass(i).attr("role", "button").bind("mouseenter" + this.eventNamespace, function () { r.disabled || this === t && n(this).addClass("ui-state-active") }).bind("mouseleave" + this.eventNamespace, function () { r.disabled || n(this).removeClass(s) }).bind("click" + this.eventNamespace, function (n) { r.disabled && (n.preventDefault(), n.stopImmediatePropagation()) }); this._on({ focus: function () { this.buttonElement.addClass("ui-state-focus") }, blur: function () { this.buttonElement.removeClass("ui-state-focus") } }); o && this.element.bind("change" + this.eventNamespace, function () { e.refresh() }); this.type === "checkbox" ? this.buttonElement.bind("click" + this.eventNamespace, function () { if (r.disabled) return !1 }) : this.type === "radio" ? this.buttonElement.bind("click" + this.eventNamespace, function () { if (r.disabled) return !1; n(this).addClass("ui-state-active"); e.buttonElement.attr("aria-pressed", "true"); var t = e.element[0]; u(t).not(t).map(function () { return n(this).button("widget")[0] }).removeClass("ui-state-active").attr("aria-pressed", "false") }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function () { if (r.disabled) return !1; n(this).addClass("ui-state-active"); t = this; e.document.one("mouseup", function () { t = null }) }).bind("mouseup" + this.eventNamespace, function () { if (r.disabled) return !1; n(this).removeClass("ui-state-active") }).bind("keydown" + this.eventNamespace, function (t) { if (r.disabled) return !1; (t.keyCode === n.ui.keyCode.SPACE || t.keyCode === n.ui.keyCode.ENTER) && n(this).addClass("ui-state-active") }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function () { n(this).removeClass("ui-state-active") }), this.buttonElement.is("a") && this.buttonElement.keyup(function (t) { t.keyCode === n.ui.keyCode.SPACE && n(this).click() })); this._setOption("disabled", r.disabled); this._resetButton() }, _determineButtonType: function () { var n, t, i; this.type = this.element.is("[type=checkbox]") ? "checkbox" : this.element.is("[type=radio]") ? "radio" : this.element.is("input") ? "input" : "button"; this.type === "checkbox" || this.type === "radio" ? (n = this.element.parents().last(), t = "label[for='" + this.element.attr("id") + "']", this.buttonElement = n.find(t), this.buttonElement.length || (n = n.length ? n.siblings() : this.element.siblings(), this.buttonElement = n.filter(t), this.buttonElement.length || (this.buttonElement = n.find(t))), this.element.addClass("ui-helper-hidden-accessible"), i = this.element.is(":checked"), i && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element }, widget: function () { return this.buttonElement }, _destroy: function () { this.element.removeClass("ui-helper-hidden-accessible"); this.buttonElement.removeClass(i + " ui-state-active " + r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()); this.hasTitle || this.buttonElement.removeAttr("title") }, _setOption: function (n, t) { if (this._super(n, t), n === "disabled") { this.widget().toggleClass("ui-state-disabled", !!t); this.element.prop("disabled", !!t); t && (this.type === "checkbox" || this.type === "radio" ? this.buttonElement.removeClass("ui-state-focus") : this.buttonElement.removeClass("ui-state-focus ui-state-active")); return } this._resetButton() }, refresh: function () { var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled"); t !== this.options.disabled && this._setOption("disabled", t); this.type === "radio" ? u(this.element[0]).each(function () { n(this).is(":checked") ? n(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false") }) : this.type === "checkbox" && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false")) }, _resetButton: function () { if (this.type === "input") { this.options.label && this.element.val(this.options.label); return } var i = this.buttonElement.removeClass(r), e = n("<span><\/span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(), t = this.options.icons, f = t.primary && t.secondary, u = []; t.primary || t.secondary ? (this.options.text && u.push("ui-button-text-icon" + (f ? "s" : t.primary ? "-primary" : "-secondary")), t.primary && i.prepend("<span class='ui-button-icon-primary ui-icon " + t.primary + "'><\/span>"), t.secondary && i.append("<span class='ui-button-icon-secondary ui-icon " + t.secondary + "'><\/span>"), this.options.text || (u.push(f ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || i.attr("title", n.trim(e)))) : u.push("ui-button-text-only"); i.addClass(u.join(" ")) } }), n.widget("ui.buttonset", { version: "1.11.4", options: { items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)" }, _create: function () { this.element.addClass("ui-buttonset") }, _init: function () { this.refresh() }, _setOption: function (n, t) { n === "disabled" && this.buttons.button("option", n, t); this._super(n, t) }, refresh: function () { var i = this.element.css("direction") === "rtl", t = this.element.find(this.options.items), r = t.filter(":ui-button"); t.not(":ui-button").button(); r.button("refresh"); this.buttons = t.map(function () { return n(this).button("widget")[0] }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(i ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(i ? "ui-corner-left" : "ui-corner-right").end().end() }, _destroy: function () { this.element.removeClass("ui-buttonset"); this.buttons.map(function () { return n(this).button("widget")[0] }).removeClass("ui-corner-left ui-corner-right").end().button("destroy") } }), n.ui.button });
// jQueryUI/draggable //
/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/draggable",["jquery", "./core", "./mouse", "./widget"], n) : n(jQuery) })(function (n) { return n.widget("ui.draggable", n.ui.mouse, { version: "1.11.4", widgetEventPrefix: "drag", options: { addClasses: !0, appendTo: "parent", axis: !1, connectToSortable: !1, containment: !1, cursor: "auto", cursorAt: !1, grid: !1, handle: !1, helper: "original", iframeFix: !1, opacity: !1, refreshPositions: !1, revert: !1, revertDuration: 500, scope: "default", scroll: !0, scrollSensitivity: 20, scrollSpeed: 20, snap: !1, snapMode: "both", snapTolerance: 20, stack: !1, zIndex: !1, drag: null, start: null, stop: null }, _create: function () { this.options.helper === "original" && this._setPositionRelative(); this.options.addClasses && this.element.addClass("ui-draggable"); this.options.disabled && this.element.addClass("ui-draggable-disabled"); this._setHandleClassName(); this._mouseInit() }, _setOption: function (n, t) { this._super(n, t); n === "handle" && (this._removeHandleClassName(), this._setHandleClassName()) }, _destroy: function () { if ((this.helper || this.element).is(".ui-draggable-dragging")) { this.destroyOnClear = !0; return } this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"); this._removeHandleClassName(); this._mouseDestroy() }, _mouseCapture: function (t) { var i = this.options; return (this._blurActiveElement(t), this.helper || i.disabled || n(t.target).closest(".ui-resizable-handle").length > 0) ? !1 : (this.handle = this._getHandle(t), !this.handle) ? !1 : (this._blockFrames(i.iframeFix === !0 ? "iframe" : i.iframeFix), !0) }, _blockFrames: function (t) { this.iframeBlocks = this.document.find(t).map(function () { var t = n(this); return n("<div>").css("position", "absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0] }) }, _unblockFrames: function () { this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks) }, _blurActiveElement: function (t) { var i = this.document[0]; if (this.handleElement.is(t.target)) try { i.activeElement && i.activeElement.nodeName.toLowerCase() !== "body" && n(i.activeElement).blur() } catch (r) { } }, _mouseStart: function (t) { var i = this.options; return (this.helper = this._createHelper(t), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), n.ui.ddmanager && (n.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = this.helper.parents().filter(function () { return n(this).css("position") === "fixed" }).length > 0, this.positionAbs = this.element.offset(), this._refreshOffsets(t), this.originalPosition = this.position = this._generatePosition(t, !1), this.originalPageX = t.pageX, this.originalPageY = t.pageY, i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), this._trigger("start", t) === !1) ? (this._clear(), !1) : (this._cacheHelperProportions(), n.ui.ddmanager && !i.dropBehaviour && n.ui.ddmanager.prepareOffsets(this, t), this._normalizeRightBottom(), this._mouseDrag(t, !0), n.ui.ddmanager && n.ui.ddmanager.dragStart(this, t), !0) }, _refreshOffsets: function (n) { this.offset = { top: this.positionAbs.top - this.margins.top, left: this.positionAbs.left - this.margins.left, scroll: !1, parent: this._getParentOffset(), relative: this._getRelativeOffset() }; this.offset.click = { left: n.pageX - this.offset.left, top: n.pageY - this.offset.top } }, _mouseDrag: function (t, i) { if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(t, !0), this.positionAbs = this._convertPositionTo("absolute"), !i) { var r = this._uiHash(); if (this._trigger("drag", t, r) === !1) return this._mouseUp({}), !1; this.position = r.position } return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", n.ui.ddmanager && n.ui.ddmanager.drag(this, t), !1 }, _mouseStop: function (t) { var r = this, i = !1; return n.ui.ddmanager && !this.options.dropBehaviour && (i = n.ui.ddmanager.drop(this, t)), this.dropped && (i = this.dropped, this.dropped = !1), this.options.revert === "invalid" && !i || this.options.revert === "valid" && i || this.options.revert === !0 || n.isFunction(this.options.revert) && this.options.revert.call(this.element, i) ? n(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () { r._trigger("stop", t) !== !1 && r._clear() }) : this._trigger("stop", t) !== !1 && this._clear(), !1 }, _mouseUp: function (t) { return this._unblockFrames(), n.ui.ddmanager && n.ui.ddmanager.dragStop(this, t), this.handleElement.is(t.target) && this.element.focus(), n.ui.mouse.prototype._mouseUp.call(this, t) }, cancel: function () { return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this }, _getHandle: function (t) { return this.options.handle ? !!n(t.target).closest(this.element.find(this.options.handle)).length : !0 }, _setHandleClassName: function () { this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element; this.handleElement.addClass("ui-draggable-handle") }, _removeHandleClassName: function () { this.handleElement.removeClass("ui-draggable-handle") }, _createHelper: function (t) { var r = this.options, u = n.isFunction(r.helper), i = u ? n(r.helper.apply(this.element[0], [t])) : r.helper === "clone" ? this.element.clone().removeAttr("id") : this.element; return i.parents("body").length || i.appendTo(r.appendTo === "parent" ? this.element[0].parentNode : r.appendTo), u && i[0] === this.element[0] && this._setPositionRelative(), i[0] === this.element[0] || /(fixed|absolute)/.test(i.css("position")) || i.css("position", "absolute"), i }, _setPositionRelative: function () { /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative") }, _adjustOffsetFromHelper: function (t) { typeof t == "string" && (t = t.split(" ")); n.isArray(t) && (t = { left: +t[0], top: +t[1] || 0 }); "left" in t && (this.offset.click.left = t.left + this.margins.left); "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left); "top" in t && (this.offset.click.top = t.top + this.margins.top); "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top) }, _isRootNode: function (n) { return /(html|body)/i.test(n.tagName) || n === this.document[0] }, _getParentOffset: function () { var t = this.offsetParent.offset(), i = this.document[0]; return this.cssPosition === "absolute" && this.scrollParent[0] !== i && n.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (t = { top: 0, left: 0 }), { top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0) } }, _getRelativeOffset: function () { if (this.cssPosition !== "relative") return { top: 0, left: 0 }; var n = this.element.position(), t = this._isRootNode(this.scrollParent[0]); return { top: n.top - (parseInt(this.helper.css("top"), 10) || 0) + (t ? 0 : this.scrollParent.scrollTop()), left: n.left - (parseInt(this.helper.css("left"), 10) || 0) + (t ? 0 : this.scrollParent.scrollLeft()) } }, _cacheMargins: function () { this.margins = { left: parseInt(this.element.css("marginLeft"), 10) || 0, top: parseInt(this.element.css("marginTop"), 10) || 0, right: parseInt(this.element.css("marginRight"), 10) || 0, bottom: parseInt(this.element.css("marginBottom"), 10) || 0 } }, _cacheHelperProportions: function () { this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight() } }, _setContainment: function () { var f, t, i, r = this.options, u = this.document[0]; if (this.relativeContainer = null, !r.containment) { this.containment = null; return } if (r.containment === "window") { this.containment = [n(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, n(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, n(window).scrollLeft() + n(window).width() - this.helperProportions.width - this.margins.left, n(window).scrollTop() + (n(window).height() || u.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]; return } if (r.containment === "document") { this.containment = [0, 0, n(u).width() - this.helperProportions.width - this.margins.left, (n(u).height() || u.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]; return } if (r.containment.constructor === Array) { this.containment = r.containment; return } (r.containment === "parent" && (r.containment = this.helper[0].parentNode), t = n(r.containment), i = t[0], i) && (f = /(scroll|auto)/.test(t.css("overflow")), this.containment = [(parseInt(t.css("borderLeftWidth"), 10) || 0) + (parseInt(t.css("paddingLeft"), 10) || 0), (parseInt(t.css("borderTopWidth"), 10) || 0) + (parseInt(t.css("paddingTop"), 10) || 0), (f ? Math.max(i.scrollWidth, i.offsetWidth) : i.offsetWidth) - (parseInt(t.css("borderRightWidth"), 10) || 0) - (parseInt(t.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (f ? Math.max(i.scrollHeight, i.offsetHeight) : i.offsetHeight) - (parseInt(t.css("borderBottomWidth"), 10) || 0) - (parseInt(t.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = t) }, _convertPositionTo: function (n, t) { t || (t = this.position); var i = n === "absolute" ? 1 : -1, r = this._isRootNode(this.scrollParent[0]); return { top: t.top + this.offset.relative.top * i + this.offset.parent.top * i - (this.cssPosition === "fixed" ? -this.offset.scroll.top : r ? 0 : this.offset.scroll.top) * i, left: t.left + this.offset.relative.left * i + this.offset.parent.left * i - (this.cssPosition === "fixed" ? -this.offset.scroll.left : r ? 0 : this.offset.scroll.left) * i } }, _generatePosition: function (n, t) { var i, s, u, f, r = this.options, h = this._isRootNode(this.scrollParent[0]), e = n.pageX, o = n.pageY; return h && this.offset.scroll || (this.offset.scroll = { top: this.scrollParent.scrollTop(), left: this.scrollParent.scrollLeft() }), t && (this.containment && (this.relativeContainer ? (s = this.relativeContainer.offset(), i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment, n.pageX - this.offset.click.left < i[0] && (e = i[0] + this.offset.click.left), n.pageY - this.offset.click.top < i[1] && (o = i[1] + this.offset.click.top), n.pageX - this.offset.click.left > i[2] && (e = i[2] + this.offset.click.left), n.pageY - this.offset.click.top > i[3] && (o = i[3] + this.offset.click.top)), r.grid && (u = r.grid[1] ? this.originalPageY + Math.round((o - this.originalPageY) / r.grid[1]) * r.grid[1] : this.originalPageY, o = i ? u - this.offset.click.top >= i[1] || u - this.offset.click.top > i[3] ? u : u - this.offset.click.top >= i[1] ? u - r.grid[1] : u + r.grid[1] : u, f = r.grid[0] ? this.originalPageX + Math.round((e - this.originalPageX) / r.grid[0]) * r.grid[0] : this.originalPageX, e = i ? f - this.offset.click.left >= i[0] || f - this.offset.click.left > i[2] ? f : f - this.offset.click.left >= i[0] ? f - r.grid[0] : f + r.grid[0] : f), r.axis === "y" && (e = this.originalPageX), r.axis === "x" && (o = this.originalPageY)), { top: o - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (this.cssPosition === "fixed" ? -this.offset.scroll.top : h ? 0 : this.offset.scroll.top), left: e - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (this.cssPosition === "fixed" ? -this.offset.scroll.left : h ? 0 : this.offset.scroll.left) } }, _clear: function () { this.helper.removeClass("ui-draggable-dragging"); this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(); this.helper = null; this.cancelHelperRemoval = !1; this.destroyOnClear && this.destroy() }, _normalizeRightBottom: function () { this.options.axis !== "y" && this.helper.css("right") !== "auto" && (this.helper.width(this.helper.width()), this.helper.css("right", "auto")); this.options.axis !== "x" && this.helper.css("bottom") !== "auto" && (this.helper.height(this.helper.height()), this.helper.css("bottom", "auto")) }, _trigger: function (t, i, r) { return r = r || this._uiHash(), n.ui.plugin.call(this, t, [i, r, this], !0), /^(drag|start|stop)/.test(t) && (this.positionAbs = this._convertPositionTo("absolute"), r.offset = this.positionAbs), n.Widget.prototype._trigger.call(this, t, i, r) }, plugins: {}, _uiHash: function () { return { helper: this.helper, position: this.position, originalPosition: this.originalPosition, offset: this.positionAbs } } }), n.ui.plugin.add("draggable", "connectToSortable", { start: function (t, i, r) { var u = n.extend({}, i, { item: r.element }); r.sortables = []; n(r.options.connectToSortable).each(function () { var i = n(this).sortable("instance"); i && !i.options.disabled && (r.sortables.push(i), i.refreshPositions(), i._trigger("activate", t, u)) }) }, stop: function (t, i, r) { var u = n.extend({}, i, { item: r.element }); r.cancelHelperRemoval = !1; n.each(r.sortables, function () { var n = this; n.isOver ? (n.isOver = 0, r.cancelHelperRemoval = !0, n.cancelHelperRemoval = !1, n._storedCSS = { position: n.placeholder.css("position"), top: n.placeholder.css("top"), left: n.placeholder.css("left") }, n._mouseStop(t), n.options.helper = n.options._helper) : (n.cancelHelperRemoval = !0, n._trigger("deactivate", t, u)) }) }, drag: function (t, i, r) { n.each(r.sortables, function () { var f = !1, u = this; u.positionAbs = r.positionAbs; u.helperProportions = r.helperProportions; u.offset.click = r.offset.click; u._intersectsWith(u.containerCache) && (f = !0, n.each(r.sortables, function () { return this.positionAbs = r.positionAbs, this.helperProportions = r.helperProportions, this.offset.click = r.offset.click, this !== u && this._intersectsWith(this.containerCache) && n.contains(u.element[0], this.element[0]) && (f = !1), f })); f ? (u.isOver || (u.isOver = 1, r._parent = i.helper.parent(), u.currentItem = i.helper.appendTo(u.element).data("ui-sortable-item", !0), u.options._helper = u.options.helper, u.options.helper = function () { return i.helper[0] }, t.target = u.currentItem[0], u._mouseCapture(t, !0), u._mouseStart(t, !0, !0), u.offset.click.top = r.offset.click.top, u.offset.click.left = r.offset.click.left, u.offset.parent.left -= r.offset.parent.left - u.offset.parent.left, u.offset.parent.top -= r.offset.parent.top - u.offset.parent.top, r._trigger("toSortable", t), r.dropped = u.element, n.each(r.sortables, function () { this.refreshPositions() }), r.currentItem = r.element, u.fromOutside = r), u.currentItem && (u._mouseDrag(t), i.position = u.position)) : u.isOver && (u.isOver = 0, u.cancelHelperRemoval = !0, u.options._revert = u.options.revert, u.options.revert = !1, u._trigger("out", t, u._uiHash(u)), u._mouseStop(t, !0), u.options.revert = u.options._revert, u.options.helper = u.options._helper, u.placeholder && u.placeholder.remove(), i.helper.appendTo(r._parent), r._refreshOffsets(t), i.position = r._generatePosition(t, !0), r._trigger("fromSortable", t), r.dropped = !1, n.each(r.sortables, function () { this.refreshPositions() })) }) } }), n.ui.plugin.add("draggable", "cursor", { start: function (t, i, r) { var u = n("body"), f = r.options; u.css("cursor") && (f._cursor = u.css("cursor")); u.css("cursor", f.cursor) }, stop: function (t, i, r) { var u = r.options; u._cursor && n("body").css("cursor", u._cursor) } }), n.ui.plugin.add("draggable", "opacity", { start: function (t, i, r) { var u = n(i.helper), f = r.options; u.css("opacity") && (f._opacity = u.css("opacity")); u.css("opacity", f.opacity) }, stop: function (t, i, r) { var u = r.options; u._opacity && n(i.helper).css("opacity", u._opacity) } }), n.ui.plugin.add("draggable", "scroll", { start: function (n, t, i) { i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1)); i.scrollParentNotHidden[0] !== i.document[0] && i.scrollParentNotHidden[0].tagName !== "HTML" && (i.overflowOffset = i.scrollParentNotHidden.offset()) }, drag: function (t, i, r) { var u = r.options, o = !1, e = r.scrollParentNotHidden[0], f = r.document[0]; e !== f && e.tagName !== "HTML" ? (u.axis && u.axis === "x" || (r.overflowOffset.top + e.offsetHeight - t.pageY < u.scrollSensitivity ? e.scrollTop = o = e.scrollTop + u.scrollSpeed : t.pageY - r.overflowOffset.top < u.scrollSensitivity && (e.scrollTop = o = e.scrollTop - u.scrollSpeed)), u.axis && u.axis === "y" || (r.overflowOffset.left + e.offsetWidth - t.pageX < u.scrollSensitivity ? e.scrollLeft = o = e.scrollLeft + u.scrollSpeed : t.pageX - r.overflowOffset.left < u.scrollSensitivity && (e.scrollLeft = o = e.scrollLeft - u.scrollSpeed))) : (u.axis && u.axis === "x" || (t.pageY - n(f).scrollTop() < u.scrollSensitivity ? o = n(f).scrollTop(n(f).scrollTop() - u.scrollSpeed) : n(window).height() - (t.pageY - n(f).scrollTop()) < u.scrollSensitivity && (o = n(f).scrollTop(n(f).scrollTop() + u.scrollSpeed))), u.axis && u.axis === "y" || (t.pageX - n(f).scrollLeft() < u.scrollSensitivity ? o = n(f).scrollLeft(n(f).scrollLeft() - u.scrollSpeed) : n(window).width() - (t.pageX - n(f).scrollLeft()) < u.scrollSensitivity && (o = n(f).scrollLeft(n(f).scrollLeft() + u.scrollSpeed)))); o !== !1 && n.ui.ddmanager && !u.dropBehaviour && n.ui.ddmanager.prepareOffsets(r, t) } }), n.ui.plugin.add("draggable", "snap", { start: function (t, i, r) { var u = r.options; r.snapElements = []; n(u.snap.constructor !== String ? u.snap.items || ":data(ui-draggable)" : u.snap).each(function () { var t = n(this), i = t.offset(); this !== r.element[0] && r.snapElements.push({ item: this, width: t.outerWidth(), height: t.outerHeight(), top: i.top, left: i.left }) }) }, drag: function (t, i, r) { for (var e, o, s, h, c, a, l, v, w, b = r.options, f = b.snapTolerance, y = i.offset.left, k = y + r.helperProportions.width, p = i.offset.top, d = p + r.helperProportions.height, u = r.snapElements.length - 1; u >= 0; u--) { if (c = r.snapElements[u].left - r.margins.left, a = c + r.snapElements[u].width, l = r.snapElements[u].top - r.margins.top, v = l + r.snapElements[u].height, k < c - f || y > a + f || d < l - f || p > v + f || !n.contains(r.snapElements[u].item.ownerDocument, r.snapElements[u].item)) { r.snapElements[u].snapping && r.options.snap.release && r.options.snap.release.call(r.element, t, n.extend(r._uiHash(), { snapItem: r.snapElements[u].item })); r.snapElements[u].snapping = !1; continue } b.snapMode !== "inner" && (e = Math.abs(l - d) <= f, o = Math.abs(v - p) <= f, s = Math.abs(c - k) <= f, h = Math.abs(a - y) <= f, e && (i.position.top = r._convertPositionTo("relative", { top: l - r.helperProportions.height, left: 0 }).top), o && (i.position.top = r._convertPositionTo("relative", { top: v, left: 0 }).top), s && (i.position.left = r._convertPositionTo("relative", { top: 0, left: c - r.helperProportions.width }).left), h && (i.position.left = r._convertPositionTo("relative", { top: 0, left: a }).left)); w = e || o || s || h; b.snapMode !== "outer" && (e = Math.abs(l - p) <= f, o = Math.abs(v - d) <= f, s = Math.abs(c - y) <= f, h = Math.abs(a - k) <= f, e && (i.position.top = r._convertPositionTo("relative", { top: l, left: 0 }).top), o && (i.position.top = r._convertPositionTo("relative", { top: v - r.helperProportions.height, left: 0 }).top), s && (i.position.left = r._convertPositionTo("relative", { top: 0, left: c }).left), h && (i.position.left = r._convertPositionTo("relative", { top: 0, left: a - r.helperProportions.width }).left)); !r.snapElements[u].snapping && (e || o || s || h || w) && r.options.snap.snap && r.options.snap.snap.call(r.element, t, n.extend(r._uiHash(), { snapItem: r.snapElements[u].item })); r.snapElements[u].snapping = e || o || s || h || w } } }), n.ui.plugin.add("draggable", "stack", { start: function (t, i, r) { var f, e = r.options, u = n.makeArray(n(e.stack)).sort(function (t, i) { return (parseInt(n(t).css("zIndex"), 10) || 0) - (parseInt(n(i).css("zIndex"), 10) || 0) }); u.length && (f = parseInt(n(u[0]).css("zIndex"), 10) || 0, n(u).each(function (t) { n(this).css("zIndex", f + t) }), this.css("zIndex", f + u.length)) } }), n.ui.plugin.add("draggable", "zIndex", { start: function (t, i, r) { var u = n(i.helper), f = r.options; u.css("zIndex") && (f._zIndex = u.css("zIndex")); u.css("zIndex", f.zIndex) }, stop: function (t, i, r) { var u = r.options; u._zIndex && n(i.helper).css("zIndex", u._zIndex) } }), n.ui.draggable });
// jQueryUI/mouse //
/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/mouse",["jquery", "./widget"], n) : n(jQuery) })(function (n) { var t = !1; return n(document).mouseup(function () { t = !1 }), n.widget("ui.mouse", { version: "1.11.4", options: { cancel: "input,textarea,button,select,option", distance: 1, delay: 0 }, _mouseInit: function () { var t = this; this.element.bind("mousedown." + this.widgetName, function (n) { return t._mouseDown(n) }).bind("click." + this.widgetName, function (i) { if (!0 === n.data(i.target, t.widgetName + ".preventClickEvent")) return n.removeData(i.target, t.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1 }); this.started = !1 }, _mouseDestroy: function () { this.element.unbind("." + this.widgetName); this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate) }, _mouseDown: function (i) { if (!t) { this._mouseMoved = !1; this._mouseStarted && this._mouseUp(i); this._mouseDownEvent = i; var r = this, u = i.which === 1, f = typeof this.options.cancel == "string" && i.target.nodeName ? n(i.target).closest(this.options.cancel).length : !1; return !u || f || !this._mouseCapture(i) ? !0 : (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () { r.mouseDelayMet = !0 }, this.options.delay)), this._mouseDistanceMet(i) && this._mouseDelayMet(i) && (this._mouseStarted = this._mouseStart(i) !== !1, !this._mouseStarted)) ? (i.preventDefault(), !0) : (!0 === n.data(i.target, this.widgetName + ".preventClickEvent") && n.removeData(i.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (n) { return r._mouseMove(n) }, this._mouseUpDelegate = function (n) { return r._mouseUp(n) }, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), i.preventDefault(), t = !0, !0) } }, _mouseMove: function (t) { return this._mouseMoved && (n.ui.ie && (!document.documentMode || document.documentMode < 9) && !t.button || !t.which) ? this._mouseUp(t) : ((t.which || t.button) && (this._mouseMoved = !0), this._mouseStarted) ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted) }, _mouseUp: function (i) { return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, i.target === this._mouseDownEvent.target && n.data(i.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(i)), t = !1, !1 }, _mouseDistanceMet: function (n) { return Math.max(Math.abs(this._mouseDownEvent.pageX - n.pageX), Math.abs(this._mouseDownEvent.pageY - n.pageY)) >= this.options.distance }, _mouseDelayMet: function () { return this.mouseDelayMet }, _mouseStart: function () { }, _mouseDrag: function () { }, _mouseStop: function () { }, _mouseCapture: function () { return !0 } }) });
// jQueryUI/position //
/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(n){typeof define=="function"&&define.amd?define("jQueryUI/position",["jquery"],n):n(jQuery)})(function(n){return function(){function a(n,t,i){return[parseFloat(n[0])*(l.test(n[0])?t/100:1),parseFloat(n[1])*(l.test(n[1])?i/100:1)]}function r(t,i){return parseInt(n.css(t,i),10)||0}function y(t){var i=t[0];return i.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var u,f,i=Math.max,t=Math.abs,e=Math.round,o=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,l=/%$/,v=n.fn.position;n.position={scrollbarWidth:function(){if(u!==undefined)return u;var r,i,t=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),f=t.children()[0];return n("body").append(t),r=f.offsetWidth,t.css("overflow","scroll"),i=f.offsetWidth,r===i&&(i=t[0].clientWidth),t.remove(),u=r-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),u=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,f=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]),u=!!i[0]&&i[0].nodeType===9;return{element:i,isWindow:r,isDocument:u,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r||u?i.width():i.outerWidth(),height:r||u?i.height():i.outerHeight()}}};n.fn.position=function(u){if(!u||!u.of)return v.apply(this,arguments);u=n.extend({},u);var k,l,p,b,w,g,nt=n(u.of),it=n.position.getWithinInfo(u.within),rt=n.position.getScrollInfo(it),d=(u.collision||"flip").split(" "),tt={};return g=y(nt),nt[0].preventDefault&&(u.at="left top"),l=g.width,p=g.height,b=g.offset,w=n.extend({},b),n.each(["my","at"],function(){var n=(u[this]||"").split(" "),t,i;n.length===1&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]);n[0]=o.test(n[0])?n[0]:"center";n[1]=s.test(n[1])?n[1]:"center";t=h.exec(n[0]);i=h.exec(n[1]);tt[this]=[t?t[0]:0,i?i[0]:0];u[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),d.length===1&&(d[1]=d[0]),u.at[0]==="right"?w.left+=l:u.at[0]==="center"&&(w.left+=l/2),u.at[1]==="bottom"?w.top+=p:u.at[1]==="center"&&(w.top+=p/2),k=a(tt.at,l,p),w.left+=k[0],w.top+=k[1],this.each(function(){var y,g,s=n(this),h=s.outerWidth(),c=s.outerHeight(),ut=r(this,"marginLeft"),ft=r(this,"marginTop"),et=h+ut+r(this,"marginRight")+rt.width,ot=c+ft+r(this,"marginBottom")+rt.height,o=n.extend({},w),v=a(tt.my,s.outerWidth(),s.outerHeight());u.my[0]==="right"?o.left-=h:u.my[0]==="center"&&(o.left-=h/2);u.my[1]==="bottom"?o.top-=c:u.my[1]==="center"&&(o.top-=c/2);o.left+=v[0];o.top+=v[1];f||(o.left=e(o.left),o.top=e(o.top));y={marginLeft:ut,marginTop:ft};n.each(["left","top"],function(t,i){n.ui.position[d[t]]&&n.ui.position[d[t]][i](o,{targetWidth:l,targetHeight:p,elemWidth:h,elemHeight:c,collisionPosition:y,collisionWidth:et,collisionHeight:ot,offset:[k[0]+v[0],k[1]+v[1]],my:u.my,at:u.at,within:it,elem:s})});u.using&&(g=function(n){var r=b.left-o.left,a=r+l-h,f=b.top-o.top,v=f+p-c,e={target:{element:nt,left:b.left,top:b.top,width:l,height:p},element:{element:s,left:o.left,top:o.top,width:h,height:c},horizontal:a<0?"left":r>0?"right":"center",vertical:v<0?"top":f>0?"bottom":"middle"};l<h&&t(r+a)<l&&(e.horizontal="center");p<c&&t(f+v)<p&&(e.vertical="middle");e.important=i(t(r),t(a))>i(t(f),t(v))?"horizontal":"vertical";u.using.call(this,n,e)});s.offset(n.extend(o,{using:g}))})};n.ui.position={fit:{left:function(n,t){var e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,r=u-s,f=s+t.collisionWidth-o-u,h;t.collisionWidth>o?r>0&&f<=0?(h=n.left+r+t.collisionWidth-o-u,n.left+=r-h):n.left=f>0&&r<=0?u:r>f?u+o-t.collisionWidth:u:r>0?n.left+=r:f>0?n.left-=f:n.left=i(n.left-s,n.left)},top:function(n,t){var o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,r=u-s,f=s+t.collisionHeight-e-u,h;t.collisionHeight>e?r>0&&f<=0?(h=n.top+r+t.collisionHeight-e-u,n.top+=r-h):n.top=f>0&&r<=0?u:r>f?u+e-t.collisionHeight:u:r>0?n.top+=r:f>0?n.top-=f:n.top=i(n.top-s,n.top)}},flip:{left:function(n,i){var r=i.within,y=r.offset.left+r.scrollLeft,c=r.width,o=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-i.collisionPosition.marginLeft,a=l-o,v=l+i.collisionWidth-c-o,u=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,f=i.at[0]==="left"?i.targetWidth:i.at[0]==="right"?-i.targetWidth:0,e=-2*i.offset[0],s,h;a<0?(s=n.left+u+f+e+i.collisionWidth-c-y,(s<0||s<t(a))&&(n.left+=u+f+e)):v>0&&(h=n.left-i.collisionPosition.marginLeft+u+f+e-o,(h>0||t(h)<v)&&(n.left+=u+f+e))},top:function(n,i){var r=i.within,y=r.offset.top+r.scrollTop,c=r.height,o=r.isWindow?r.scrollTop:r.offset.top,l=n.top-i.collisionPosition.marginTop,a=l-o,v=l+i.collisionHeight-c-o,p=i.my[1]==="top",u=p?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,f=i.at[1]==="top"?i.targetHeight:i.at[1]==="bottom"?-i.targetHeight:0,e=-2*i.offset[1],s,h;a<0?(h=n.top+u+f+e+i.collisionHeight-c-y,(h<0||h<t(a))&&(n.top+=u+f+e)):v>0&&(s=n.top-i.collisionPosition.marginTop+u+f+e-o,(s>0||t(s)<v)&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,e,o=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(o?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};o&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in r)t.style[e]=r[e];t.appendChild(s);i=o||document.documentElement;i.insertBefore(t,i.firstChild);s.style.cssText="position: absolute; left: 10.7432222px;";u=n(s).offset().left;f=u>10&&u<11;t.innerHTML="";i.removeChild(t)}()}(),n.ui.position});
// jQueryUI/resizable //
/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/resizable",["jquery", "./core", "./mouse", "./widget"], n) : n(jQuery) })(function (n) { return n.widget("ui.resizable", n.ui.mouse, { version: "1.11.4", widgetEventPrefix: "resize", options: { alsoResize: !1, animate: !1, animateDuration: "slow", animateEasing: "swing", aspectRatio: !1, autoHide: !1, containment: !1, ghost: !1, grid: !1, handles: "e,s,se", helper: !1, maxHeight: null, maxWidth: null, minHeight: 10, minWidth: 10, zIndex: 90, resize: null, start: null, stop: null }, _num: function (n) { return parseInt(n, 10) || 0 }, _isNumber: function (n) { return !isNaN(parseInt(n, 10)) }, _hasScroll: function (t, i) { if (n(t).css("overflow") === "hidden") return !1; var r = i && i === "left" ? "scrollLeft" : "scrollTop", u = !1; return t[r] > 0 ? !0 : (t[r] = 1, u = t[r] > 0, t[r] = 0, u) }, _create: function () { var e, f, u, i, o, r = this, t = this.options; if (this.element.addClass("ui-resizable"), n.extend(this, { _aspectRatio: !!t.aspectRatio, aspectRatio: t.aspectRatio, originalElement: this.element, _proportionallyResizeElements: [], _helper: t.helper || t.ghost || t.animate ? t.helper || "ui-resizable-helper" : null }), this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({ position: this.element.css("position"), width: this.element.outerWidth(), height: this.element.outerHeight(), top: this.element.css("top"), left: this.element.css("left") })), this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, this.element.css({ marginLeft: this.originalElement.css("marginLeft"), marginTop: this.originalElement.css("marginTop"), marginRight: this.originalElement.css("marginRight"), marginBottom: this.originalElement.css("marginBottom") }), this.originalElement.css({ marginLeft: 0, marginTop: 0, marginRight: 0, marginBottom: 0 }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({ position: "static", zoom: 1, display: "block" })), this.originalElement.css({ margin: this.originalElement.css("margin") }), this._proportionallyResize()), this.handles = t.handles || (n(".ui-resizable-handle", this.element).length ? { n: ".ui-resizable-n", e: ".ui-resizable-e", s: ".ui-resizable-s", w: ".ui-resizable-w", se: ".ui-resizable-se", sw: ".ui-resizable-sw", ne: ".ui-resizable-ne", nw: ".ui-resizable-nw" } : "e,s,se"), this._handles = n(), this.handles.constructor === String) for (this.handles === "all" && (this.handles = "n,e,s,w,se,sw,ne,nw"), e = this.handles.split(","), this.handles = {}, f = 0; f < e.length; f++) u = n.trim(e[f]), o = "ui-resizable-" + u, i = n("<div class='ui-resizable-handle " + o + "'><\/div>"), i.css({ zIndex: t.zIndex }), "se" === u && i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[u] = ".ui-resizable-" + u, this.element.append(i); this._renderAxis = function (t) { var i, u, f, e; t = t || this.element; for (i in this.handles) this.handles[i].constructor === String ? this.handles[i] = this.element.children(this.handles[i]).first().show() : (this.handles[i].jquery || this.handles[i].nodeType) && (this.handles[i] = n(this.handles[i]), this._on(this.handles[i], { mousedown: r._mouseDown })), this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (u = n(this.handles[i], this.element), e = /sw|ne|nw|se|n|s/.test(i) ? u.outerHeight() : u.outerWidth(), f = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""), t.css(f, e), this._proportionallyResize()), this._handles = this._handles.add(this.handles[i]) }; this._renderAxis(this.element); this._handles = this._handles.add(this.element.find(".ui-resizable-handle")); this._handles.disableSelection(); this._handles.mouseover(function () { r.resizing || (this.className && (i = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), r.axis = i && i[1] ? i[1] : "se") }); t.autoHide && (this._handles.hide(), n(this.element).addClass("ui-resizable-autohide").mouseenter(function () { t.disabled || (n(this).removeClass("ui-resizable-autohide"), r._handles.show()) }).mouseleave(function () { t.disabled || r.resizing || (n(this).addClass("ui-resizable-autohide"), r._handles.hide()) })); this._mouseInit() }, _destroy: function () { this._mouseDestroy(); var t, i = function (t) { n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove() }; return this.elementIsWrapper && (i(this.element), t = this.element, this.originalElement.css({ position: t.css("position"), width: t.outerWidth(), height: t.outerHeight(), top: t.css("top"), left: t.css("left") }).insertAfter(t), t.remove()), this.originalElement.css("resize", this.originalResizeStyle), i(this.originalElement), this }, _mouseCapture: function (t) { var r, i, u = !1; for (r in this.handles) i = n(this.handles[r])[0], (i === t.target || n.contains(i, t.target)) && (u = !0); return !this.options.disabled && u }, _mouseStart: function (t) { var u, f, e, r = this.options, i = this.element; return this.resizing = !0, this._renderProxy(), u = this._num(this.helper.css("left")), f = this._num(this.helper.css("top")), r.containment && (u += n(r.containment).scrollLeft() || 0, f += n(r.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = { left: u, top: f }, this.size = this._helper ? { width: this.helper.width(), height: this.helper.height() } : { width: i.width(), height: i.height() }, this.originalSize = this._helper ? { width: i.outerWidth(), height: i.outerHeight() } : { width: i.width(), height: i.height() }, this.sizeDiff = { width: i.outerWidth() - i.width(), height: i.outerHeight() - i.height() }, this.originalPosition = { left: u, top: f }, this.originalMousePosition = { left: t.pageX, top: t.pageY }, this.aspectRatio = typeof r.aspectRatio == "number" ? r.aspectRatio : this.originalSize.width / this.originalSize.height || 1, e = n(".ui-resizable-" + this.axis).css("cursor"), n("body").css("cursor", e === "auto" ? this.axis + "-resize" : e), i.addClass("ui-resizable-resizing"), this._propagate("start", t), !0 }, _mouseDrag: function (t) { var i, r, u = this.originalMousePosition, e = this.axis, o = t.pageX - u.left || 0, s = t.pageY - u.top || 0, f = this._change[e]; return (this._updatePrevProperties(), !f) ? !1 : (i = f.apply(this, [t, o, s]), this._updateVirtualBoundaries(t.shiftKey), (this._aspectRatio || t.shiftKey) && (i = this._updateRatio(i, t)), i = this._respectSize(i, t), this._updateCache(i), this._propagate("resize", t), r = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), n.isEmptyObject(r) || (this._updatePrevProperties(), this._trigger("resize", t, this.ui()), this._applyChanges()), !1) }, _mouseStop: function (t) { this.resizing = !1; var r, u, f, e, o, s, h, c = this.options, i = this; return this._helper && (r = this._proportionallyResizeElements, u = r.length && /textarea/i.test(r[0].nodeName), f = u && this._hasScroll(r[0], "left") ? 0 : i.sizeDiff.height, e = u ? 0 : i.sizeDiff.width, o = { width: i.helper.width() - e, height: i.helper.height() - f }, s = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null, h = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null, c.animate || this.element.css(n.extend(o, { top: h, left: s })), i.helper.height(i.size.height), i.helper.width(i.size.width), this._helper && !c.animate && this._proportionallyResize()), n("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", t), this._helper && this.helper.remove(), !1 }, _updatePrevProperties: function () { this.prevPosition = { top: this.position.top, left: this.position.left }; this.prevSize = { width: this.size.width, height: this.size.height } }, _applyChanges: function () { var n = {}; return this.position.top !== this.prevPosition.top && (n.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (n.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (n.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (n.height = this.size.height + "px"), this.helper.css(n), n }, _updateVirtualBoundaries: function (n) { var r, u, f, e, t, i = this.options; t = { minWidth: this._isNumber(i.minWidth) ? i.minWidth : 0, maxWidth: this._isNumber(i.maxWidth) ? i.maxWidth : Infinity, minHeight: this._isNumber(i.minHeight) ? i.minHeight : 0, maxHeight: this._isNumber(i.maxHeight) ? i.maxHeight : Infinity }; (this._aspectRatio || n) && (r = t.minHeight * this.aspectRatio, f = t.minWidth / this.aspectRatio, u = t.maxHeight * this.aspectRatio, e = t.maxWidth / this.aspectRatio, r > t.minWidth && (t.minWidth = r), f > t.minHeight && (t.minHeight = f), u < t.maxWidth && (t.maxWidth = u), e < t.maxHeight && (t.maxHeight = e)); this._vBoundaries = t }, _updateCache: function (n) { this.offset = this.helper.offset(); this._isNumber(n.left) && (this.position.left = n.left); this._isNumber(n.top) && (this.position.top = n.top); this._isNumber(n.height) && (this.size.height = n.height); this._isNumber(n.width) && (this.size.width = n.width) }, _updateRatio: function (n) { var t = this.position, i = this.size, r = this.axis; return this._isNumber(n.height) ? n.width = n.height * this.aspectRatio : this._isNumber(n.width) && (n.height = n.width / this.aspectRatio), r === "sw" && (n.left = t.left + (i.width - n.width), n.top = null), r === "nw" && (n.top = t.top + (i.height - n.height), n.left = t.left + (i.width - n.width)), n }, _respectSize: function (n) { var t = this._vBoundaries, i = this.axis, r = this._isNumber(n.width) && t.maxWidth && t.maxWidth < n.width, u = this._isNumber(n.height) && t.maxHeight && t.maxHeight < n.height, f = this._isNumber(n.width) && t.minWidth && t.minWidth > n.width, e = this._isNumber(n.height) && t.minHeight && t.minHeight > n.height, o = this.originalPosition.left + this.originalSize.width, s = this.position.top + this.size.height, h = /sw|nw|w/.test(i), c = /nw|ne|n/.test(i); return f && (n.width = t.minWidth), e && (n.height = t.minHeight), r && (n.width = t.maxWidth), u && (n.height = t.maxHeight), f && h && (n.left = o - t.minWidth), r && h && (n.left = o - t.maxWidth), e && c && (n.top = s - t.minHeight), u && c && (n.top = s - t.maxHeight), n.width || n.height || n.left || !n.top ? n.width || n.height || n.top || !n.left || (n.left = null) : n.top = null, n }, _getPaddingPlusBorderDimensions: function (n) { for (var t = 0, i = [], r = [n.css("borderTopWidth"), n.css("borderRightWidth"), n.css("borderBottomWidth"), n.css("borderLeftWidth")], u = [n.css("paddingTop"), n.css("paddingRight"), n.css("paddingBottom"), n.css("paddingLeft")]; t < 4; t++) i[t] = parseInt(r[t], 10) || 0, i[t] += parseInt(u[t], 10) || 0; return { height: i[0] + i[2], width: i[1] + i[3] } }, _proportionallyResize: function () { if (this._proportionallyResizeElements.length) for (var n, t = 0, i = this.helper || this.element; t < this._proportionallyResizeElements.length; t++) n = this._proportionallyResizeElements[t], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(n)), n.css({ height: i.height() - this.outerDimensions.height || 0, width: i.width() - this.outerDimensions.width || 0 }) }, _renderProxy: function () { var t = this.element, i = this.options; this.elementOffset = t.offset(); this._helper ? (this.helper = this.helper || n("<div style='overflow:hidden;'><\/div>"), this.helper.addClass(this._helper).css({ width: this.element.outerWidth() - 1, height: this.element.outerHeight() - 1, position: "absolute", left: this.elementOffset.left + "px", top: this.elementOffset.top + "px", zIndex: ++i.zIndex }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element }, _change: { e: function (n, t) { return { width: this.originalSize.width + t } }, w: function (n, t) { var i = this.originalSize, r = this.originalPosition; return { left: r.left + t, width: i.width - t } }, n: function (n, t, i) { var r = this.originalSize, u = this.originalPosition; return { top: u.top + i, height: r.height - i } }, s: function (n, t, i) { return { height: this.originalSize.height + i } }, se: function (t, i, r) { return n.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [t, i, r])) }, sw: function (t, i, r) { return n.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [t, i, r])) }, ne: function (t, i, r) { return n.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [t, i, r])) }, nw: function (t, i, r) { return n.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [t, i, r])) } }, _propagate: function (t, i) { n.ui.plugin.call(this, t, [i, this.ui()]); t !== "resize" && this._trigger(t, i, this.ui()) }, plugins: {}, ui: function () { return { originalElement: this.originalElement, element: this.element, helper: this.helper, position: this.position, size: this.size, originalSize: this.originalSize, originalPosition: this.originalPosition } } }), n.ui.plugin.add("resizable", "animate", { stop: function (t) { var i = n(this).resizable("instance"), u = i.options, r = i._proportionallyResizeElements, f = r.length && /textarea/i.test(r[0].nodeName), s = f && i._hasScroll(r[0], "left") ? 0 : i.sizeDiff.height, h = f ? 0 : i.sizeDiff.width, c = { width: i.size.width - h, height: i.size.height - s }, e = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null, o = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null; i.element.animate(n.extend(c, o && e ? { top: o, left: e } : {}), { duration: u.animateDuration, easing: u.animateEasing, step: function () { var u = { width: parseInt(i.element.css("width"), 10), height: parseInt(i.element.css("height"), 10), top: parseInt(i.element.css("top"), 10), left: parseInt(i.element.css("left"), 10) }; r && r.length && n(r[0]).css({ width: u.width, height: u.height }); i._updateCache(u); i._propagate("resize", t) } }) } }), n.ui.plugin.add("resizable", "containment", { start: function () { var r, f, e, o, s, h, c, t = n(this).resizable("instance"), l = t.options, a = t.element, u = l.containment, i = u instanceof n ? u.get(0) : /parent/.test(u) ? a.parent().get(0) : u; i && (t.containerElement = n(i), /document/.test(u) || u === document ? (t.containerOffset = { left: 0, top: 0 }, t.containerPosition = { left: 0, top: 0 }, t.parentData = { element: n(document), left: 0, top: 0, width: n(document).width(), height: n(document).height() || document.body.parentNode.scrollHeight }) : (r = n(i), f = [], n(["Top", "Right", "Left", "Bottom"]).each(function (n, i) { f[n] = t._num(r.css("padding" + i)) }), t.containerOffset = r.offset(), t.containerPosition = r.position(), t.containerSize = { height: r.innerHeight() - f[3], width: r.innerWidth() - f[1] }, e = t.containerOffset, o = t.containerSize.height, s = t.containerSize.width, h = t._hasScroll(i, "left") ? i.scrollWidth : s, c = t._hasScroll(i) ? i.scrollHeight : o, t.parentData = { element: i, left: e.left, top: e.top, width: h, height: c })) }, resize: function (t) { var o, s, h, c, i = n(this).resizable("instance"), v = i.options, r = i.containerOffset, l = i.position, f = i._aspectRatio || t.shiftKey, e = { top: 0, left: 0 }, a = i.containerElement, u = !0; a[0] !== document && /static/.test(a.css("position")) && (e = r); l.left < (i._helper ? r.left : 0) && (i.size.width = i.size.width + (i._helper ? i.position.left - r.left : i.position.left - e.left), f && (i.size.height = i.size.width / i.aspectRatio, u = !1), i.position.left = v.helper ? r.left : 0); l.top < (i._helper ? r.top : 0) && (i.size.height = i.size.height + (i._helper ? i.position.top - r.top : i.position.top), f && (i.size.width = i.size.height * i.aspectRatio, u = !1), i.position.top = i._helper ? r.top : 0); h = i.containerElement.get(0) === i.element.parent().get(0); c = /relative|absolute/.test(i.containerElement.css("position")); h && c ? (i.offset.left = i.parentData.left + i.position.left, i.offset.top = i.parentData.top + i.position.top) : (i.offset.left = i.element.offset().left, i.offset.top = i.element.offset().top); o = Math.abs(i.sizeDiff.width + (i._helper ? i.offset.left - e.left : i.offset.left - r.left)); s = Math.abs(i.sizeDiff.height + (i._helper ? i.offset.top - e.top : i.offset.top - r.top)); o + i.size.width >= i.parentData.width && (i.size.width = i.parentData.width - o, f && (i.size.height = i.size.width / i.aspectRatio, u = !1)); s + i.size.height >= i.parentData.height && (i.size.height = i.parentData.height - s, f && (i.size.width = i.size.height * i.aspectRatio, u = !1)); u || (i.position.left = i.prevPosition.left, i.position.top = i.prevPosition.top, i.size.width = i.prevSize.width, i.size.height = i.prevSize.height) }, stop: function () { var t = n(this).resizable("instance"), r = t.options, u = t.containerOffset, f = t.containerPosition, e = t.containerElement, i = n(t.helper), o = i.offset(), s = i.outerWidth() - t.sizeDiff.width, h = i.outerHeight() - t.sizeDiff.height; t._helper && !r.animate && /relative/.test(e.css("position")) && n(this).css({ left: o.left - f.left - u.left, width: s, height: h }); t._helper && !r.animate && /static/.test(e.css("position")) && n(this).css({ left: o.left - f.left - u.left, width: s, height: h }) } }), n.ui.plugin.add("resizable", "alsoResize", { start: function () { var t = n(this).resizable("instance"), i = t.options; n(i.alsoResize).each(function () { var t = n(this); t.data("ui-resizable-alsoresize", { width: parseInt(t.width(), 10), height: parseInt(t.height(), 10), left: parseInt(t.css("left"), 10), top: parseInt(t.css("top"), 10) }) }) }, resize: function (t, i) { var r = n(this).resizable("instance"), e = r.options, u = r.originalSize, f = r.originalPosition, o = { height: r.size.height - u.height || 0, width: r.size.width - u.width || 0, top: r.position.top - f.top || 0, left: r.position.left - f.left || 0 }; n(e.alsoResize).each(function () { var t = n(this), u = n(this).data("ui-resizable-alsoresize"), r = {}, f = t.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"]; n.each(f, function (n, t) { var i = (u[t] || 0) + (o[t] || 0); i && i >= 0 && (r[t] = i || null) }); t.css(r) }) }, stop: function () { n(this).removeData("resizable-alsoresize") } }), n.ui.plugin.add("resizable", "ghost", { start: function () { var t = n(this).resizable("instance"), i = t.options, r = t.size; t.ghost = t.originalElement.clone(); t.ghost.css({ opacity: .25, display: "block", position: "relative", height: r.height, width: r.width, margin: 0, left: 0, top: 0 }).addClass("ui-resizable-ghost").addClass(typeof i.ghost == "string" ? i.ghost : ""); t.ghost.appendTo(t.helper) }, resize: function () { var t = n(this).resizable("instance"); t.ghost && t.ghost.css({ position: "relative", height: t.size.height, width: t.size.width }) }, stop: function () { var t = n(this).resizable("instance"); t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0)) } }), n.ui.plugin.add("resizable", "grid", { resize: function () { var h, t = n(this).resizable("instance"), i = t.options, y = t.size, o = t.originalSize, s = t.originalPosition, c = t.axis, l = typeof i.grid == "number" ? [i.grid, i.grid] : i.grid, f = l[0] || 1, e = l[1] || 1, a = Math.round((y.width - o.width) / f) * f, v = Math.round((y.height - o.height) / e) * e, r = o.width + a, u = o.height + v, p = i.maxWidth && i.maxWidth < r, w = i.maxHeight && i.maxHeight < u, b = i.minWidth && i.minWidth > r, k = i.minHeight && i.minHeight > u; i.grid = l; b && (r += f); k && (u += e); p && (r -= f); w && (u -= e); /^(se|s|e)$/.test(c) ? (t.size.width = r, t.size.height = u) : /^(ne)$/.test(c) ? (t.size.width = r, t.size.height = u, t.position.top = s.top - v) : /^(sw)$/.test(c) ? (t.size.width = r, t.size.height = u, t.position.left = s.left - a) : ((u - e <= 0 || r - f <= 0) && (h = t._getPaddingPlusBorderDimensions(this)), u - e > 0 ? (t.size.height = u, t.position.top = s.top - v) : (u = e - h.height, t.size.height = u, t.position.top = s.top + o.height - u), r - f > 0 ? (t.size.width = r, t.position.left = s.left - a) : (r = f - h.width, t.size.width = r, t.position.left = s.left + o.width - r)) } }), n.ui.resizable });
// jQueryUI/dialog //
/*!
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/dialog",["jquery", "./core", "./widget", "./button", "./draggable", "./mouse", "./position", "./resizable"], n) : n(jQuery) })(function (n) { return n.widget("ui.dialog", { version: "1.11.4", options: { appendTo: "body", autoOpen: !0, buttons: [], closeOnEscape: !0, closeText: "Close", dialogClass: "", draggable: !0, hide: null, height: "auto", maxHeight: null, maxWidth: null, minHeight: 150, minWidth: 150, modal: !1, position: { my: "center", at: "center", of: window, collision: "fit", using: function (t) { var i = n(this).css(t).offset().top; i < 0 && n(this).css("top", t.top - i) } }, resizable: !0, show: null, title: null, width: 300, beforeClose: null, close: null, drag: null, dragStart: null, dragStop: null, focus: null, open: null, resize: null, resizeStart: null, resizeStop: null }, sizeRelatedOptions: { buttons: !0, height: !0, maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0, width: !0 }, resizableRelatedOptions: { maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0 }, _create: function () { this.originalCss = { display: this.element[0].style.display, width: this.element[0].style.width, minHeight: this.element[0].style.minHeight, maxHeight: this.element[0].style.maxHeight, height: this.element[0].style.height }; this.originalPosition = { parent: this.element.parent(), index: this.element.parent().children().index(this.element) }; this.originalTitle = this.element.attr("title"); this.options.title = this.options.title || this.originalTitle; this._createWrapper(); this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog); this._createTitlebar(); this._createButtonPane(); this.options.draggable && n.fn.draggable && this._makeDraggable(); this.options.resizable && n.fn.resizable && this._makeResizable(); this._isOpen = !1; this._trackFocus() }, _init: function () { this.options.autoOpen && this.open() }, _appendTo: function () { var t = this.options.appendTo; return t && (t.jquery || t.nodeType) ? n(t) : this.document.find(t || "body").eq(0) }, _destroy: function () { var n, t = this.originalPosition; this._untrackInstance(); this._destroyOverlay(); this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(); this.uiDialog.stop(!0, !0).remove(); this.originalTitle && this.element.attr("title", this.originalTitle); n = t.parent.children().eq(t.index); n.length && n[0] !== this.element[0] ? n.before(this.element) : t.parent.append(this.element) }, widget: function () { return this.uiDialog }, disable: n.noop, enable: n.noop, close: function (t) { var i, r = this; if (this._isOpen && this._trigger("beforeClose", t) !== !1) { if (this._isOpen = !1, this._focusedElement = null, this._destroyOverlay(), this._untrackInstance(), !this.opener.filter(":focusable").focus().length) try { i = this.document[0].activeElement; i && i.nodeName.toLowerCase() !== "body" && n(i).blur() } catch (u) { } this._hide(this.uiDialog, this.options.hide, function () { r._trigger("close", t) }) } }, isOpen: function () { return this._isOpen }, moveToTop: function () { this._moveToTop() }, _moveToTop: function (t, i) { var r = !1, f = this.uiDialog.siblings(".ui-front:visible").map(function () { return +n(this).css("z-index") }).get(), u = Math.max.apply(null, f); return u >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", u + 1), r = !0), r && !i && this._trigger("focus", t), r }, open: function () { var t = this; if (this._isOpen) { this._moveToTop() && this._focusTabbable(); return } this._isOpen = !0; this.opener = n(this.document[0].activeElement); this._size(); this._position(); this._createOverlay(); this._moveToTop(null, !0); this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1); this._show(this.uiDialog, this.options.show, function () { t._focusTabbable(); t._trigger("focus") }); this._makeFocusTarget(); this._trigger("open") }, _focusTabbable: function () { var n = this._focusedElement; n || (n = this.element.find("[autofocus]")); n.length || (n = this.element.find(":tabbable")); n.length || (n = this.uiDialogButtonPane.find(":tabbable")); n.length || (n = this.uiDialogTitlebarClose.filter(":tabbable")); n.length || (n = this.uiDialog); n.eq(0).focus() }, _keepFocus: function (t) { function i() { var t = this.document[0].activeElement, i = this.uiDialog[0] === t || n.contains(this.uiDialog[0], t); i || this._focusTabbable() } t.preventDefault(); i.call(this); this._delay(i) }, _createWrapper: function () { this.uiDialog = n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({ tabIndex: -1, role: "dialog" }).appendTo(this._appendTo()); this._on(this.uiDialog, { keydown: function (t) { if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === n.ui.keyCode.ESCAPE) { t.preventDefault(); this.close(t); return } if (t.keyCode === n.ui.keyCode.TAB && !t.isDefaultPrevented()) { var i = this.uiDialog.find(":tabbable"), r = i.filter(":first"), u = i.filter(":last"); t.target !== u[0] && t.target !== this.uiDialog[0] || t.shiftKey ? (t.target === r[0] || t.target === this.uiDialog[0]) && t.shiftKey && (this._delay(function () { u.focus() }), t.preventDefault()) : (this._delay(function () { r.focus() }), t.preventDefault()) } }, mousedown: function (n) { this._moveToTop(n) && this._focusTabbable() } }); this.element.find("[aria-describedby]").length || this.uiDialog.attr({ "aria-describedby": this.element.uniqueId().attr("id") }) }, _createTitlebar: function () { var t; this.uiDialogTitlebar = n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog); this._on(this.uiDialogTitlebar, { mousedown: function (t) { n(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus() } }); this.uiDialogTitlebarClose = n("<button type='button'><\/button>").button({ label: this.options.closeText, icons: { primary: "ui-icon-closethick" }, text: !1 }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar); this._on(this.uiDialogTitlebarClose, { click: function (n) { n.preventDefault(); this.close(n) } }); t = n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar); this._title(t); this.uiDialog.attr({ "aria-labelledby": t.attr("id") }) }, _title: function (n) { this.options.title || n.html("&#160;"); n.text(this.options.title) }, _createButtonPane: function () { this.uiDialogButtonPane = n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"); this.uiButtonSet = n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane); this._createButtons() }, _createButtons: function () { var i = this, t = this.options.buttons; if (this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), n.isEmptyObject(t) || n.isArray(t) && !t.length) { this.uiDialog.removeClass("ui-dialog-buttons"); return } n.each(t, function (t, r) { var u, f; r = n.isFunction(r) ? { click: r, text: t } : r; r = n.extend({ type: "button" }, r); u = r.click; r.click = function () { u.apply(i.element[0], arguments) }; f = { icons: r.icons, text: r.showText }; delete r.icons; delete r.showText; n("<button><\/button>", r).button(f).appendTo(i.uiButtonSet) }); this.uiDialog.addClass("ui-dialog-buttons"); this.uiDialogButtonPane.appendTo(this.uiDialog) }, _makeDraggable: function () { function i(n) { return { position: n.position, offset: n.offset } } var t = this, r = this.options; this.uiDialog.draggable({ cancel: ".ui-dialog-content, .ui-dialog-titlebar-close", handle: ".ui-dialog-titlebar", containment: "document", start: function (r, u) { n(this).addClass("ui-dialog-dragging"); t._blockFrames(); t._trigger("dragStart", r, i(u)) }, drag: function (n, r) { t._trigger("drag", n, i(r)) }, stop: function (u, f) { var e = f.offset.left - t.document.scrollLeft(), o = f.offset.top - t.document.scrollTop(); r.position = { my: "left top", at: "left" + (e >= 0 ? "+" : "") + e + " top" + (o >= 0 ? "+" : "") + o, of: t.window }; n(this).removeClass("ui-dialog-dragging"); t._unblockFrames(); t._trigger("dragStop", u, i(f)) } }) }, _makeResizable: function () { function r(n) { return { originalPosition: n.originalPosition, originalSize: n.originalSize, position: n.position, size: n.size } } var t = this, i = this.options, u = i.resizable, f = this.uiDialog.css("position"), e = typeof u == "string" ? u : "n,e,s,w,se,sw,ne,nw"; this.uiDialog.resizable({ cancel: ".ui-dialog-content", containment: "document", alsoResize: this.element, maxWidth: i.maxWidth, maxHeight: i.maxHeight, minWidth: i.minWidth, minHeight: this._minHeight(), handles: e, start: function (i, u) { n(this).addClass("ui-dialog-resizing"); t._blockFrames(); t._trigger("resizeStart", i, r(u)) }, resize: function (n, i) { t._trigger("resize", n, r(i)) }, stop: function (u, f) { var e = t.uiDialog.offset(), o = e.left - t.document.scrollLeft(), s = e.top - t.document.scrollTop(); i.height = t.uiDialog.height(); i.width = t.uiDialog.width(); i.position = { my: "left top", at: "left" + (o >= 0 ? "+" : "") + o + " top" + (s >= 0 ? "+" : "") + s, of: t.window }; n(this).removeClass("ui-dialog-resizing"); t._unblockFrames(); t._trigger("resizeStop", u, r(f)) } }).css("position", f) }, _trackFocus: function () { this._on(this.widget(), { focusin: function (t) { this._makeFocusTarget(); this._focusedElement = n(t.target) } }) }, _makeFocusTarget: function () { this._untrackInstance(); this._trackingInstances().unshift(this) }, _untrackInstance: function () { var t = this._trackingInstances(), i = n.inArray(this, t); i !== -1 && t.splice(i, 1) }, _trackingInstances: function () { var n = this.document.data("ui-dialog-instances"); return n || (n = [], this.document.data("ui-dialog-instances", n)), n }, _minHeight: function () { var n = this.options; return n.height === "auto" ? n.minHeight : Math.min(n.minHeight, n.height) }, _position: function () { var n = this.uiDialog.is(":visible"); n || this.uiDialog.show(); this.uiDialog.position(this.options.position); n || this.uiDialog.hide() }, _setOptions: function (t) { var i = this, r = !1, u = {}; n.each(t, function (n, t) { i._setOption(n, t); n in i.sizeRelatedOptions && (r = !0); n in i.resizableRelatedOptions && (u[n] = t) }); r && (this._size(), this._position()); this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", u) }, _setOption: function (n, t) { var u, r, i = this.uiDialog; (n === "dialogClass" && i.removeClass(this.options.dialogClass).addClass(t), n !== "disabled") && (this._super(n, t), n === "appendTo" && this.uiDialog.appendTo(this._appendTo()), n === "buttons" && this._createButtons(), n === "closeText" && this.uiDialogTitlebarClose.button({ label: "" + t }), n === "draggable" && (u = i.is(":data(ui-draggable)"), u && !t && i.draggable("destroy"), !u && t && this._makeDraggable()), n === "position" && this._position(), n === "resizable" && (r = i.is(":data(ui-resizable)"), r && !t && i.resizable("destroy"), r && typeof t == "string" && i.resizable("option", "handles", t), r || t === !1 || this._makeResizable()), n === "title" && this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))) }, _size: function () { var t, i, r, n = this.options; this.element.show().css({ width: "auto", minHeight: 0, maxHeight: "none", height: 0 }); n.minWidth > n.width && (n.width = n.minWidth); t = this.uiDialog.css({ height: "auto", width: n.width }).outerHeight(); i = Math.max(0, n.minHeight - t); r = typeof n.maxHeight == "number" ? Math.max(0, n.maxHeight - t) : "none"; n.height === "auto" ? this.element.css({ minHeight: i, maxHeight: r, height: "auto" }) : this.element.height(Math.max(0, n.height - t)); this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight()) }, _blockFrames: function () { this.iframeBlocks = this.document.find("iframe").map(function () { var t = n(this); return n("<div>").css({ position: "absolute", width: t.outerWidth(), height: t.outerHeight() }).appendTo(t.parent()).offset(t.offset())[0] }) }, _unblockFrames: function () { this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks) }, _allowInteraction: function (t) { return n(t.target).closest(".ui-dialog").length ? !0 : !!n(t.target).closest(".ui-datepicker").length }, _createOverlay: function () { if (this.options.modal) { var t = !0; this._delay(function () { t = !1 }); this.document.data("ui-dialog-overlays") || this._on(this.document, { focusin: function (n) { t || this._allowInteraction(n) || (n.preventDefault(), this._trackingInstances()[0]._focusTabbable()) } }); this.overlay = n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()); this._on(this.overlay, { mousedown: "_keepFocus" }); this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1) } }, _destroyOverlay: function () { if (this.options.modal && this.overlay) { var n = this.document.data("ui-dialog-overlays") - 1; n ? this.document.data("ui-dialog-overlays", n) : this.document.unbind("focusin").removeData("ui-dialog-overlays"); this.overlay.remove(); this.overlay = null } } }) });
// VSS/Controls/Dialogs //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Controls/Dialogs",["require","exports","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Controls/Panels","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","q","jQueryUI/core","jQueryUI/button","jQueryUI/dialog","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l){function g(n,t){t&&h.BrowserCheckUtils.isEdge()&&$.each(t,function(t,i){var r=i.click;r&&(i.click=function(t){t&&!$(t.currentTarget).is(":disabled")&&r.apply(n[0],arguments)})})}function nt(n,t){var r=t||"",i;return i=typeof n=="string"?n.split(" "):n,r.split(" ").concat(i).filter(function(n,t,i){return i.indexOf(n)===t}).join(" ")}function ut(n,t){return v.show(n,t)}function et(n,t){return y.showMessageDialog(n,t)}var a=o.delegate,ft=h.domElem,p,v,w,b,k,tt,it,d,y,rt;t.preventClickingDisabledButtons=g;p=function(n){function t(t){n.call(this,t);this._resizeDelegate=a(this,this._onWindowResize)}return __extends(t,n),t.beginExecuteDialogAction=function(n){v._dialogActionInProgress||(v._dialogActionInProgress=!0,n(function(){v._dialogActionInProgress=!1}))},t.create=function(n,t){var f=t&&t.content||$("<div />"),r,u;return t&&t.contentText&&f.text(t.contentText),r=i.Enhancement.enhance(n,f,t),u=this._getNextDialogZIndex(),r._element.parent().css("z-index",u),r._options.modal&&r._element.parent().next("div.ui-widget-overlay").css("z-index",u-1),r._element.parent().children("div.ui-icon-gripsmall-diagonal-se").addClass("ui-icon-grip-diagonal-se"),r},t._getNextDialogZIndex=function(){var t,n,i=0;return $("div.ui-dialog").each(function(){t=Number($(this).css("z-index"));!isNaN(t)&&t>i&&(i=t)}),i<1001?n=1002:(n=i+2,n%2!=0&&n++),n},t.show=function(n,t){return this.create(n,$.extend({autoOpen:!0},t))},t.prototype.initializeOptions=function(t){var i,r,u,f;this._options=this._options||{};n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"dialog",widthPct:.8,heightPct:.8,modal:!0,draggable:!0,resizable:!0,autoOpen:!1,dynamicSize:!0,disposeOnClose:!0,closeText:e.CloseButtonLabelText},t));i=this._options;r=$(window);i.height==="auto"&&(i.height=null);i.minWidth=Math.max(240,parseInt(i.minWidth,10)||0);i.minHeight=Math.max(192,parseInt(i.minHeight,10)||0);this._ensureCtaButton();i.dynamicSize?(i.width=r.width()*i.widthPct,i.height=r.height()*i.heightPct):!i.useLegacyStyle&&i.height&&(u=66,i.subtitle&&(u+=22),f=typeof i.height=="number"?i.height:parseInt(i.height,10),f+=u,i.height=f);i.height&&!isNaN(i.height)&&(i.height=Math.min(i.height,r.height()));i.width&&!isNaN(i.width)&&(i.width=Math.min(i.width,r.width()));i.hideCloseButton&&(i.dialogClass=nt("no-close",i.dialogClass));this._options.useLegacyStyle&&(i.dialogClass=nt("ui-dialog-legacy",i.dialogClass))},t.prototype.initialize=function(){var f=this;n.prototype.initialize.call(this);var t=this,e=$(window),i=$.extend({},this._options);i.title=this.getTitle();i.close=function(n){t._options.close&&t._options.close.call(this,n);t.onClose(n)};i.open=function(n){t._options.open&&t._options.open.call(this,n);t.onOpen(n)};this._bind("dialogdragstart",function(){u.getService().fire("dialog-move",t)});this._options.attachResize&&this._bind("dialogresizestop",a(this,this.onDialogResize));this._options.resizable&&this._bind("dialogresize",a(this,this._onDialogResizing));i.dynamicSize&&(u.getService().attachEvent("window-resize",this._resizeDelegate),this._bind("dialogclose",function(){var n=u.getService();n.fire("dialog-close",t);n.detachEvent("window-resize",t._resizeDelegate)}));i.url||r.logTracePoint("Dialog.initialize.complete");g(this.getElement(),i.buttons);this._options.contentMargin===!1&&this.getElement().addClass("no-margin");this.getElement().dialog(i);this._options.useLegacyStyle||(this.getElement().parent().find(".ui-dialog-titlebar").addClass("bowtie").append($("<div />").addClass("ui-dialog-subtitle")),this.getElement().parent().find(".ui-dialog-buttonpane").addClass("bowtie"),this.getElement().parent().find("button.ui-dialog-titlebar-close .ui-button-icon-primary").addClass("bowtie-icon bowtie-navigate-close"),(this._options.useBowtieStyle||this._options.bowtieVersion>0)&&this.getElement().parent().addClass("bowtie-style"));this.setSubtitle(this.getSubtitle());this.getElement().keydown(function(n){var r,u,i;if(n.keyCode===$.ui.keyCode.ENTER){if(i=$(n.target),(!n.shiftKey&&i.is("input[type='text']")||i.is("textarea")&&n.ctrlKey)&&t._options.defaultButton&&t._options.buttons)return r=t._options.buttons[t._options.defaultButton],r&&(u=$("#"+r.id).button("option"),u.disabled||r.click.apply(this,[n])),!1;if(!i.is("textarea")&&!i.is("a")&&!i.hasClass("propagate-keydown-event"))return!1}});setTimeout(function(){f._autoSizeAndPosition()},0);v._dialogActionInProgress=!1},t.prototype._autoSizeAndPosition=function(){var n=this.getElement(),t=this._options;n&&n.length>0&&$.contains(document.body,n[0])&&(t.position&&n.dialog("option","position",t.position),t.height?n.dialog("option","height",t.height):n.dialog("option","height","auto"),n.show())},t.prototype._ensureCtaButton=function(){var n=this._options,r,u,t,i;n.noAutoCta!==!0&&(r=/(^cta$)|(^cta\ )|(\ cta\ )|( cta$)/,u=/(^warning$)|(^warning\ )|(\ warning\ )|( warning$)/,$.isArray(n.buttons)&&n.buttons.length>0&&!n.buttons.some(function(n){return r.test(n.class)})&&!n.buttons.some(function(n){return u.test(n.class)})?(i=n.buttons[0].class||"",n.buttons[0].class=i+" cta"):n.buttons&&typeof n.buttons=="object"&&(t=Object.keys(n.buttons),t.length>0&&(t.some(function(t){return r.test(n.buttons[t].class)})||t.some(function(t){return u.test(n.buttons[t].class)})||(i=n.buttons[t[0]].class||"",n.buttons[t[0]].class=i+" cta"))))},t.prototype.onLoadCompleted=function(t){n.prototype.onLoadCompleted.call(this,t);this.setInitialFocus();r.logTracePoint("Dialog.initialize.complete")},t.prototype.setInitialFocus=function(){var n=this._options.initialFocusSelector||":visible:tabbable";this.getElement().find(n).first().focus()},t.prototype.setFormFocusDelayed=function(n){o.delay(this,300,function(){n.eq(0).focus().select()})},t.prototype.setTitle=function(n){this._title=n;this._updateTitle()},t.prototype.getTitle=function(){return this._title||this._options.title||this.getElement().attr("title")||""},t.prototype.setSubtitle=function(n){this._subtitle=n;this._updateSubtitle()},t.prototype.getSubtitle=function(){var n=this._subtitle;return(n===null||n===undefined)&&(n=this._options.subtitle),n||""},t.prototype.getDialogResult=function(){return this._dialogResult},t.prototype.setDialogResult=function(n){this._dialogResult=n},t.prototype.show=function(){this.getElement().dialog("open")},t.prototype.onOpen=function(){if(!this._options||this._options.hasProgressElement!==!1){var n=$("<div />").addClass("ui-dialog-titlebar-progress-container").appendTo(this.getElement().parent().find(".ui-dialog-titlebar"));this._progressElement=$("<div />").addClass("ui-dialog-titlebar-progress-element").appendTo(n);c.globalProgressIndicator.registerProgressElement(this._progressElement)}u.getService().fire("dialog-open",this)},t.prototype.onClose=function(){u.getService().fire("dialog-close",this);this._progressElement&&c.globalProgressIndicator.unRegisterProgressElement(this._progressElement);this._options.disposeOnClose&&this.dispose();var n=$(".ui-dialog").slice(-1);n.length&&!this._options.noFocusOnClose&&n.focus()},t.prototype.close=function(){this.getElement()&&this.getElement().dialog("close")},t.prototype._updateSubtitle=function(){if(this._initialized&&this.getElement()){var n=this.getElement().parent().find(".ui-dialog-subtitle"),t=this.getSubtitle()||"";n.text(t);n.toggle(t.length>0)}},t.prototype.onDialogResize=function(){},t.prototype._updateTitle=function(){this._initialized&&this.getElement()&&this.getElement().dialog("option","title",this.getTitle())},t.prototype._onWindowResize=function(){var t=$(window),n=this._options;this.getElement().dialog("option",{width:t.width()*n.widthPct,height:t.height()*n.heightPct});this.getElement().dialog("option",{position:n.position})},t.prototype._onDialogResizing=function(n,t){var u=$(window),i,r;t&&t.position&&t.size&&(i=Math.min(t.size.height,u.height()-t.position.top),r=Math.min(t.size.width,u.width()-t.position.left),(i!==t.size.height||r!==t.size.width)&&this.getElement().dialog("option",{width:r,height:i}))},t.enhancementTypeName="tfs.dialog",t._dialogActionInProgress=!1,t}(f.AjaxPanelO);t.DialogO=p;v=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(p);t.Dialog=v;w=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"dialog modal-dialog",modal:!0,dynamicSize:!1,width:500,height:"auto",defaultButton:"ok",buttons:{ok:{id:"ok",text:t&&t.okText||e.ModalDialogOkButton,click:a(this,this.onOkClick),"class":"cta",disabled:"disabled"},cancel:{id:"cancel",text:t&&t.cancelText||e.ModalDialogCancelButton,click:a(this,this.onCancelClick)}}},t))},t.prototype.initialize=function(){this._bind(b.EVENT_BUTTON_STATUS_CHANGE,a(this,this.onButtonStatusChange));this._bind("resultReady",a(this,this.onResultReady));n.prototype.initialize.call(this)},t.prototype.updateOkButton=function(n){this.getElement()&&this.getElement().trigger(b.EVENT_BUTTON_STATUS_CHANGE,{enabled:n===!0})},t.prototype.processResult=function(n){var t=this._options.okCallback;n&&($.isFunction(t)&&(t.call(this,n),r.logTracePoint(this.getTypeName()+".callback-complete")),this.close())},t.prototype.onOkClick=function(){r.logTracePoint(this.getTypeName()+".OkClicked");this.processResult(this.getDialogResult())},t.prototype.onResultReady=function(n,t){this.processResult(t)},t.prototype.onCancelClick=function(){$.isFunction(this._options.cancelCallback)&&this._options.cancelCallback();this.close()},t.prototype.onButtonStatusChange=function(n,t){this.getElement().siblings(".ui-dialog-buttonpane").find("#"+(t.button||"ok")).button("option","disabled",t.enabled?"":"disabled")},t.enhancementTypeName="tfs.modaldialog",t.EVENT_BUTTON_STATUS_CHANGE="buttonStatusChange",t}(p);t.ModalDialogO=w;b=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(w);t.ModalDialog=b;k=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:400,height:200,resizable:!1,cssClass:"confirmation-dialog"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.$errorContainer=$(ft("div")).addClass("confirmation-dialog-error").prependTo(this.getElement()).hide();this.updateOkButton(!0)},t.prototype._onSuccess=function(){this._fire("resultReady",!0);var n=this._options.successCallback;$.isFunction(n)&&(n.apply(this,arguments),r.logTracePoint(this.getTypeName()+".callback-complete"))},t.prototype._onError=function(n){this.$errorContainer.text(n.message).show()},t.prototype.onOkClick=function(t){this.updateOkButton(!1);n.prototype.onOkClick.call(this,t)},t}(w);t.ConfirmationDialogO=k;tt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(k);t.ConfirmationDialog=tt;it=function(){function n(n){this.button=n}return n.prototype.toString=function(){return"MessageDialogResult: Button: "+(this.button?this.button.id:"?")+" ("+c.ErrorHandler.ignoreRejectedPromiseTag+")"},n}();d=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){var u=this,i=$.extend({width:500,height:"auto",hideCloseButton:!0,coreCssClass:"dialog modal-dialog message-dialog",modal:!0,dynamicSize:!1},t),r;i.buttons instanceof Array&&i.buttons.length>0&&(r={},i.buttons.forEach(function(n){r[n.id]=u.getButtonOptions(n)}),i.defaultButton=i.buttons[0].id,this.setDialogResult(i.buttons[i.buttons.length-1]),i.buttons=r);t.escapeButton&&this.setDialogResult(t.escapeButton);n.prototype.initializeOptions.call(this,i)},t.prototype.initialize=function(){var i,t;n.prototype.initialize.call(this);this._options.requiredTypedConfirmation&&this.initializeTypedConfirmation();for(i in this._options.buttons)t=this._options.buttons[i],t.style&&$("#"+t.id).addClass("button-"+t.style)},t.prototype.initializeTypedConfirmation=function(){var u=this,f=this.getElement(),n=$("<input type='text' class='textbox message-dialog-confirm-textbox no-match' />"),t=$(),i,r;for(i in this._options.buttons)this._options.buttons[i].reject||(t=t.add($("#"+this._options.buttons[i].id)));r=function(){s.ignoreCaseComparer(n.val(),u._options.requiredTypedConfirmation)==0?(n.removeClass("no-match").addClass("match"),t.button("option","disabled","")):(n.addClass("no-match").removeClass("match"),t.button("option","disabled","disabled"))};n.bind("input keyup",r);f.append($("<div class='message-dialog-confirm'><\/div>").append(n));r(null);o.delay(this,100,function(){n.focus();n.select()})},t.prototype.getPromise=function(){return this._deferred||(this._deferred=l.defer()),this._deferred.promise},t.showMessageDialog=function(n,t){var i,r;return t=t||{},i=$.extend({buttons:[y.buttons.ok,y.buttons.cancel],useBowtieStyle:!0,minWidth:t.width,minHeight:t.height,title:e.Confirm},t),i.content=typeof n=="string"?$("<div />").text(n):n,r=ut(y,i),r.getPromise()},t.prototype.onClose=function(t){if(this._deferred){var i=new it(this.getDialogResult());i.button.reject?this._deferred.reject(i):this._deferred.resolve(i)}return n.prototype.onClose.call(this,t)},t.prototype.getButtonOptions=function(n){var t=this;return $.extend({click:function(){t.setDialogResult(n);t.close()}},n)},t.buttons={ok:{id:"ok",text:e.ModalDialogOkButton,reject:!1},cancel:{id:"cancel",text:e.ModalDialogCancelButton,reject:!0},yes:{id:"yes",text:e.ModalDialogYesButton,reject:!1},no:{id:"no",text:e.ModalDialogNoButton,reject:!0},close:{id:"close",text:e.CloseButtonLabelText,reject:!0}},t}(p);t.MessageDialogO=d;y=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(d);t.MessageDialog=y;rt=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:t.width||600,minWidth:400,height:t.height||450,minHeight:200,attachResize:!0,defaultButton:"close",buttons:[{id:"close",text:e.CloseButtonLabelText,click:a(this,this.close)}]},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.setTitle(e.CopyContentDialogTitle);this._decorate()},t.prototype._decorate=function(){var r=this.getElement(),n,i=$("<div>").text(this._options.dialogLabel||this._getDefaultLabelText()),t;this._options.dialogLabelExtend&&i.append(this._options.dialogLabelExtend);t=$("<div class='copy-dialog-container'>").append(i).append($("<p>"));this._options.excludeTextPanel||(n=$("<div>"),t.append(n),this._options.copyAsHtml?this._initializeRichEditor(n):(this._initializeTextPanel(n),o.delay(this,100,function(){this._$textArea.focus();this._$textArea.select()})),this._bind("dialogresize",function(){n.css("height",t.height()-i.height()-40+"px")}));r.append(t);this._options.excludeTextPanel||n.css("height",t.height()-i.height()-40+"px")},t.prototype._getDefaultLabelText=function(){return h.BrowserCheckUtils.isMacintosh()?e.CopyContentMacintoshHelpText:e.CopyContentPcHelpText},t.prototype._initializeRichEditor=function(n){var t=this;c.using(["VSS/Controls/RichEditor"],function(r){var u=i.BaseControl.createIn(r.RichEditor,n,{noToolbar:!0,height:"100%",pageHtml:t._options.pageHtml,internal:!0});u.ready(function(){u.setValue(t._options.data);u.bindOnCopy(a(t,function(){o.delay(this,0,function(){this.close()})}));o.delay(t,100,function(){u.selectText();u.setEnabled(!1)})})})},t.prototype._initializeTextPanel=function(n){var t="copy-content-textarea";this._options.textAreaCopyClass&&(t=this._options.textAreaCopyClass);this._$textArea=$("<textarea/>").addClass(t).text(this._options.data);this._$textArea[0].oncopy=a(this,function(){o.delay(this,0,function(){this.close()})});n.append(this._$textArea)},t.enhancementTypeName="CopyContentDialog",t}(w);t.CopyContentDialog=rt;t.show=ut;t.showMessageDialog=et});
// VSS/Diag/Services //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("VSS/Diag/Services",["require","exports","VSS/Ajax","VSS/Context","VSS/Service"],function(n,t,i,r,u){function s(){var n=r.getPageContext();n&&n.diagnostics.allowStatsCollection&&n.diagnostics.activityId&&u.getLocalService(f).logActivity(n.diagnostics.activityId,window.location.href)}var f=function(){function n(){this._activtyIdHeader="ActivityId";this._progressPendingActions=null;this._progressPendingActionsNewId=0;this._progressPendingActions={};this._activtyStatsCollectionAllowedCallbacks=[]}return n.prototype.initialize=function(){},n.prototype.addActivtyStatsCollectionAllowedCallback=function(n){this._activtyStatsCollectionAllowedCallbacks.push(n)},n.prototype.actionStarted=function(n){if(!this.isCollectingStats())return-1;var t=++this._progressPendingActionsNewId;return this._progressPendingActions[t]=n,t},n.prototype.actionCompleted=function(n,t){var r=null,i,u,f;if(n>-1&&this._allowStatsCollection()&&this.isCollectingStats()&&(i=this._progressPendingActions[n],i)){delete this._progressPendingActions[n];try{u=t.getResponseHeader(this._activtyIdHeader);u&&i.toLowerCase().indexOf("/_apis/stats/activities")===-1&&(r=this.getCurrentPage(),f={actionDate:(new Date).toUTCString(),name:i,id:u,status:t.status,parentId:r?r.id:null},this._saveActivity(f))}catch(e){this.clearStats()}}},n.prototype.logActivity=function(n,t){try{if(this._allowStatsCollection()&&t&&t.toLowerCase().indexOf("_statistics")===-1){var i={actionDate:(new Date).toUTCString(),name:t,id:n};this._saveActivity(i,!0)}}catch(r){this.clearStats()}},n.prototype.getActivityStatistics=function(){try{var t=window.localStorage.getItem(n.ACTIVITY_ID_STORAGE_ITEM);return t?JSON.parse(t):[]}catch(i){return[]}},n.prototype.clearStats=function(){try{window.localStorage.removeItem(n.ACTIVITY_ID_STORAGE_ITEM);window.localStorage.removeItem(n.CURRENT_PAGE)}catch(t){}},n.prototype.collectStats=function(t){try{window.localStorage.setItem(n.ACTIVITY_COLLECTION_STATUS,t.toString())}catch(i){}},n.prototype.getCurrentPage=function(){try{var t=window.localStorage.getItem(n.CURRENT_PAGE);if(t)return JSON.parse(t)}catch(i){}return null},n.prototype.setCurrentPage=function(t){try{window.localStorage.setItem(n.CURRENT_PAGE,JSON.stringify(t))}catch(i){}},n.prototype.isCollectingStats=function(){try{var t=window.localStorage.getItem(n.ACTIVITY_COLLECTION_STATUS);return t?(t=t.toLowerCase(),t==="true"?!0:t==="false"?!1:(window.localStorage.removeItem(n.ACTIVITY_COLLECTION_STATUS),!1)):!1}catch(i){return!1}},n.prototype._saveActivity=function(t,i){if(this.isCollectingStats()&&this._allowStatsCollection()){var r=this.getActivityStatistics();r.push(t);window.localStorage.setItem(n.ACTIVITY_ID_STORAGE_ITEM,JSON.stringify(r));i&&this.setCurrentPage(t)}},n.prototype._allowStatsCollection=function(){for(var t=!0,n=0;n<this._activtyStatsCollectionAllowedCallbacks.length;n++)t=t&&this._activtyStatsCollectionAllowedCallbacks[n]();return t},n.ACTIVITY_COLLECTION_STATUS="TFS.ActivityCollectionStatus",n.ACTIVITY_ID_STORAGE_ITEM="TFS.ActivityIdStats",n.CURRENT_PAGE="TFS.CurrentPageActivity",n}(),e,o;t.ActivityStatsCollector=f;s();u.getLocalService(f).addActivtyStatsCollectionAllowedCallback(function(){var n=r.getPageContext();return!!(n&&n.diagnostics.allowStatsCollection)});e={};o=r.getPageContext();o&&o.diagnostics.allowStatsCollection&&i.addGlobalListener({beforeRequest:function(n,t){var i=u.getLocalService(f).actionStarted(t);e[n]=i},responseReceived:function(n,t,i,r){u.getLocalService(f).actionCompleted(e[n],r);delete e[n]}})});
// Presentation/Scripts/TFS/SPS.Legacy.Ajax //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("Presentation/Scripts/TFS/SPS.Legacy.Ajax",["require","exports","VSS/Service","VSS/Diag/Services","VSS/VSS","VSS/Utils/Core","VSS/Utils/String","VSS/Diag","VSS/Resources/VSS.Resources.Common"],function(n,t,i,r,u,f,e,o,s){function nt(n,f,e,s,c){var l,v,p,a;if(o.logTracePoint("Ajax.response-received",c.requestId),i.getLocalService(r.ActivityStatsCollector).actionCompleted(g[c.requestId],e),delete g[ut],c.isComplete=!0,delete y[c.requestId],c.options!==null&&c.options!==undefined&&c.options.wait!==null&&c.options.wait!==undefined&&t.endWait(c),f!=="timeout"&&e&&e.status===203&&(l=e.getResponseHeader("X-Tfs-Location"),l)){if(v=l.indexOf("reply_to="),v!==-1){for(p=l.indexOf("&",v),a=l.substring(0,v),p!==-1&&(a+=l.substring(p));a.charAt(a.length-1)==="&";)a=a.substring(0,a.length-1);l=a+"&reply_to="+encodeURIComponent(window.location.href)}window.location.href=l;return}if(s)try{s(n,f,e)}catch(w){o.logTracePoint("Ajax.callback-exception",w);h(w)}o.logTracePoint("Ajax.callback-complete",c.requestId);c.progressActionId&&u.globalProgressIndicator.actionCompleted(c.progressActionId);c.options&&c.options.tracePoint&&o.logTracePoint(c.options.tracePoint)}function c(n,t){return function(i,r,u){nt(i,r,u,t,n)}}function a(n,i){return function(r,u,e){nt(null,u,r,function(){var n;if(u==="timeout")h(ht(r),i);else if(r.status===0)t.unloadRequested||t.unloading||f.delay(this,2e3,function(){t.unloadRequested||t.unloading||h(ft(r),i)});else if(r.status>=12e3&&r.status<13e3)t.unloadRequested||t.unloading||h(ft(r),i);else{if(t.unloading&&u==="abort")return;try{n=f.parseMSJSON(r.responseText,!1)}catch(o){}n?h(new Error(n.message),i):h(st(r,e||r.statusText||r.status),i)}},n)}}function l(n,f,e){var s,h,c;return s={isComplete:!1,requestId:ut++,options:e},e&&e.wait&&t.startWait(s),h=n+" ("+s.requestId+")",o.logTracePoint("Ajax.request-started",h),c=i.getLocalService(r.ActivityStatsCollector).actionStarted(n),g[s.requestId]=c,e&&e.showGlobalProgressIndicator===!1||(s.progressActionId=u.globalProgressIndicator.actionStarted(h)),y[s.requestId]=s,s}function et(n){var t=n.options.wait;t.entireWindow||(t.element.css("margin-top",-parseInt(t.target.css("padding-top"),10)),t.element.css("margin-left",-parseInt(t.target.css("padding-left"),10)),t.element.height(t.target.outerHeight()),t.element.width(t.target.outerWidth()));t.msgElement&&(t.msgElement.css("top",t.element.position().top+(t.element.height()-t.msgElement.height())/2+parseInt(t.element.css("margin-top"),10)),t.msgElement.css("left",t.element.position().left+(t.element.width()-t.msgElement.width())/2+parseInt(t.element.css("margin-left"),10)))}function tt(n){var t;return typeof n=="string"&&(n=n.replace(/\u2028/g,"\\u2028")),t=f.parseMSJSON(n,!1),t.hasOwnProperty("__wrappedArray")&&(t=t.__wrappedArray),t}function ct(){t.unloadRequested=!0;f.delay(this,2e3,function(){t.unloadRequested=!1})}function lt(n,t,i,r,u){var f=l(n,t,u),e={type:"GET",data:t,success:c(f,i),error:a(f,r),dataType:"json",traditional:!0,timeout:b};return d.allowArrayResult||(e.converters={"text json":tt}),f.xhr=jQuery.ajax(n,$.extend(e,u)),f}function ot(n,t,i,r,u,f){var h,o,e,y,s,p;if(d.byPassAntiForgery||(t=$.extend(t||{},{__RequestVerificationToken:w()}),h=v(),h&&(t=$.extend(t,{__RequestVerificationToken2:h}))),o=l(n,t,u),u&&u.timeout&&(b=u.timeout),e={type:"POST",data:t,success:c(o,i),error:a(o,r),dataType:"json",traditional:!0,timeout:b},d.allowArrayResult||(e.converters={"text json":tt}),f)for(e.contentType=!1,e.processData=!1,e.data=new FormData,y=Object.keys(t),s=0;s<y.length;s++)p=y[s],e.data.append(p,t[p]);try{o.xhr=jQuery.ajax(n,$.extend(e,u))}catch(k){r(k)}return o}function at(n,t,i,r,u){return ot(n,t,i,r,u,!0)}function vt(n,t,i,r,u){var e,f;return t=$.extend(t,{__RequestVerificationToken:w()}),e=v(),e&&(t=$.extend(t,{__RequestVerificationToken2:e})),f=l(n,t,u),f.xhr=jQuery.ajax(n,$.extend({type:"POST",data:t,ajaxHandler:this,success:c(f,i),error:a(f,r),dataType:"html",traditional:!0,cache:!1},u)),f}function yt(n,t,i,r,u){var f=l(n,t,u);return f.xhr=jQuery.ajax(n,$.extend({type:"GET",data:t,success:c(f,i),error:a(f,r),dataType:"html",traditional:!0,cache:!1},u)),f}function pt(n){var t=l(n&&n.url,n&&n.data,n);return t.xhr=jQuery.ajax(n&&n.url,$.extend({type:"GET",dataType:"jsonp",traditional:!0,success:c(t,n&&n.callback)},n)),t}function w(){return it||(it=$("input[name=__RequestVerificationToken]").val()),it}function v(){return rt||(rt=$("input[name=__RequestVerificationToken2]").val()),rt}function wt(){var n,t;return n=$("<input />").attr("type","hidden").attr("name","__RequestVerificationToken").val(w()),t=v(),t&&n.after($("<input />").attr("type","hidden").attr("name","__RequestVerificationToken2").val(v())),n}function bt(n){var t=$(n);if(t.find("input[name=__RequestVerificationToken]").length===0)return t.append(wt())}var it,rt;t.unloading=!1;t.unloadRequested=!1;var ut=1,b=3e5,h=u.handleError,y,k,d={allowArrayResult:!1,byPassAntiForgery:!1},g={},p;(function(n){n.AjaxException="TFS.Core.Ajax.AjaxException";n.AjaxTimeoutException="TFS.Core.Ajax.AjaxTimeoutException";n.NetworkException="TFS.Core.Ajax.NetworkException"})(p=t.Exceptions||(t.Exceptions={}));y={};var st=function(n,t){var i=new Error(e.format(s.AjaxRequestFailedWithStatus,t));return i.name=p.AjaxException,i.response=n.responseText,i.xhr=n,i},ht=function(n){var t=new Error(s.AjaxRequestTimedOut);return t.name=p.AjaxTimeoutException,t.status=n.status,t.xhr=n,t},ft=function(n){var t=new Error(s.NetworkConnectionUnavailable);return t.name=p.NetworkException,t.status=n.status,t.xhr=n,t};t.endRequest=nt;t.wrapSuccessCallback=c;t.wrapErrorCallback=a;t.beginRequest=l;t.startWait=function(n){var t=n.options.wait;t.end=function(){t.element&&n.isComplete&&!t.timeout&&(t.fade!==!1?(t.element.css("cursor","auto"),t.element.fadeOut("fast",function(){t.element.remove();t.element=null}),t.msgElement&&(t.msgElement.css("cursor","auto"),t.msgElement.fadeOut("fast",function(){t.msgElement.remove();t.msgElement=null}))):(t.element.css("cursor","auto"),t.element.remove(),t.element=null,t.msgElement&&(t.msgElement.css("cursor","auto"),t.msgElement.remove(),t.msgElement=null)),$(window).unbind("resize."+n.requestId))};t.showDelay||(t.showDelay=250);t.target||(t.entireWindow=!0,t.target=$("body"));t.target.children(".wait-element").hide();t.target.children(".wait-box").hide();t.showDelay!==0?n.showTimer=f.delay(this,t.showDelay,function(){delete n.showTimer;k(n)}):k(n)};t.endWait=function(n){n.options.wait.end();n.showTimer&&(n.showTimer.cancel(),delete n.showTimer)};k=function(n){var i="",r="",t=n.options.wait;t.image&&(i+='<img class="wait-image" src="'+t.image+'" />');t.message&&(i+='<div class="wait-message">'+t.message+"<\/div>");i.length>0&&(t.target.prepend('<div class="wait-box">'+i+"<\/div>"),t.msgElement=t.target.children(".wait-box").first());t.backgroundcolor&&(r+="background-color: "+t.backgroundcolor+";");t.target.prepend('<div class="wait-element" style="'+r+'"><\/div>');t.element=t.target.children(".wait-element").first();et(n);$(window).bind("resize."+n.requestId,function(){et(n)});t.minLifetime||(t.minLifetime=100);t.timeout=f.delay(this,t.minLifetime,function(){delete t.timeout;t.end()})};t.msJSONFilter=tt;$(window).bind("beforeunload",ct);$(window).bind("unload",function(){t.unloading=!0;$.each(y,function(n,t){if(t.xhr)try{t.xhr.abort()}catch(i){}})});t.getMSJSON=lt;t.postMSJSON=ot;t.multipartPostMSJSON=at;t.postHTML=vt;t.getHTML=yt;t.getJSONp=pt;t.getAntiForgeryTokenValue=w;t.getAntiForgeryTokenValue2=v;t.setAntiForgeryToken=bt});
// Profile/Scripts/SPS.Profile //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Profile/Scripts/SPS.Profile",["require","exports","VSS/VSS","VSS/Utils/Core","VSS/Controls"],function(n,t,i,r,u){var f,e=function(n){function t(t){n.call(this,null);this.contextData=t;this.profileExists=t.ProfileExists;this.profileCompliant=t.ProfileCompliant;this.identityCompliant=t.IdentityCompliant;this.accountOwnershipCount=t.AccountOwnershipCount;this.accountMembershipCount=t.AccountMembershipCount;this.offerCreateAccountOnProfile=t.OfferCreateAccountOnProfile;this.offerCreateAccountAfterDownload=t.OfferCreateAccountAfterDownload;this.flowAccountOption=t.FlowAccountOption;this.accountUrl=t.AccountUrl;this.cookieValue=t.CookieValue;this.flowSource=t.FlowSource;this.skipUxHeaderFooter=t.SkipUxHeaderFooter;this.enableRioTracking=t.EnableRioTracking}return __extends(t,n),t.parseContext=function(n){var i=r.parseJsonIsland(n,".profile-flow-context");return i?new t(i):null},t.Current=function(){if(!f){var n=this.parseContext($(document));f=n}return f},t.prototype.ToString=function(){var n={pe:this.profileExists?1:0,pc:this.profileCompliant?1:0,ic:this.identityCompliant?1:0,ao:this.accountOwnershipCount,am:this.accountMembershipCount,op:this.offerCreateAccountOnProfile===null?null:this.offerCreateAccountOnProfile?1:0,ad:this.offerCreateAccountAfterDownload===null?null:this.offerCreateAccountAfterDownload?1:0,fa:this.flowAccountOption,au:this.accountUrl,cv:this.cookieValue,fs:this.flowSource,su:this.skipUxHeaderFooter?1:0,er:this.enableRioTracking?1:0},i=JSON.stringify(n);return t.Base64UrlEncode(i)},t.Base64UrlCharacters=function(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="},t.Base64UrlEncode=function(n){for(var i=[],r=t.Base64UrlCharacters(),s,u,f,l,a,h,e,o=0,c;o<n.length;)s=n.charCodeAt(o++),u=n.charCodeAt(o++),f=n.charCodeAt(o++),l=s>>2,a=(s&3)<<4|u>>4,h=(u&15)<<2|f>>6,e=f&63,isNaN(u)?h=e=64:isNaN(f)&&(e=64),i.push(r.charAt(l),r.charAt(a),r.charAt(h),r.charAt(e));if(c=0,i.length){while(i[i.length-1]==="=")i.pop(),c++;i.push(c)}return i.join("")},t}(u.Enhancement);t.ProfileFlowContext=e;u.Enhancement.registerEnhancement(e,".profile-flow-context");i.tfsModuleLoaded("SPS.Profile",t)});
// Profile/Scripts/Resources/Aex.Resources.Profile //
// Profile/Scripts/SPS.Profile.Shared //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("Profile/Scripts/SPS.Profile.Shared",["require","exports","q","VSS/Common/Contracts/Platform","VSS/Context","VSS/Locations","VSS/Utils/Core","Profile/Scripts/Resources/Aex.Resources.Profile"],function(n,t,i,r,u,f,e,o){var s,c,h;(function(n){function e(n,t){var f=n.split("?"),e,r,i,u;if(f.length>1)for(e=f[1],r=e.split("&"),i=0;i<r.length;i++)if(u=r[i].split("="),u[0].toLowerCase()===t.toLowerCase())return u[1];return""}function o(n,r,f){var e;return n===void 0&&(n=null),r===void 0&&(r=null),f===void 0&&(f=u.getDefaultWebContext()),e={controller:i,webContext:f},n&&(e.action=n),r&&(e.queryParams=$.extend(!0,{},r)),t.getMvcUrl(e)}function s(n,i,f,e,o){var s;return i===void 0&&(i=null),f===void 0&&(f=null),e===void 0&&(e=null),o===void 0&&(o=u.getDefaultWebContext()),o.host={hostType:r.ContextHostType.Deployment,relativeUri:n,authority:null,isAADAccount:null,scheme:null,id:null,name:null,uri:null},s={webContext:o},i&&(s.controller=i),f&&(s.action=f),e&&(s.queryParams=e),t.getMvcUrl(s)}var t=new f.UrlHelper("",""),i="profile";n.getQueryValueIgnoreCase=e;n.getProfileUrl=o;n.getAccountUrl=s})(s=t.UrlHelper||(t.UrlHelper={})),function(n){function e(n){if(!n)return{isValid:!1,error:{message:o.ProfileNoFullName}};var r=n.trim();return r.length===0?{isValid:!1,error:{message:o.ProfileNoFullName}}:r.length>i||!t.test(r)?{isValid:!1,error:{message:o.ProfileInvalidName}}:{isValid:!0,validatedValue:r}}function s(n){if(!n)return{isValid:!1,error:{message:o.ProfileNoEmail}};var t=n.trim();return t.length===0?{isValid:!1,error:{message:o.ProfileNoEmail}}:r.test(t)?{isValid:!0,validatedValue:t}:{isValid:!1,error:{message:o.ProfileInvalidEmail}}}function h(n){return!n||n.length===0?{isValid:!1,error:{message:o.ProfileRegionRequired}}:{isValid:!0,validatedValue:n}}function c(n){return!n||n.length===0?{isValid:!1,error:{message:o.ProfileLanguageRequired}}:{isValid:!0,validatedValue:n}}function l(n){return n?(n=n.trim(),n.length===0)?{isValid:!1,error:{message:o.ProfileAccountRequired}}:n.length>f||!u.test(n)?{isValid:!1,error:{message:o.ProfileInvalidAccountName}}:{isValid:!0,validatedValue:n}:{isValid:!1,error:{message:o.ProfileAccountRequired}}}var t=/^[^<>\`"";|%\/@\\\]\[]+$/i,i=256,r=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,u=/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?$/,f=50;n.validateProfileFullName=e;n.validateProfileContactEmail=s;n.validateCountryCode=h;n.validateLanguageCode=c;n.validateAccountName=l}(c=t.Validations||(t.Validations={}));h=function(){function n(t){this.accountUrl=t;this.checkAccountUrl=s.getAccountUrl(t,n.controllerCheck);this.checker=e.throttledDelegate(this,n.delayIntervalMs,this.check);this.done=!1;this.count=0;this.deferred=i.defer()}return n.prototype.start=function(){return this.checker(),this.deferred.promise},n.prototype.check=function(){var t=this;if(!this.done){if(++this.count>n.retryLimit){this.done=!0;this.deferred.reject(n.TimeoutError);return}this.pending||this.done||(this.pending=!0,jQuery.ajax({url:this.checkAccountUrl,cache:!1,error:function(){t.pending=!1},success:function(){t.done=!0;t.pending=!1;t.deferred.resolve(t.accountUrl)}}));this.checker()}},n.TimeoutError="Timeout",n.retryLimit=10,n.delayIntervalMs=3e3,n.controllerCheck="_check",n}();t.AccountCreationMonitor=h});
// VSS/Telemetry/Contracts //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("VSS/Telemetry/Contracts",["require","exports"],function(n,t){"use strict";(function(n){n[n.Session=0]="Session";n[n.App=1]="App"})(t.DelegatedAppTokenType||(t.DelegatedAppTokenType={}));var i=t.DelegatedAppTokenType;t.TypeInfo={CustomerIntelligenceEvent:{fields:null},DelegatedAppTokenType:{enumValues:{session:0,app:1}},WebSessionToken:{fields:null}};t.TypeInfo.CustomerIntelligenceEvent.fields={};t.TypeInfo.WebSessionToken.fields={tokenType:{enumType:t.TypeInfo.DelegatedAppTokenType},validTo:{isDate:!0}}});
// VSS/Telemetry/RestClient //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Telemetry/RestClient",["require","exports","VSS/Telemetry/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function a(n){return window.VSS&&window.VSS.VssSDKRestVersion&&c[window.VSS.VssSDKRestVersion]?r.getClient(c[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(f,undefined,undefined,undefined,n)}var e=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.publishEvents=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"customerintelligence",locationId:"b5cc35c2-ff2b-491d-a085-24b6e9f396fd",resource:"Events",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.CustomerIntelligenceEvent,responseIsCollection:!1,apiVersion:"3.0-preview.1",data:n})},t}(u.VssHttpClient),o,f,s,h,l,c;t.CustomerIntelligenceHttpClient3=e;o=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.publishEvents=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"customerintelligence",locationId:"b5cc35c2-ff2b-491d-a085-24b6e9f396fd",resource:"Events",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.CustomerIntelligenceEvent,responseIsCollection:!1,apiVersion:"2.3-preview.1",data:n})},t}(u.VssHttpClient);t.CustomerIntelligenceHttpClient2_3=o;f=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.publishEvents=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"customerintelligence",locationId:"b5cc35c2-ff2b-491d-a085-24b6e9f396fd",resource:"Events",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.CustomerIntelligenceEvent,responseIsCollection:!1,apiVersion:"2.2-preview.1",data:n})},t}(u.VssHttpClient);t.CustomerIntelligenceHttpClient2_2=f;s=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.publishEvents=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"customerintelligence",locationId:"b5cc35c2-ff2b-491d-a085-24b6e9f396fd",resource:"Events",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.CustomerIntelligenceEvent,responseIsCollection:!1,apiVersion:"2.1-preview.1",data:n})},t}(u.VssHttpClient);t.CustomerIntelligenceHttpClient2_1=s;h=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.publishEvents=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"customerintelligence",locationId:"b5cc35c2-ff2b-491d-a085-24b6e9f396fd",resource:"Events",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.CustomerIntelligenceEvent,responseIsCollection:!1,apiVersion:"2.0-preview.1",data:n})},t}(u.VssHttpClient);t.CustomerIntelligenceHttpClient2=h;l=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(e);t.CustomerIntelligenceHttpClient=l;c={"3.0":e,"2.3":o,"2.2":f,"2.1":s,"2.0":h};t.getClient=a});
// VSS/Telemetry/Services //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("VSS/Telemetry/Services",["require","exports","q","VSS/Context","VSS/Common/Contracts/Platform","VSS/Service","VSS/Telemetry/RestClient","VSS/Utils/Core","VSS/VSS","VSS/Diag"],function(n,t,i,r,u,f,e,o,s,h){function y(){return c&&c.appInsightsConfiguration&&c.appInsightsConfiguration.enabled}function b(){return a.slice()}function k(n,t){t===void 0&&(t=!1);t?v.publish(n):v.delayedPublish(n)}function d(){return v.flush()}var l,c,p;(function(n){function s(){return i}function h(){return e}function l(){return o}function y(n){t=n;var i={instrumentationKey:n.instrumentationKey};c&&(c.webContext.user&&(i.appUserId=c.webContext.user.id),c.webContext.account&&(i.accountId=c.webContext.account.id));f=window.appInsights||function(t){function e(n){i[n]=function(){var t=arguments;i.queue.push(function(){i[n].apply(i,t)})}}var i={config:t},u=document,o=window,s="script",h=u.createElement(s),r,f;for(h.src=t.url||n.insightsScriptUrl,u.getElementsByTagName(s)[0].parentNode.appendChild(h),i.cookie=u.cookie,i.queue=[],r=["Event","Exception","Metric","PageView","Trace"];r.length;)e("track"+r.pop());return t.disableExceptionTracking||(r="onerror",e("_"+r),f=o[r],o[r]=function(n,t,u,e,o){var s=f&&f(n,t,u,e,o);return s!==!0&&i["_"+r](n,t,u,e,o),s}),i}(i);window.appInsights=f;p();n.autoTrackPage&&v(s(),h(),l())}function p(){var n=r.getPageContext(),f;t&&t.customTrackPageData&&t.customTrackPageData.pageName?i=t.customTrackPageData.pageName:n&&(i=n.navigation.currentController+"/"+n.navigation.currentAction,t&&t.trackProjectInfo?(n.webContext.collection&&(i=i+"/"+n.webContext.collection.name),n.webContext.project&&(i=i+"/"+n.webContext.project.name),n.navigation.topMostLevel===u.NavigationContextLevels.Team&&(i=i+"/"+n.webContext.team.name)):(f=n.navigation.topMostLevel===u.NavigationContextLevels.Team?"team":n.webContext.project?"project":n.webContext.collection?"collection":"account",i=i+"/"+f),n.navigation.area&&(i=i+"/"+n.navigation.area));t&&t.customTrackPageData&&t.customTrackPageData.properties?e=t.customTrackPageData.properties:n&&(e={hasQueryString:location.search?"true":"false",hasHashPath:location.hash?"true":"false"},t&&t.trackProjectInfo&&(n.webContext.collection&&(e.Collection=n.webContext.collection.name),n.webContext.project&&(e.TeamProject=n.webContext.project.name),n.navigation.topMostLevel===u.NavigationContextLevels.Team&&(e.Team=n.webContext.team.name)));t&&t.customTrackPageData&&t.customTrackPageData.metrics&&(o=t.customTrackPageData.metrics)}function w(n,t,i,r){if(f){var u,e;i&&(u=$.extend({},i));(r||r===0)&&(e={elapsed:r});a(t+"/"+n,u,e)}}function a(n,t,i){f&&f.trackEvent(n,t,i)}function v(n,t,i){f&&f.trackPageView(n,null,t,i)}var f,t,i,e,o;n.getPageName=s;n.getPageProperties=h;n.getPageMetric=l;n.configureAppInsights=y;n.trackWebEvent=w;n.logEvent=a;n.logPageView=v})(l||(l={}));c=r.getPageContext();y()&&l.configureAppInsights(c.appInsightsConfiguration);p=function(){function n(n,t,i,u,f){this.area=n;this.feature=t;this.properties=i;u&&(this.elapsedTime=Date.now()-u,this.properties.StartTime=u);f&&(this.elapsedTime=f);var e=r.getPageContext();e&&e.diagnostics.sessionId&&(this.properties.SessionId=e.diagnostics.sessionId)}return n.fromProperty=function(t,i,r,u,f,e){var o={};return o[r]=u,new n(t,i,o,f,e)},n}();t.TelemetryEventData=p;var w=function(){function n(){var t=this;this._retries=0;this._items=[];this._delayFunction=new o.DelayedFunction(this,1e3,"TelemetryPublish",function(){var i=!1;window.performance&&window.performance.timing?window.performance.timing.loadEventEnd&&window.performance.timing.loadEventEnd>0&&(i=!0):i=!0;!i&&t._retries<n.MAX_RETRIES?(t._retries++,t._delayFunction.reset()):t.flush()})}return n.prototype._getHttpClient=function(){return f.getClient(e.CustomerIntelligenceHttpClient,undefined,undefined,undefined,{showProgressIndicator:!1})},n.prototype.delayedPublish=function(n){n.elapsedTime&&(n.properties.ElapsedTime=n.elapsedTime);this._items.push(n);this._delayFunction.isPending()||this._delayFunction.start()},n.prototype.flush=function(){var n=this._items;return this._items=[],this._publish(n)},n.prototype.publish=function(n){return this._publish([n])},n.prototype._publish=function(n){if(n.length===0)return i.resolve(null);var t=n.map(function(n){var t={area:n.area,feature:n.feature,properties:$.extend({},n.properties)};return n.elapsedTime&&(t.properties.ElapsedTime=n.elapsedTime),t}),r=this._getHttpClient().publishEvents(t);return y()&&$.each(this._items,function(n,t){l.trackWebEvent(t.feature,t.area,t.properties,t.elapsedTime)}),h.getDebugMode()&&(a=a.concat(t)),r},n.MAX_RETRIES=5,n}(),a=[],v=new w;t.getPublishedEvents=b;t.publishEvent=k;t.flush=d;s.tfsModuleLoaded("VSS.Telemetry",t)});
// Profile/Scripts/Models/Account.RegionHelper //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("Profile/Scripts/Models/Account.RegionHelper",["require","exports","Profile/Scripts/Resources/Aex.Resources.Profile"],function(n,t,i){"use strict";function s(n){return e.azureRegionHasBillingRestriction(f[n])}var r;(function(n){n.CentralUS="Central US";n.EastUS="East US";n.NorthCentralUS="North Central US";n.SouthCentralUS="South Central US";n.WestUS="West US";n.NorthEurope="North Europe";n.WestEurope="West Europe";n.EastAsia="East Asia";n.SoutheastAsia="Southeast Asia";n.JapanEast="Japan East";n.JapanWest="Japan West";n.BrazilSouth="Brazil South";n.AustraliaEast="Australia East";n.AustraliaSoutheast="Australia Southeast";n.CentralIndia="Central India";n.SouthIndia="South India";n.WestIndia="West India";n.ChinaEast="China East";n.ChinaNorth="China North";n.CanadaCentral="Canada Central"})(r||(r={}));var u=function(){var n={};return n[r.CentralUS]="CUS",n[r.EastUS]="EUS",n[r.NorthCentralUS]="NCUS",n[r.SouthCentralUS]="SCUS",n[r.WestUS]="WUS",n[r.NorthEurope]="NEU",n[r.WestEurope]="WEU",n[r.EastAsia]="EA",n[r.SoutheastAsia]="SEA",n[r.JapanEast]="EJP",n[r.JapanWest]="WJP",n[r.BrazilSouth]="SBR",n[r.AustraliaEast]="EAU",n[r.AustraliaSoutheast]="SEAU",n[r.CentralIndia]="PN",n[r.SouthIndia]="MA",n[r.WestIndia]="BM",n}(),f=function(){var n={};for(var t in u)n[u[t]]=t;return n}(),o=function(){var n={};return n.AF=r.CentralIndia,n.AX=r.WestEurope,n.AL=r.WestEurope,n.DZ=r.WestEurope,n.AS=r.SoutheastAsia,n.AD=r.WestEurope,n.AO=r.WestEurope,n.AI=r.SouthCentralUS,n.AQ=r.SoutheastAsia,n.AG=r.SouthCentralUS,n.AR=r.BrazilSouth,n.AM=r.WestEurope,n.AW=r.BrazilSouth,n.AU=r.AustraliaEast,n.AT=r.WestEurope,n.AZ=r.SoutheastAsia,n.BS=r.SouthCentralUS,n.BH=r.WestEurope,n.BD=r.SoutheastAsia,n.BB=r.SouthCentralUS,n.BY=r.WestEurope,n.BE=r.WestEurope,n.BZ=r.SouthCentralUS,n.BJ=r.WestEurope,n.BM=r.SouthCentralUS,n.BT=r.SoutheastAsia,n.BO=r.BrazilSouth,n.BQ=r.BrazilSouth,n.BA=r.WestEurope,n.BW=r.WestEurope,n.BV=r.BrazilSouth,n.BR=r.BrazilSouth,n.IO=r.SoutheastAsia,n.VG=r.SouthCentralUS,n.BN=r.SoutheastAsia,n.BG=r.WestEurope,n.BF=r.WestEurope,n.BI=r.WestEurope,n.CV=r.WestEurope,n.KH=r.SoutheastAsia,n.CM=r.WestEurope,n.CA=r.CanadaCentral,n.KY=r.SouthCentralUS,n.CF=r.WestEurope,n.TD=r.WestEurope,n.CL=r.BrazilSouth,n.CN=r.ChinaEast,n.CX=r.SoutheastAsia,n.CC=r.SoutheastAsia,n.CO=r.BrazilSouth,n.KM=r.WestEurope,n.CG=r.WestEurope,n.CD=r.WestEurope,n.CK=r.SoutheastAsia,n.CR=r.SouthCentralUS,n.CI=r.WestEurope,n.HR=r.WestEurope,n.CW=r.BrazilSouth,n.CY=r.WestEurope,n.CZ=r.WestEurope,n.DK=r.WestEurope,n.DJ=r.WestEurope,n.DM=r.SouthCentralUS,n.DO=r.SouthCentralUS,n.EC=r.BrazilSouth,n.EG=r.WestEurope,n.SV=r.SouthCentralUS,n.GQ=r.BrazilSouth,n.ER=r.SoutheastAsia,n.EE=r.WestEurope,n.ET=r.WestEurope,n.FK=r.BrazilSouth,n.FO=r.WestEurope,n.FJ=r.SoutheastAsia,n.FI=r.WestEurope,n.FR=r.WestEurope,n.GF=r.BrazilSouth,n.PF=r.SoutheastAsia,n.GA=r.WestEurope,n.GM=r.WestEurope,n.GE=r.WestEurope,n.DE=r.WestEurope,n.GH=r.WestEurope,n.GI=r.WestEurope,n.GR=r.WestEurope,n.GL=r.WestEurope,n.GD=r.SouthCentralUS,n.GP=r.SouthCentralUS,n.GU=r.EastAsia,n.GT=r.SouthCentralUS,n.GG=r.WestEurope,n.GN=r.WestEurope,n.GW=r.WestEurope,n.GY=r.BrazilSouth,n.HT=r.SouthCentralUS,n.HM=r.SoutheastAsia,n.VA=r.WestEurope,n.HN=r.SouthCentralUS,n.HK=r.EastAsia,n.HU=r.WestEurope,n.IS=r.WestEurope,n.IN=r.CentralIndia,n.ID=r.SoutheastAsia,n.IE=r.WestEurope,n.IM=r.WestEurope,n.IL=r.WestEurope,n.IT=r.WestEurope,n.JM=r.SouthCentralUS,n.JP=r.JapanWest,n.JE=r.WestEurope,n.JO=r.WestEurope,n.KZ=r.SoutheastAsia,n.KI=r.SouthCentralUS,n.KR=r.ChinaNorth,n.KW=r.WestEurope,n.KG=r.EastAsia,n.LA=r.SoutheastAsia,n.LV=r.WestEurope,n.LB=r.EastAsia,n.LS=r.WestEurope,n.LR=r.WestEurope,n.LI=r.WestEurope,n.LT=r.WestEurope,n.LU=r.WestEurope,n.MO=r.EastAsia,n.MK=r.WestEurope,n.MG=r.SoutheastAsia,n.MW=r.SoutheastAsia,n.MY=r.SoutheastAsia,n.MV=r.SoutheastAsia,n.ML=r.WestEurope,n.MT=r.WestEurope,n.MH=r.EastAsia,n.MQ=r.SouthCentralUS,n.MR=r.WestEurope,n.MU=r.SoutheastAsia,n.YT=r.SoutheastAsia,n.MX=r.SouthCentralUS,n.FM=r.SoutheastAsia,n.MD=r.WestEurope,n.MC=r.WestEurope,n.MN=r.EastAsia,n.ME=r.WestEurope,n.MS=r.SouthCentralUS,n.MA=r.WestEurope,n.MZ=r.SoutheastAsia,n.NA=r.WestEurope,n.NR=r.SoutheastAsia,n.NP=r.CentralIndia,n.NL=r.WestEurope,n.NC=r.SoutheastAsia,n.NZ=r.AustraliaEast,n.NI=r.SouthCentralUS,n.NE=r.WestEurope,n.NG=r.WestEurope,n.NU=r.SoutheastAsia,n.NF=r.SoutheastAsia,n.MP=r.SoutheastAsia,n.NO=r.WestEurope,n.OM=r.CentralIndia,n.PK=r.CentralIndia,n.PW=r.SoutheastAsia,n.PS=r.SoutheastAsia,n.PA=r.SouthCentralUS,n.PG=r.SoutheastAsia,n.PY=r.BrazilSouth,n.PE=r.BrazilSouth,n.PH=r.EastAsia,n.PN=r.SoutheastAsia,n.PL=r.WestEurope,n.PT=r.WestEurope,n.PR=r.SouthCentralUS,n.QA=r.SoutheastAsia,n.RE=r.SoutheastAsia,n.RO=r.WestEurope,n.RU=r.WestEurope,n.RW=r.WestEurope,n.BL=r.SouthCentralUS,n.KN=r.SouthCentralUS,n.LC=r.SouthCentralUS,n.MF=r.SouthCentralUS,n.PM=r.EastUS,n.VC=r.SouthCentralUS,n.WS=r.SoutheastAsia,n.SM=r.WestEurope,n.ST=r.WestEurope,n.SA=r.CentralIndia,n.SN=r.WestEurope,n.RS=r.WestEurope,n.SC=r.SoutheastAsia,n.SL=r.WestEurope,n.SG=r.SoutheastAsia,n.SX=r.SouthCentralUS,n.VC=r.SouthCentralUS,n.SK=r.WestEurope,n.SI=r.WestEurope,n.SB=r.SoutheastAsia,n.SO=r.WestEurope,n.ZA=r.WestEurope,n.GS=r.BrazilSouth,n.SS=r.WestEurope,n.ES=r.WestEurope,n.LK=r.SoutheastAsia,n.SH=r.BrazilSouth,n.SR=r.BrazilSouth,n.SJ=r.WestEurope,n.SZ=r.WestEurope,n.SE=r.WestEurope,n.CH=r.WestEurope,n.TW=r.EastAsia,n.TJ=r.CentralIndia,n.TZ=r.SoutheastAsia,n.TH=r.SoutheastAsia,n.TL=r.SoutheastAsia,n.TG=r.WestEurope,n.TK=r.EastAsia,n.TO=r.EastAsia,n.TT=r.BrazilSouth,n.TN=r.WestEurope,n.TR=r.WestEurope,n.TM=r.CentralIndia,n.TC=r.SouthCentralUS,n.TV=r.EastAsia,n.UG=r.SoutheastAsia,n.UA=r.WestEurope,n.AE=r.SoutheastAsia,n.GB=r.WestEurope,n.US=r.SouthCentralUS,n.UM=r.SouthCentralUS,n.VI=r.SouthCentralUS,n.UY=r.BrazilSouth,n.UZ=r.SoutheastAsia,n.VU=r.SoutheastAsia,n.VE=r.BrazilSouth,n.VN=r.SoutheastAsia,n.WF=r.EastAsia,n.YE=r.CentralIndia,n.ZM=r.WestEurope,n.ZW=r.WestEurope,n}(),e=function(){function n(){}return n.azureRegionHasBillingRestriction=function(n){switch(n){case r.AustraliaEast:case r.AustraliaSoutheast:case r.CentralIndia:case r.SouthIndia:case r.WestIndia:return!0;default:return!1}},n.localizeAccountRegionName=function(n,t){switch(n){case r.EastAsia:return i.DCRegionEastAsia;case r.JapanEast:return i.DCRegionEastJapan;case r.EastUS:return i.DCRegionEastUS;case r.NorthCentralUS:return i.DCRegionNorthCentralUS;case r.SouthCentralUS:return i.DCRegionSouthCentralUS;case r.BrazilSouth:return i.DCRegionSouthBrazil;case r.SoutheastAsia:return i.DCRegionSouthEastAsia;case r.NorthEurope:return i.DCRegionNorthEurope;case r.WestEurope:return i.DCRegionWestEurope;case r.JapanWest:return i.DCRegionWestJapan;case r.WestUS:return i.DCRegionWestUS;case r.AustraliaEast:return i.DCRegionEastAustralia;case r.CentralIndia:return i.DCRegionIndiaCentral;case r.SouthIndia:return i.DCRegionIndiaSouth;case r.WestIndia:return i.DCRegionIndiaWest;default:return t?t:n}},n.getMappedDatacenterForRegion=function(t){var i=o[t];return i?{azureRegion:i,accountServiceRegion:u[i],hasBillingRestriction:n.azureRegionHasBillingRestriction(i),displayName:n.localizeAccountRegionName(i)}:null},n.getMappedAccountRegionInfo=function(t){var i=f[t.locationName];return i?{azureRegion:i,accountServiceRegion:t.locationName,hasBillingRestriction:n.azureRegionHasBillingRestriction(i),displayName:n.localizeAccountRegionName(i,t.displayName)}:{azureRegion:t.locationName,accountServiceRegion:t.locationName,hasBillingRestriction:!1,displayName:t.displayName}},n}();t.AccountRegionHelper=e;t.hasBillingRestriction=s});
// Profile/Scripts/Generated/Aex.Profile.Constants //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("Profile/Scripts/Generated/Aex.Profile.Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s;(function(n){n.SoftDeletedAccountName="Microsoft.VisualStudio.Services.Account.SystemProperty.SoftDeletedAccountName";n.TfsAccountRegion="Microsoft.VisualStudio.Services.Account.TfsAccountRegion";n.SignupEntryPoint="Microsoft.VisualStudio.Services.Account.SignupEntryPoint";n.CampaignId="Microsoft.VisualStudio.Services.Account.CampaignId"})(i=t.AccountPropertyConstants||(t.AccountPropertyConstants={})),function(n){n.AexProfile="Aex.Profile"}(r=t.NameSessionTokenId||(t.NameSessionTokenId={})),function(n){n.Agile="adcc42ab-9882-485e-a3ed-7678f01f66bc";n.Scrum="6b724908-ef14-45cf-84f8-768b5384da45";n.Cmmi="27450541-8e31-4150-9947-dc59f998fc01"}(u=t.OutOfBoxProcessTemplateTypeId||(t.OutOfBoxProcessTemplateTypeId={})),function(n){n.Key="createprofilesource";n.Web="web";n.WebWithAccount="webWithAccount"}(f=t.ProfileCreateSourceConstants||(t.ProfileCreateSourceConstants={})),function(n){n.DisplayName="DisplayName";n.EmailAddress="EmailAddress";n.RegionName="CountryName";n.ContactWithOffers="ContactWithOffers";n.UnconfirmedEmailAddress="UnconfirmedEmailAddress";n.AvatarDataUrl="AvatarDataUrl"}(e=t.ProfileFieldPropertyKeys||(t.ProfileFieldPropertyKeys={})),function(n){n.ControllerApplication="app";n.ControllerMe="me";n.ControllerProfile="profile";n.ApplicationActionRegister="register";n.ApplicationActionView="view";n.MeActionIndex="index";n.ProfileActionCreate="create";n.ProfileActionView="view";n.ProfileActionAccount="account";n.TemplatesActionRender="render";n.MeIndexQueryParamKeyTab="tab";n.ProfileCreateQueryParamKeyAccount="account";n.ProfileAccountQueryParamAccountFirst="first";n.ProfileAccountQueryParamKeyScenario="scenario";n.ProfileAccountQueryParamKeyScenarioLegacy="Scenario";n.ProfileAccountQueryParamScenarioValueAgile="agile";n.ProfileAccountQueryParamScenarioValueTest="test";n.ProfileAccountQueryParamScenarioValueVersionControl="vc";n.QueryParamKeyUseProfileExperienceControl="test";n.QueryParamValueUseProfileExperienceControlForceOn="on";n.QueryParamValueUseProfileExperienceControlForceOnNoRedirect="onNoRedirect";n.QueryParamValueUseProfileExperienceControlForceOff="off";n.QueryParamKeyMkt="mkt";n.QueryParamKeyWorkflowId="workflowId";n.QueryParamKeyCampaign="campaign";n.QueryParamValueCampaignProfileViewCreateAccountDefault="o~msft~profile~service_attach";n.TfsAccountQueryParamKeyAccount="account"}(o=t.ProfileRouteConstants||(t.ProfileRouteConstants={})),function(n){n.AccountCreate="Account/Create";n.AccountList="Account/List";n.ApplicationList="Application/List";n.ApplicationAuthorizationsView="Application/Authorizations.View";n.ProfileCreate="Profile/Create";n.ProfileView="Profile/View";n.ProfileCreateWithAccount="Profile/CreateWithAccount";n.HomeIndex="Home/Index";n.HomeHome="Home/Home";n.HomeEdit="Home/Edit";n.HomeEditAbout="Home/Edit.About";n.HomeEditPreferences="Home/Edit.Preferences"}(s=t.ProfileTemplateId||(t.ProfileTemplateId={}))});
// Profile/Scripts/Aex.Legacy.Profile.Controls //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Profile/Scripts/Aex.Legacy.Profile.Controls",["require","exports","VSS/Ajax","VSS/Authentication/Services","Presentation/Scripts/TFS/SPS.Host.TfsContext","VSS/Utils/Core","VSS/Controls","VSS/Controls/Dialogs","VSS/Locations","Profile/Scripts/Generated/Aex.Profile.Constants","Profile/Scripts/Resources/Aex.Resources.Profile","VSS/Controls/StatusIndicator","Presentation/Scripts/TFS/SPS.Legacy.Ajax","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","VSS/Common/Contracts/Platform","VSS/WebApi/Constants","jQueryUI/button","jQueryUI/dialog"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var k=y.domElem,d=f.delegate,rt=function(){function n(){}return n.AddLocaleUrlParam=function(n){n.urlParams?$.extend(n.urlParams,{mkt:p.uiCulture}):n.urlParams={mkt:p.uiCulture}},n}(),g,nt,tt,it;t.UrlHelper=rt;g=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cache:!0,width:500,height:250,minWidth:500,minHeight:250,title:c.RevokeAccess},t));this._options.buttons.ok.text=c.Revoke},t.prototype.initialize=function(){var t=$("<div><\/div>"),i=c.RevokeAccessMessage.replace("{0}",this._options.appName);t.append($("<p><\/p>").html(i));t.append($("<p><\/p>").append($("<strong><\/strong>").text(c.RevokeAccessWarningMessage)));this._element.append(t);n.prototype.initialize.call(this)},t.prototype.onOkClick=function(t){var i=this._options.tfsContext.getActionUrl("revoke","oauth2");a.postMSJSON(i,{authorizationId:this._options.authId},d(this,this.onRevokeSuccess),d(this,this.onRevokeError));n.prototype.onOkClick.call(this,t)},t.prototype.onRevokeSuccess=function(t){t&&t.error?n.prototype._onError.call(this,t.error):n.prototype._onSuccess.call(this,t)},t.prototype.onRevokeError=function(t){n.prototype._onError.call(this,t)},t}(o.ConfirmationDialogO);t.RevokeAccessDialog=g;p.classExtend(g,u.TfsContext.ControlExtensions);nt=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cache:!1,width:660,height:360,minWidth:620,minHeight:350,beforeClose:function(){return!0},title:c.Authorizations},t));delete this._options.buttons.ok;this._options.buttons.cancel.text="Close";this._options.buttons.cancel.id="closeBtn"},t.prototype.initialize=function(){this._options.url=this._options.tfsContext.getActionUrl("authorizations","oauth2");this._options.urlParams={id:this._options.tfid};rt.AddLocaleUrlParam(this._options);this._options.success=d(this,this._bindEvents);n.prototype.initialize.call(this)},t.prototype._bindEvents=function(){var n=this;this._errorPane=this._element.find(".error-container");this._authorizationList=this._element.find("#authorization-list");this._emptyListMessage=this._element.find("#empty-list-message");this._updateEmptyListUI();$(".revoke-access",this._element).bind("click",function(){var t=$(this).closest(".authorization-row"),i=t.attr("authorization-id"),r=t.find(".registration-name").text();n._selectedRow=t;o.show(g,{appName:r,authId:i,successCallback:d(n,n._onRevokeSuccess)})})},t.prototype._onRevokeSuccess=function(){this._selectedRow.remove();this._selectedRow=null;this._updateEmptyListUI()},t.prototype._updateEmptyListUI=function(){this._authorizationList.find(".authorization-row").length===0?(this._authorizationList.addClass("hide"),this._emptyListMessage.removeClass("hide")):(this._authorizationList.removeClass("hide"),this._emptyListMessage.addClass("hide"))},t.prototype._hideError=function(){this._errorPane.addClass("hide")},t.prototype._showError=function(n){this._errorPane.text(n).removeClass("hide")},t}(o.ModalDialogO);t.ViewAuthorizationsDialog=nt;p.classExtend(nt,u.TfsContext.ControlExtensions);tt=function(){function n(){this.parentControl=$(".error-dialog-container")}return n.prototype.getDialog=function(){var n=$("#errorDialog",this.parentControl);return n.length>0?n:(n=$('<div id="errorDialog"><\/div>'),n.append($('<div id="errorDialogPointer"><\/div>')),n.append($('<div id="errorDialogMessageCont"><div id="errorDialogMessage"><\/div><div id="errorDialogClose"><\/div><\/div>')),this.parentControl.append(n),$("#errorDialogClose",n).click(function(){n.data("control");n.hide()}),n)},n.prototype.show=function(n,t,i){if(n&&n.data("errorMessage")){var u=t?t.position():n.position(),r=this.getDialog(),f=$("#errorDialogMessage",r);f.html(n.data("errorMessage"));r.css("left",u.left);r.css("width",n.css("width"));i&&($("#errorDialogMessageCont",r).css("width",i),$("#errorDialogMessage",r).css("width",i));r.show();r.css("top",u.top-(r.height()+7));r.data("control",n);n.addClass("errorHighlight")}},n.prototype.close=function(n){if(n&&n.data("errorMessage")){var t=this.getDialog();t.hide()}},n.ShowErrorMessage=function(n,t){$(".profile-error-message",t).remove();$(document.createElement("div")).addClass("profile-error-message").html(n).prependTo(t)},n.HideErrorMessage=function(n){$(".profile-error-message",n).css("display","none").remove()},n}();t.ErrorDialog=tt;it=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initializeOptions=function(t){this._accountId=t.accountid;this._accountUrl=t.accountUrl;this._sourceAccountName=t.accountName;n.prototype.initializeOptions.call(this,$.extend({width:580,minWidth:580,height:390,minHeight:390,allowMultiSelect:!1,contentHeader:c.RestoreAccount,contentDescription:v.format(c.RenameDescription,this._accountUrl),buttons:{saveButton:{id:"ok",text:"Restore",click:d(this,this._onSaveClick)},cancelButton:{id:"cancel",text:"Cancel",click:d(this,this._onCancelClick)}}},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._buildDialogElements();this._errorDialog=new tt},t.prototype._buildDialogElements=function(){var f=this,n=this,o=r.getAuthTokenManager(h.NameSessionTokenId.AexProfile),a=s.beginGetServiceLocation(b.ServiceInstanceTypes.SPS,w.ContextHostType.Deployment),u,y,t;a.then(function(t){if(t){var r=t+"api/account/restoreavailable";return i.issueRequest(r,{data:{accountId:f._accountId}},{authTokenManager:o}).then(function(t){n._availableForRestore=t?!0:!1;n.hideOrUnhideRenameDiv(n._availableForRestore);n._waitControl.endWait()},function(){n._showError(c.RestoreAccountError);n._waitControl.endWait()})}});this._data=$(k("div"));u=$(k("div")).append(this._data).addClass("account-restore-dialog").css("height","100%");this._element.html(u);this._waitControl=e.create(l.WaitControl,this.getElement(),{target:this._data,cancellable:!1,message:c.ProgressPleaseWait});this._waitControl.startWait();y=$(k("div")).appendTo(this._data);this.setTitle(this._options.contentHeader);t=$(k("div")).appendTo(this._data).attr("id","main-context");this._renameDiv=$(k("div")).appendTo(t).addClass("error-dialog-container").css("height","100%");this._restoreDiv=$(k("div")).appendTo(t).attr("id","RestoreDiv").css("height","100%");this._warningTextDiv=$(k("div")).appendTo(this._renameDiv).addClass("message-warning");this._restoreDiv=$(k("div")).appendTo(this._restoreDiv).html(v.format(c.RestoreDescription,this._accountUrl));this._createWarningHeader();this._createWarningText();this._createUrlInputArea();this._createErrorFooter();this._hideError()},t.prototype._onCloseClick=function(){this.close()},t.prototype._onCancelClick=function(){this.close()},t.prototype._onSaveClick=function(){var n=this,t,u,f;this._hideError();this._hideAccountNameError();this._validate()&&(t=this._availableForRestore?this._sourceAccountName:$(this._accountNameInput).val().trim(),this._disableUIElements(),this._waitControl.startWait(),u=r.getAuthTokenManager(h.NameSessionTokenId.AexProfile),f=s.beginGetServiceLocation(b.ServiceInstanceTypes.SPS,w.ContextHostType.Deployment),f.then(function(r){if(r){var f=r+"api/account/restore";i.issueRequest(f,{data:JSON.stringify({accountId:n._accountId,newAccountName:t}),contentType:"application/json",type:"POST"},{authTokenManager:u}).then(function(t){n._postRenameSuccess(t)},function(t){n._postRenameFailure(t)})}}))},t.prototype._validate=function(){if(this._availableForRestore)return!0;var n=$(this._accountNameInput).val().trim();return n.length===0?($(this._accountNameInput).focus(),this._showError(c.RequiredField),!1):!0},t.prototype.hideOrUnhideRenameDiv=function(n){n?(this._restoreDiv.show(),this._renameDiv.hide()):(this._restoreDiv.hide(),this._renameDiv.show())},t.prototype._postRenameSuccess=function(n){n?window.location.reload():(this._enableUIElements(),this._waitControl.endWait(),this._showAccountNameError(c.RestoreAccountError))},t.prototype._postRenameFailure=function(){this._enableUIElements();this._waitControl.endWait();this._showError(c.RestoreAccountError)},t.prototype._enableUIElements=function(){this._accountUrlInputTable&&this._accountUrlInputTable.removeAttr("disabled");this._accountNameInput.removeAttr("disabled");this.updateOkButton(!0)},t.prototype._disableUIElements=function(){this._accountUrlInputTable&&this._accountUrlInputTable.attr("disabled","disabled");this._accountNameInput.attr("disabled","disabled");this.updateOkButton(!1)},t.prototype._showAccountNameError=function(n){this._accountNameWrapper.data("errorMessage",n);this._errorDialog.show(this._accountNameWrapper)},t.prototype._hideAccountNameError=function(){this._errorDialog.close(this._accountNameWrapper)},t.prototype._showError=function(n){this._errorMessageDiv.show();this._errorMessageImg.show();this._errorMessageText.show();this._errorMessageText.text(n)},t.prototype._hideError=function(){this._errorMessageDiv.hide();this._errorMessageImg.hide();this._errorMessageText.hide()},t.prototype._createErrorFooter=function(){this._errorMessageDiv=$(k("div")).appendTo($("#main-context")).attr("id","account-error-rename").addClass("error-message-div");this._errorMessageImgDiv=$(k("div")).appendTo(this._errorMessageDiv).addClass("rename-err-footer-img");this._errorMessageImg=$("<span/>").appendTo(this._errorMessageImgDiv).addClass("rename-error-message-icon").attr("align","bottom");this._errorMessageText=$(k("div")).appendTo(this._errorMessageDiv).addClass("error-message-accountRename")},t.prototype._createWarningHeader=function(){var u=$(k("div")).appendTo(this._warningTextDiv),t=$(k("table")).appendTo(this._warningTextDiv).addClass("rename-warning-header-div"),n=$(k("tr")).appendTo(t),i=$(k("td")).appendTo(n).addClass("rename-warning-tbl-img"),r=$(k("td")).appendTo(n).addClass("rename-warning-tbl-txt");$("<span/>").appendTo(i).addClass("rename-warning-icon");$(k("div")).appendTo(r).addClass("description-rename").html(this._options.contentDescription)},t.prototype._createUrlInputArea=function(){var n=$(k("div")).appendTo(this._renameDiv);this._accountUrlInputTable=$(k("table")).appendTo(n);this._accountUrlInputTableRow=$(k("tr")).appendTo(this._accountUrlInputTable);var r=$(k("td")).appendTo(this._accountUrlInputTableRow).addClass("accountUrl-text").text(c.NewAccountUrl),t=$(k("td")).appendTo(this._accountUrlInputTableRow),i=['<div class="account-name-wrapper form-input requiredInfoLight textbox">','<label for="account-newname" class="account-protocol" id="http"> ',c.ProfileHttp,"<\/label>",'<label for="account-newname" class="account-domain" id="domain">',this._accountUrl.substr(this._accountUrl.indexOf("."))," <\/label>",'<div class="account-input-wrapper">','<input name="account-newname" type="text" id="account-newname" class="borderless" maxlength="50" value="" title="Choose your account name">',"<\/div>","<\/div>"].join("");this._accountNameWrapper=$(i).appendTo(t);this._accountNameInput=$("input",this._accountNameWrapper)},t.prototype._createWarningText=function(){$(k("div")).appendTo(this._warningTextDiv).addClass("rename-warning-list").html(c.RenameWarning)},t}(o.ModalDialogO);t.AccountRestoreDialog=it;p.classExtend(it,u.TfsContext.ControlExtensions)});
// VSS/Profile/Metrics //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Profile/Metrics",["require","exports","q","VSS/Service","VSS/Telemetry/RestClient","VSS/Telemetry/Services"],function(n,t,i,r,u,f){"use strict";function w(n,t,i,r){return h.meterAsyncAction(n,new e(t,i,r))}function b(n,t,i){return h.meterAsyncAction(n,t.inner(i))}function k(){return o.publish(null,!0)}var v=function(){function n(n){this.items=[];this.queue=i.resolve(null);this.pending=null;this.client=n?n:r.getClient(u.CustomerIntelligenceHttpClient,undefined,undefined,undefined,{showProgressIndicator:!1})}return n.prototype.queueEvent=function(n){n.elapsedTime&&(n.properties.ElapsedTime=n.elapsedTime);this.items.push({area:n.area,feature:n.feature,properties:n.properties})},n.prototype.publish=function(t,r){var f=this,u;return r===void 0&&(r=!1),t&&this.queueEvent(t),r?this.publishEvents():this.pending?this.pending:(u=i.delay(n.DelayMs).then(function(){return f.publishEvents()}),this.pending=u,u)},n.prototype.publishEvents=function(){var t=this,n=this.items;return this.pending=null,n.length>0&&(this.items=[],this.queue=this.queue.then(function(){return i(t.client.publishEvents(n)).then(function(){},function(){})})),this.queue},n.DelayMs=1e3,n}(),o,s,e,y,c,l,a,h,p;t.TelemetryAsyncHelper=v;o=new v;s=function(){function n(n,t,i){this.isClosed=!1;this.properties={};this.children=[];this.area=n;this.feature=t;this.publishOnClose=i}return n.prototype.setValue=function(n,t){if(this.isClosed)return null;this.properties[n]=t},n.prototype.closeThis=function(){return i.resolve(null)},n.prototype.close=function(){var n=this.closeThis();if(!this.isClosed)return this.children.forEach(function(t){n=n.then(function(){return t.close()})}),this.isClosed=!0,n},n.prototype.newInnerMetrics=function(){throw"Not Implemented";},n.prototype.inner=function(n){var t=this.newInnerMetrics(n);return this.children.push(t),t},n}();t.BaseMetricsEvent=s;e=function(n){function t(){n.apply(this,arguments);this.startTime=null;this.elapsedTime=null}return __extends(t,n),t.prototype.begin=function(){return this.isClosed?null:(this.startTime=Date.now(),this.startTime)},t.prototype.end=function(){return this.isClosed?null:(this.elapsedTime=this.startTime?Date.now()-this.startTime:null,this.elapsedTime)},t.prototype.closeThis=function(){var n=new f.TelemetryEventData(this.area,this.feature,this.properties,this.startTime,this.elapsedTime);return o.publish(n,this.publishOnClose)},t.prototype.newInnerMetrics=function(n){return new c(this.area,n,this.properties)},t}(s);t.IntervalMetricsEvent=e;y=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.closeThis=function(){var n=new f.TelemetryEventData(this.area,this.feature,this.properties,Date.now(),0);return o.publish(n,this.publishOnClose)},t.prototype.newInnerMetrics=function(n){return new c(this.area,n,this.properties)},t}(s);t.InstantMetricsEvent=y;c=function(n){function t(t,i,r){n.call(this,t,i,!0);this.parentProperties=r}return __extends(t,n),t.prototype.closeThis=function(){for(var n in this.properties)this.parentProperties[this.feature+"."+n]=this.properties[n];return this.startTime&&(this.parentProperties[this.feature+".StartTime"]=this.startTime,this.parentProperties[this.feature+".ElapsedTime"]=this.elapsedTime?this.elapsedTime:Date.now()-this.startTime),i.resolve(null)},t}(e);l=function(){function n(){}return n.prototype.setValue=function(){},n.prototype.close=function(){return i.resolve(null)},n.prototype.inner=function(){return this},n}();t.NullMetricsEvent=l;a=function(n){function t(){n.call(this,null,null,null)}return __extends(t,n),t.prototype.begin=function(){return null},t.prototype.end=function(){return null},t.prototype.setValue=function(){},t.prototype.close=function(){return i.resolve(null)},t.prototype.inner=function(){return this},t}(e);t.NullIntervalMetricsEvent=a;t.nullMetrics=new l;t.nullIntervalMetrics=new a,function(n){function t(n,t){return t.begin(),n(t).then(function(n){return t.end(),t.close(),n},function(n){t.end();t.close();throw n;})}n.meterAsyncAction=t}(h||(h={}));t.meterAsyncAction=w;t.meterAsyncActionInner=b;t.publishAllImmediately=k;p=function(){function n(n,t){n===void 0&&(n=null);t===void 0&&(t=null);this.parentMetrics=null;this.feature=null;n&&t&&(this.parentMetrics=n,this.feature=t)}return n.prototype.createMetrics=function(){return this.parentMetrics?this.parentMetrics.inner(this.feature):t.nullIntervalMetrics},n.prototype.action=function(){throw"Not Implemented";},n.prototype.enact=function(){var n=this.createMetrics();return n.begin(),this.action(n).then(function(t){return n.end(),n.close(),t},function(t){n.end();n.close();throw t;})},n}();t.MeteredAsyncAction=p});
// VSS/Performance //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("VSS/Performance",["require","exports","VSS/Bundling","VSS/Context","VSS/Diag","VSS/Serialization","VSS/Telemetry/Services","VSS/Utils/Array","VSS/VSS"],function(n,t,i,r,u,f,e,o,s){function tt(){return v.getInstance()}function it(){return new v}function c(n){var t={},i;return t.total=n.length,t.cached=0,t.duration=0,i=r.getPageContext().diagnostics.isDevFabric?4:25,n.forEach(function(n){var r=n.duration,u=n.duration<i;n.requestStart&&n.responseStart&&n.responseEnd&&(r=n.responseEnd-n.requestStart,u=n.responseStart-n.requestStart<i);t.duration+=r;u&&t.cached++}),t}function p(){return h.getEntriesByType("resource")||[]}function rt(n){return h.getEntriesByName(n)||[]}function w(){var n={},t=p();return n.scripts=c(t.filter(function(n){return n.initiatorType==="script"})),n.styles=c(t.filter(function(n){return n.initiatorType==="link"})),n.ajax=c(t.filter(function(n){return n.initiatorType==="xmlhttprequest"})),n.other=c(t.filter(function(n){return n.initiatorType!=="script"&&n.initiatorType!=="link"&&n.initiatorType!=="xmlhttprequest"})),n.all=c(t),n.scriptsTotalSize=i.getBundledScriptContentSize(),n.cssTotalSize=i.getBundledCssContentSize(),n.bundleLoads=ut(),h.getEntriesByName("requireStart").length>0&&(n.requireStartTime=h.getEntriesByName("requireStart")[0].startTime),n}function ut(){for(var i,r=[],u=b("startLoadBundleOuter","endLoadBundleOuter","loadBundleOuter"),l=b("startLoadBundleInner","endLoadBundleInner","loadBundleInner"),t=0;t<u.length;t++){var n=u[t],f=n.substring(n.indexOf("-")+1),e="loadBundleInner-"+f,o=0,s=0;if(h.getEntriesByName(n).length>0){var c=h.getEntriesByName(n)[0],a=c.duration,v=c.startTime;l.filter(function(n){return n===e}).length>0&&h.getEntriesByName(n).length>0&&(i=h.getEntriesByName(e)[0],o=i.duration,s=i.startTime);r.push({bundleName:f,innerLoad:o,innerStartTime:s,outerLoad:a,outerStartTime:v})}}return r}function b(n,t,i){for(var r,e=[],o=h.getEntriesByType("mark").filter(function(t){return t.name.indexOf(n)===0}),l=h.getEntriesByType("mark").filter(function(n){return n.name.indexOf(t)===0}),u=0;u<o.length;u++){var f=o[u].name,s=f.substring(f.indexOf("-")+1),c=t+"-"+s;l.filter(function(n){return n.name===c}).length>0&&(r=i+"-"+s,h.getEntriesByName(r).length===0&&h.measure(r,f,c),e.push(r))}return e}function k(n){var f=[],e,i,t,r,c,o;try{for(e=[{name:"PLT",startEvent:"navigationStart",endEvent:"loadEventEnd",isAggregate:!0},{name:"Redirect",startEvent:"redirectStart",endEvent:"redirectEnd"},{name:"Unload",startEvent:"unloadEventStart",endEvent:"unloadEventEnd"},{name:"Fetch",startEvent:"fetchStart",endEvent:"domainLookupStart"},{name:"DNS",startEvent:"domainLookupStart",endEvent:"domainLookupEnd"},{name:"TCP",startEvent:"connectStart",endEvent:"connectEnd"},{name:"Request",startEvent:"connectEnd",endEvent:"responseStart"},{name:"Server Time",startEvent:"connectEnd",endEvent:"responseEnd",isAggregate:!0},{name:"Response",startEvent:"responseStart",endEvent:"responseEnd"},{name:"DOMProcessing",startEvent:"domLoading",endEvent:"domComplete"},{name:"onLoad",startEvent:"loadEventStart",endEvent:"loadEventEnd"},{name:"Initial Require Statement",startEvent:"requireStart",endEvent:"requireEnd",isAggregate:!0},{name:"Network Time",startEvent:"domainLookupStart",endEvent:"connectEnd"},],i=0;i<e.length;i++){if(t=e[i],r=h.getEntriesByName(t.name),r.length===0){if((h.getTimingByName(t.startEvent)==null||h.getTimingByName(t.endEvent)==null)&&(h.getEntriesByName(t.startEvent).length==0||h.getEntriesByName(t.endEvent).length==0))continue;h.measure(t.name,t.startEvent,t.endEvent);r=h.getEntriesByName(t.name)}c=r.map(function(n){return{name:n.name,startTime:n.startTime,duration:n.duration}})[0];t.perfEntry=c;f.push(t)}}catch(l){u.logWarning("Failed to record navigation events: "+s.getErrorMessage(l))}return n&&(o={name:"TTI",perfEntry:{name:"TTI",duration:n.getDuration(),startTime:0},startEvent:"navigationStart",endEvent:n.getName(),isAggregate:!0},o&&f.push(o)),f}function l(){return Date.now()}function ft(){var n=h.getTimingByName("navigationStart");return n===null&&(n=0),n}function d(){if(!a){a={};var n=f.deserializeJsonIsland($(".vss-web-page-data"),null);n&&n.resolvedProviders&&n.resolvedProviders.forEach(function(n){a[n.id]=n.duration||0})}return a}var g="Performance",nt="Scenario",h,y,v,a;(function(n){function i(n){window.performance&&window.performance.mark&&window.performance.mark(n)}function r(n,i,r){t(i)&&t(r)&&window.performance&&window.performance.measure&&window.performance.measure(n,i,r)}function t(n){var t=window.performance&&window.performance.timing&&window.performance.timing[n]||null;return typeof t=="undefined"||t===null||t>0}function u(n){return window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType(n)||[]}function f(n){return window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByName(n)||[]}function e(){return n.getEntriesByType("measure")}function o(){return n.getEntriesByType("mark")}function s(n){return window.performance&&window.performance.timing&&window.performance.timing[n]||null}n.mark=i;n.measure=r;n.getEntriesByType=u;n.getEntriesByName=f;n.getMeasures=e;n.getMarks=o;n.getTimingByName=s})(h||(h={}));t.getScenarioManager=tt;t._createScenarioManagerForTesting=it;y=function(){function n(n,t,i,r,f,e){if(e===void 0&&(e=!1),this._manager=n,this._featureArea=t,this._name=i,this._correlationId=r,this._startTime=f,this._isPageInteractive=e,this._isActive=!0,this._splitTimings=[],typeof this._startTime=="undefined"){this._startTime=l();this._dropPerformanceMarks=!0;var o=this._getIdentifier();try{u.getDebugMode()&&window.console&&window.console.time&&console.time(o);h.mark(o+"-start")}catch(c){u.logWarning("Could not add mark '"+o+"': "+s.getErrorMessage(c))}}}return n.prototype.getFeatureArea=function(){return this._featureArea},n.prototype.setFeatureArea=function(n){this._featureArea=n},n.prototype.getName=function(){return this._name},n.prototype.setName=function(n){this._name=n},n.prototype.getDuration=function(){return this._endTime?this._endTime-this._startTime:0},n.prototype.getCorrelationId=function(){return this._correlationId},n.prototype.getData=function(){return this._data},n.prototype.getSplitTimings=function(){return this._splitTimings},n.prototype.isActive=function(){return this._isActive},n.prototype.isPageInteractive=function(){return this._isPageInteractive},n.prototype.addSplitTiming=function(n,t){var i=this.getName()+"-"+n;try{h.mark(i)}catch(r){u.logWarning("Could not add mark '"+i+"': "+s.getErrorMessage(r))}this._splitTimings.push({name:n,timestamp:l()-this._startTime,elapsedTime:t})},n.prototype.end=function(n){if(!this._isActive){u.logWarning("Attempted to end scenario '"+this._getIdentifier()+"', but it was already ended.");return}this._endTime=n||l();this._isActive=!1;var t=this._getIdentifier();if(this._dropPerformanceMarks)try{u.getDebugMode()&&window.console&&window.console.time&&console.timeEnd(t);h.mark(t+"-end");h.measure(t,t+"-start",t+"-end")}catch(i){u.logWarning("Could not add mark and measure for scenario end: "+s.getErrorMessage(i))}e.publishEvent(this.getTelemetry());this._manager.endScenarioByDescriptor(this)},n.prototype.abort=function(){this._manager.endScenarioByDescriptor(this)},n.prototype.log=function(){},n.prototype.addData=function(n){this._data=$.extend(this._data,n)},n.prototype.getTelemetry=function(){var n=null,t;try{t=h.getTimingByName("navigationStart");n=t?this._startTime-t:null}catch(i){u.logWarning("Could not get navigationStart: "+s.getErrorMessage(i))}return{area:g,feature:nt,elapsedTime:this._endTime-this._startTime,properties:$.extend({featureArea:this._featureArea,name:this._name,startTime:n,correlationId:this._correlationId,activityId:r.getPageContext().diagnostics.activityId,navigationEvents:JSON.stringify(k(this.isPageInteractive()?this:null).map(function(n){return n.perfEntry})),splitTimings:JSON.stringify(this._splitTimings),debugMode:u.getDebugMode(),timeZoneOffset:(new Date).getTimezoneOffset(),pageNavigateScenario:n===0},this._data,this._getResourceTelemetryProperties())}},n.prototype._getIdentifier=function(){return this._featureArea+"::"+this._name},n.prototype._getResourceTelemetryProperties=function(){var n=w(),t={};return t.resourceCount=n.all.total,t.scriptResourceCount=n.scripts.total,t.scriptResourcesUncached=n.scripts.total-n.scripts.cached,t.scriptResourcesDuration=n.scripts.duration,t.cssResourceCount=n.styles.total,t.cssResourcesUncached=n.styles.total-n.styles.cached,t.cssResourcesDuration=n.styles.duration,t.ajaxRequests=n.ajax.total,t.ajaxRequestsDuration=n.ajax.duration,n.scriptsTotalSize>0&&(t.scriptSize=n.scriptsTotalSize),n.cssTotalSize>0&&(t.cssSize=n.cssTotalSize),n.requireStartTime>0&&(t.requireStartTime=n.requireStartTime),n.scripts.total===n.scripts.cached&&n.styles.total===n.styles.cached?t.warmCache=!0:n.scripts.cached===0&&n.styles.cached===0&&(t.coldCache=!0),n.bundleLoads.length>0&&(t.bundleLoads=JSON.stringify(n.bundleLoads)),t.jsonIslandDataProviders=JSON.stringify(d()),t},n}();v=function(){function n(){this._allScenarios=[];this._scenariosMap={};this._activeScenarios=[];this._scenarioEventHandlers=[];this._startPageLoadScenario()}return n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.prototype.recordPageLoadScenario=function(n,t,i){var f,r;if(!this._pageLoadScenario){u.logWarning("Cannot record page load, scenario wasn't started");return}if(!this._pageLoadScenario.isActive()){u.logWarning("Cannot record page load, scenario already ended");return}f=this._getKey(this._pageLoadScenario.getFeatureArea(),this._pageLoadScenario.getName());delete this._scenariosMap[f];this._pageLoadScenario.setFeatureArea(n);this._pageLoadScenario.setName(t);r=this._getKey(n,t);this._scenariosMap[r]=(this._scenariosMap[r]||[]).concat([this._pageLoadScenario]);this._pageLoadScenario.addData(i);this._pageLoadScenario.end()},n.prototype.startScenarioFromNavigation=function(n,t,i){var r=h.getTimingByName("navigationStart");return r===null&&(u.logWarning("Tried to start scenario "+n+"-"+t+" from navigationStart but browser does not support this. Falling back to current time."),r=l()),this._startScenario(n,t,r,this._getCorrelationId(),i)},n.prototype.startScenario=function(n,t,i,r){return this._startScenario(n,t,i,null,r)},n.prototype.endScenario=function(n,t){var f=this._getKey(n,t),r=this._scenariosMap[f],i;r&&(r.length>1||(i=r[0],i.isActive()&&i.end(),this.endScenarioByDescriptor(i)))},n.prototype.abortScenario=function(n,t){var e=this._getKey(n,t),u=this._scenariosMap[e],r,i,f;if(u)for(r=o.clone(u),i=0,f=r.length;i<f;i++)this.endScenarioByDescriptor(r[i])},n.prototype.getScenarios=function(n,t){return this._scenariosMap[this._getKey(n,t)]||[]},n.prototype.getAllCompletedScenarios=function(){return this._allScenarios.filter(function(n){return!n.isActive()})},n.prototype.split=function(n){for(var r,t=0,i=this._activeScenarios;t<i.length;t++)r=i[t],r.addSplitTiming(n)},n.prototype.endScenarioByDescriptor=function(n){var r=this._getKey(n.getFeatureArea(),n.getName()),t=this._scenariosMap[r],i;t&&(i=t.indexOf(n),t.splice(i,1),t.length===0&&delete this._scenariosMap[r],i=this._activeScenarios.indexOf(n),this._activeScenarios.splice(i,1),this._fireScenarioCompletedEvent(n))},n.prototype._startScenario=function(n,t,i,r,u){var f=new y(this,n,t,r||this._getCorrelationId(),i,u),e=this._getKey(n,t);return this._scenariosMap[e]?this._scenariosMap[e].push(f):this._scenariosMap[e]=[f],this._activeScenarios.push(f),this._allScenarios.push(f),f},n.prototype._startPageLoadScenario=function(){if(!!this._pageLoadScenario){u.logWarning("Page load scenario already started");return}this._pageLoadScenario=this.startScenarioFromNavigation(n.DEFAULT_SCENARIO_AREA,n.DEFAULT_SCENARIO_NAME,!0)},n.prototype._fireScenarioCompletedEvent=function(n){var t=this;try{this._scenarioEventHandlers.forEach(function(i){i.call(t,n)})}catch(i){u.logWarning("Error while updating perf panel: "+s.getErrorMessage(i))}},n.prototype._getKey=function(n,t){return n+"-"+t},n.prototype._getCorrelationId=function(){var n=r.getPageContext();return n&&n.diagnostics&&n.diagnostics.sessionId||null},n.prototype.addScenarioCompletedListener=function(n){$.isFunction(n)&&this._scenarioEventHandlers.push(n)},n.DEFAULT_SCENARIO_AREA="__default",n.DEFAULT_SCENARIO_NAME="__pageload",n}();t.getResourceTimingEntries=p;t.getTimingEntriesByName=rt;t.getResourceStats=w;t.getDefaultNavigationEvents=k;t.getTimestamp=l;t.getNavigationStartTimestamp=ft;t.getJsonIslandDataProviderTiming=d});
// Profile/Scripts/Common/Aex.Telemetry //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("Profile/Scripts/Common/Aex.Telemetry",["require","exports","VSS/Profile/Metrics","VSS/Performance"],function(n,t,i,r){"use strict";var u,f;(function(n){var t;(function(n){n.scenarioName="ComponentInit";n.timingNameRendered="Rendered"})(t=n.Component||(n.Component={}))})(u=t.TelmetryConstants||(t.TelmetryConstants={}));f=function(){function n(n,t){this.featureAreaReadonly=n;this.featureNameReadonly=t;this.componentInitScenario=r.getScenarioManager().startScenarioFromNavigation(this.featureArea+"."+this.featureName,u.Component.scenarioName,!0);this.componentInit=new i.InstantMetricsEvent(n,t,!1)}return Object.defineProperty(n.prototype,"featureArea",{get:function(){return this.featureAreaReadonly},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"featureName",{get:function(){return this.featureNameReadonly},enumerable:!0,configurable:!0}),n.prototype.childFeature=function(t){return new n(this.featureArea+"."+this.featureName,t)},n.prototype.endComponentInit=function(){this.componentInitScenario.end();this.componentInit.close()},n.prototype.markComponentRendered=function(){this.componentInitScenario.addSplitTiming(u.Component.timingNameRendered)},n.prototype.addComponentInitData=function(n,t){this.componentInit.setValue(n,t)},n.prototype.newInstantMetrics=function(n){return new i.InstantMetricsEvent(this.featureArea,this.featureName,n)},n}();t.AexTelemetry=f});
// Profile/Scripts/Models/Common //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Profile/Scripts/Models/Common",["require","exports","q","knockout","Profile/Scripts/Resources/Aex.Resources.Profile","VSS/Telemetry/Services"],function(n,t,i,r,u,f){"use strict";var e=function(){function n(t){this.toFocus=r.observable(!1);this.uniqueId="aex-view-"+ ++n.uniqueIdCounter;this.uniqueIdSelector="#"+this.uniqueId;this.telemetry=t}return n.prototype.focus=function(){return this.toFocus(!0),!0},n.uniqueIdCounter=0,n}(),o,a,h,v,y,p,w,b,s,k,c,l,d,g;t.BaseViewModel=e;o=function(n){function t(t){t===void 0&&(t=null);n.call(this);this.value=r.observable(t)}return __extends(t,n),t}(e);t.ValueFieldModel=o;a=function(n){function t(t,i,f){n.call(this,t);this.filename=r.observable(u.TextNoFileChosen);this.clickTelemetryKey=i;this.clickTelemetryValue=f}return __extends(t,n),t.prototype.actionClick=function(){var n=this.telemetry.newInstantMetrics(!1);n.setValue(this.clickTelemetryKey,this.clickTelemetryValue);n.close();$(this.uniqueIdSelector).trigger("click")},t.prototype.changeFile=function(n){var r=n.target,t=r.files,i;return t&&t.length>0?(i=t.item(0),this.filename(i.name),i):(this.filename(u.TextNoFileChosen),null)},t}(e);t.FilePickerModel=a;h=function(n){function t(t,i){var u=this;i===void 0&&(i=null);n.call(this,i);this._isActive=!1;this.validationResult=null;this.validationResultObservable=r.observable(null);this.valueVersion=0;this.validatedValueVersion=-1;this.validationFunction=t;this.value.subscribe(function(n){++u.valueVersion;u.validateValue(n,u.valueVersion)});this.showError=r.computed(function(){var n=u.validationResultObservable();return u.isActive?!n.isValid:!1},this);this.errorMessage=r.computed(function(){var n=u.validationResultObservable();return u.isActive&&n.error?n.error.message:null},this)}return __extends(t,n),t.prototype.validateValue=function(n,t){return this.validationResult=this.validationFunction(n),this.validatedValueVersion=t,this.validationResultObservable(this.validationResult),this.validationResult},t.prototype.validate=function(){var n=this.value();return this.validateValue(n,this.valueVersion)},t.prototype.getValidatedValue=function(){return this.isActive&&this.validationResult&&this.validatedValueVersion===this.valueVersion?this.validationResult.validatedValue:null},t.prototype.invalidate=function(n){this.validationResult={isValid:!1,error:{message:n}};this.validatedValueVersion=this.valueVersion;this.validationResultObservable(this.validationResult)},Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),t.prototype.activate=function(){this._isActive=!0},t.prototype.deactivate=function(){this._isActive=!1},t}(o);t.ValidatedFieldModel=h;v=function(n){function t(){for(var u=this,i=[],t=0;t<arguments.length;t++)i[+t]=arguments[t];n.call(this);this.fields=i;this.showError=r.computed(function(){var n=!1;return u.fields.forEach(function(t){t.showError()&&(n=!0)}),n},this)}return __extends(t,n),t.prototype.validate=function(n){var t=!0;return this.fields.forEach(function(i){i.validate().isValid||(t&&n&&i.focus(),t=!1)}),t},t.prototype.invalidate=function(n){for(var r,u,i=!1,t=0;t<this.fields.length;++t)r=n[t],r&&(u=this.fields[t],u.invalidate(r),i||(u.focus(),i=!0));return i},t}(e);t.ValidatedFieldsCollection=v;y=function(n){function t(i){var u=this;n.call(this,i.validation||t.defaultValidation,i.initKey);this.hasDefault=r.observable(!1);this.viewSize=r.observable(0);this.options=i.options;this.key=i.key;this.optionsDict=r.computed(function(){var t=u.options(),n={};return t.forEach(function(t){n[u.key(t)]=t}),n});this.selected=r.computed(function(){var n=u.optionsDict(),t=u.value();return t&&n&&n[t]?n[t]:i.defaultValue});this.hasMoreThanOne=r.computed(function(){var n=u.options();return n.length>1});this.hasAtLeastOne=r.computed(function(){var n=u.options();return n.length>0})}return __extends(t,n),t.defaultValidation=function(n){return{isValid:!0,validatedValue:n}},t}(h);t.SelectionViewModel=y;p=function(n){function t(t,i){var u=this;n.call(this,t);this.cachedComponent=null;this.component=r.computed(function(){var n=u.value();return n&&!u.cachedComponent&&(u.cachedComponent=new i),u.cachedComponent})}return __extends(t,n),t}(o);t.BooleanControlledComponentViewModel=p;w=function(n){function t(){var t=this;n.call(this,0);this.styleWidth=r.computed(function(){var n=t.value();return n+"%"})}return __extends(t,n),t}(o);t.ProgressModel=w;b=function(n){function t(){n.apply(this,arguments);this.dataLoaded=r.observable(!1)}return __extends(t,n),t.prototype.loadData=function(n){var t=this;return n===void 0&&(n=i.resolve(undefined)),n.then(function(n){return t.dataLoaded(!0),n})},Object.defineProperty(t.prototype,"ready",{get:function(){return this.asyncDataLoadedPromise},enumerable:!0,configurable:!0}),t}(e);t.AsyncDataLoadViewModel=b;s=function(){function n(n,t,i){var r=this;i===void 0&&(i=!1);this.click=function(){return r.handleClick()};this.telemetry=n;this.metricsData=t;this.flushBeforeAction=i}return n.prototype.logTelemetry=function(){var n=this.telemetry.newInstantMetrics(this.flushBeforeAction);for(var t in this.metricsData)n.setValue(t,this.metricsData[t]);n.close()},n.prototype.handleClick=function(){var n=this;return this.logTelemetry(),this.flushBeforeAction?f.flush().then(function(){n.navigationAction()}):this.navigationAction(),!1},n}();t.LoggedActionNavigationLinkBase=s;k=function(n){function t(t,i,r,u){u===void 0&&(u=!1);n.call(this,i,r,u);this.action=t}return __extends(t,n),t.prototype.navigationAction=function(){this.action()},t}(s);t.LoggedActionNavigationLink=k;c=function(n){function t(t,i,u){n.call(this,t,i,!1);this.href=r.observable();u&&this.href(u)}return __extends(t,n),t.prototype.navigationAction=function(){window.open(this.href(),"_blank")},t}(s);t.LoggedNewWindowNavigationClickable=c;l=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.handleClick=function(){return this.logTelemetry(),!0},t.prototype.setHref=function(n){this.href(n)},t}(c);t.LoggedNewWindowNavigationLink=l;d=function(n){function t(t,i,r){n.call(this,i,r,!0);this.redirectUrl=t}return __extends(t,n),t.prototype.navigationAction=function(){window.location.href=this.redirectUrl},t}(s);t.LoggedRedirectionNavigationLink=d;g=function(n){function t(t,i,r){n.call(this,i,r,"#");this.loaded=!1;this.urlPromiseFactory=t}return __extends(t,n),t.prototype.handleClick=function(){var t=this;return this.loaded?n.prototype.handleClick.call(this):(this.urlLoadedPromise||(this.urlLoadedPromise=this.urlPromiseFactory().then(function(n){t.setHref(n)})),this.openNewWindow(),!1)},t.prototype.openNewWindow=function(){var t=this,i=window.open(this.href(),"_blank");this.urlLoadedPromise.then(function(){n.prototype.handleClick.call(t);i.location.href=t.href()})},t.prototype.setHref=function(t){n.prototype.setHref.call(this,t);this.loaded=!0},t}(l);t.LoggedNewWindowNavigationLazyLink=g});
// VSS/Accounts/Contracts //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("VSS/Accounts/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f,e;(function(n){n[n.None=2]="None";n[n.VsExpress=10]="VsExpress";n[n.VsPro=12]="VsPro";n[n.VsTestPro=14]="VsTestPro";n[n.VsPremium=16]="VsPremium";n[n.VsUltimate=18]="VsUltimate";n[n.MSDN=38]="MSDN";n[n.MsdnPro=40]="MsdnPro";n[n.MsdnTestPro=42]="MsdnTestPro";n[n.MsdnPremium=44]="MsdnPremium";n[n.MsdnUltimate=46]="MsdnUltimate";n[n.MsdnPlatforms=48]="MsdnPlatforms";n[n.VSOStandard=50]="VSOStandard";n[n.VSOAdvanced=52]="VSOAdvanced";n[n.VSOProStandard=54]="VSOProStandard";n[n.Win8=56]="Win8";n[n.Desktop=58]="Desktop";n[n.Phone=60]="Phone";n[n.VsEarlyAdopter=70]="VsEarlyAdopter"})(t.AccountLicenseSource||(t.AccountLicenseSource={}));i=t.AccountLicenseSource,function(n){n[n.StandardLicense=0]="StandardLicense";n[n.AdvancedLicense=1]="AdvancedLicense";n[n.ProfessionalLicense=2]="ProfessionalLicense";n[n.None=3]="None"}(t.AccountServiceRights||(t.AccountServiceRights={}));r=t.AccountServiceRights,function(n){n[n.None=0]="None";n[n.Enabled=1]="Enabled";n[n.Disabled=2]="Disabled";n[n.Deleted=3]="Deleted"}(t.AccountStatus||(t.AccountStatus={}));u=t.AccountStatus,function(n){n[n.Personal=0]="Personal";n[n.Organization=1]="Organization"}(t.AccountType||(t.AccountType={}));f=t.AccountType,function(n){n[n.None=0]="None";n[n.Active=1]="Active";n[n.Disabled=2]="Disabled";n[n.Deleted=3]="Deleted";n[n.Pending=4]="Pending";n[n.Expired=5]="Expired";n[n.PendingDisabled=6]="PendingDisabled"}(t.AccountUserStatus||(t.AccountUserStatus={}));e=t.AccountUserStatus;t.TypeInfo={Account:{fields:null},AccountCreateInfoInternal:{fields:null},AccountLicenseInfo:{fields:null},AccountLicenseSource:{enumValues:{none:2,vsExpress:10,vsPro:12,vsTestPro:14,vsPremium:16,vsUltimate:18,mSDN:38,msdnPro:40,msdnTestPro:42,msdnPremium:44,msdnUltimate:46,msdnPlatforms:48,vSOStandard:50,vSOAdvanced:52,vSOProStandard:54,win8:56,desktop:58,phone:60,vsEarlyAdopter:70}},AccountNameAvailability:{fields:null},AccountPreferencesInternal:{fields:null},AccountRegion:{fields:null},AccountServiceRights:{enumValues:{standardLicense:0,advancedLicense:1,professionalLicense:2,none:3}},AccountStatus:{enumValues:{none:0,enabled:1,disabled:2,deleted:3}},AccountType:{enumValues:{personal:0,organization:1}},AccountUser:{fields:null},AccountUserStatus:{enumValues:{none:0,active:1,disabled:2,deleted:3,pending:4,expired:5,pendingDisabled:6}}};t.TypeInfo.Account.fields={accountStatus:{enumType:t.TypeInfo.AccountStatus},accountType:{enumType:t.TypeInfo.AccountType},createdDate:{isDate:!0},lastUpdatedDate:{isDate:!0}};t.TypeInfo.AccountCreateInfoInternal.fields={preferences:{typeInfo:t.TypeInfo.AccountPreferencesInternal}};t.TypeInfo.AccountLicenseInfo.fields={};t.TypeInfo.AccountNameAvailability.fields={};t.TypeInfo.AccountPreferencesInternal.fields={};t.TypeInfo.AccountRegion.fields={};t.TypeInfo.AccountUser.fields={creationDate:{isDate:!0},lastUpdated:{isDate:!0},licenseSource:{enumType:t.TypeInfo.AccountLicenseSource},serviceRights:{enumType:t.TypeInfo.AccountServiceRights},userStatus:{enumType:t.TypeInfo.AccountUserStatus}}});
// VSS/Accounts/RestClient //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Accounts/RestClient",["require","exports","VSS/Accounts/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f){"use strict";function v(n){return window.VSS&&window.VSS.VssSDKRestVersion&&l[window.VSS.VssSDKRestVersion]?r.getClient(l[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(e,undefined,undefined,undefined,n)}var o=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.deleteAccount=function(n){return this._beginRequest({httpMethod:"POST",area:"Account",locationId:"6468322a-cb4d-43a3-84ad-be573301bbb3",resource:"AccountDeletions",routeTemplate:"_apis/{resource}/{accountId}",responseIsCollection:!1,routeValues:{accountId:n},apiVersion:"3.0-preview.1"})},t.prototype.createAccount=function(n,t){var r={usePrecreated:t};return this._beginRequest({httpMethod:"POST",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",requestType:i.TypeInfo.AccountCreateInfoInternal,responseType:i.TypeInfo.Account,responseIsCollection:!1,queryParams:r,apiVersion:"3.0-preview.1",data:n})},t.prototype.getAccount=function(n,t){var r={properties:t};return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",responseType:i.TypeInfo.Account,responseIsCollection:!1,routeValues:{accountId:n},queryParams:r,apiVersion:"3.0-preview.1"})},t.prototype.getAccounts=function(n,t,r,u,f,e){var o={creatorId:n,ownerId:t,memberId:r,includeOwner:u,properties:f,includeDisabledAccounts:e};return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",responseType:i.TypeInfo.Account,responseIsCollection:!0,queryParams:o,apiVersion:"3.0-preview.1"})},t.prototype.updateAccount=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",requestType:i.TypeInfo.Account,responseIsCollection:!1,routeValues:{accountId:t},apiVersion:"3.0-preview.1",data:n})},t.prototype.isValidAccountName=function(n){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"65dd1dc5-53fe-4c67-9b4e-0ec3e2539998",resource:"Availability",routeTemplate:"_apis/{area}/{resource}/{accountName}",responseType:i.TypeInfo.AccountNameAvailability,responseIsCollection:!1,routeValues:{accountName:n},apiVersion:"3.0-preview.1"})},t.prototype.getRegions=function(){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"642a93c7-8385-4d63-a5a5-20d044fe504f",resource:"Regions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.AccountRegion,responseIsCollection:!0,apiVersion:"3.0-preview.1"})},t.prototype.getAccountSettings=function(){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"4e012dd4-f8e1-485d-9bb3-c50d83c5b71b",resource:"Settings",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:"3.0-preview.1"})},t.serviceInstanceId=f.ServiceInstanceTypes.SPS,t}(u.VssHttpClient),s,e,h,c,a,l;t.AccountsHttpClient3=o;s=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.deleteAccount=function(n){return this._beginRequest({httpMethod:"POST",area:"Account",locationId:"6468322a-cb4d-43a3-84ad-be573301bbb3",resource:"AccountDeletions",routeTemplate:"_apis/{resource}/{accountId}",responseIsCollection:!1,routeValues:{accountId:n},apiVersion:"2.3"})},t.prototype.createAccount=function(n,t){var r={usePrecreated:t};return this._beginRequest({httpMethod:"POST",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",requestType:i.TypeInfo.AccountCreateInfoInternal,responseType:i.TypeInfo.Account,responseIsCollection:!1,queryParams:r,apiVersion:"2.3",data:n})},t.prototype.getAccount=function(n,t){var r={properties:t};return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",responseType:i.TypeInfo.Account,responseIsCollection:!1,routeValues:{accountId:n},queryParams:r,apiVersion:"2.3"})},t.prototype.getAccounts=function(n,t,r,u,f,e){var o={creatorId:n,ownerId:t,memberId:r,includeOwner:u,properties:f,includeDisabledAccounts:e};return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",responseType:i.TypeInfo.Account,responseIsCollection:!0,queryParams:o,apiVersion:"2.3"})},t.prototype.updateAccount=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",requestType:i.TypeInfo.Account,responseIsCollection:!1,routeValues:{accountId:t},apiVersion:"2.3",data:n})},t.prototype.isValidAccountName=function(n){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"65dd1dc5-53fe-4c67-9b4e-0ec3e2539998",resource:"Availability",routeTemplate:"_apis/{area}/{resource}/{accountName}",responseType:i.TypeInfo.AccountNameAvailability,responseIsCollection:!1,routeValues:{accountName:n},apiVersion:"2.3-preview.1"})},t.prototype.getRegions=function(){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"642a93c7-8385-4d63-a5a5-20d044fe504f",resource:"Regions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.AccountRegion,responseIsCollection:!0,apiVersion:"2.3-preview.1"})},t.prototype.getAccountSettings=function(){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"4e012dd4-f8e1-485d-9bb3-c50d83c5b71b",resource:"Settings",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:"2.3-preview.1"})},t.serviceInstanceId=f.ServiceInstanceTypes.SPS,t}(u.VssHttpClient);t.AccountsHttpClient2_3=s;e=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.deleteAccount=function(n){return this._beginRequest({httpMethod:"POST",area:"Account",locationId:"6468322a-cb4d-43a3-84ad-be573301bbb3",resource:"AccountDeletions",routeTemplate:"_apis/{resource}/{accountId}",responseIsCollection:!1,routeValues:{accountId:n},apiVersion:"2.2"})},t.prototype.createAccount=function(n,t){var r={usePrecreated:t};return this._beginRequest({httpMethod:"POST",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",requestType:i.TypeInfo.AccountCreateInfoInternal,responseType:i.TypeInfo.Account,responseIsCollection:!1,queryParams:r,apiVersion:"2.2",data:n})},t.prototype.getAccount=function(n,t){var r={properties:t};return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",responseType:i.TypeInfo.Account,responseIsCollection:!1,routeValues:{accountId:n},queryParams:r,apiVersion:"2.2"})},t.prototype.getAccounts=function(n,t,r,u,f,e){var o={creatorId:n,ownerId:t,memberId:r,includeOwner:u,properties:f,includeDisabledAccounts:e};return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",responseType:i.TypeInfo.Account,responseIsCollection:!0,queryParams:o,apiVersion:"2.2"})},t.prototype.updateAccount=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",requestType:i.TypeInfo.Account,responseIsCollection:!1,routeValues:{accountId:t},apiVersion:"2.2",data:n})},t.prototype.isValidAccountName=function(n){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"65dd1dc5-53fe-4c67-9b4e-0ec3e2539998",resource:"Availability",routeTemplate:"_apis/{area}/{resource}/{accountName}",responseType:i.TypeInfo.AccountNameAvailability,responseIsCollection:!1,routeValues:{accountName:n},apiVersion:"2.2-preview.1"})},t.prototype.getRegions=function(){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"642a93c7-8385-4d63-a5a5-20d044fe504f",resource:"Regions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.AccountRegion,responseIsCollection:!0,apiVersion:"2.2-preview.1"})},t.prototype.getAccountSettings=function(){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"4e012dd4-f8e1-485d-9bb3-c50d83c5b71b",resource:"Settings",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:"2.2-preview.1"})},t.serviceInstanceId=f.ServiceInstanceTypes.SPS,t}(u.VssHttpClient);t.AccountsHttpClient2_2=e;h=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.deleteAccount=function(n){return this._beginRequest({httpMethod:"POST",area:"Account",locationId:"6468322a-cb4d-43a3-84ad-be573301bbb3",resource:"AccountDeletions",routeTemplate:"_apis/{resource}/{accountId}",responseIsCollection:!1,routeValues:{accountId:n},apiVersion:"2.1"})},t.prototype.createAccount=function(n,t){var r={usePrecreated:t};return this._beginRequest({httpMethod:"POST",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",requestType:i.TypeInfo.AccountCreateInfoInternal,responseType:i.TypeInfo.Account,responseIsCollection:!1,queryParams:r,apiVersion:"2.1",data:n})},t.prototype.getAccount=function(n,t){var r={properties:t};return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",responseType:i.TypeInfo.Account,responseIsCollection:!1,routeValues:{accountId:n},queryParams:r,apiVersion:"2.1"})},t.prototype.getAccounts=function(n,t,r,u,f,e){var o={creatorId:n,ownerId:t,memberId:r,includeOwner:u,properties:f,includeDisabledAccounts:e};return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",responseType:i.TypeInfo.Account,responseIsCollection:!0,queryParams:o,apiVersion:"2.1"})},t.prototype.updateAccount=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",requestType:i.TypeInfo.Account,responseIsCollection:!1,routeValues:{accountId:t},apiVersion:"2.1",data:n})},t.prototype.isValidAccountName=function(n){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"65dd1dc5-53fe-4c67-9b4e-0ec3e2539998",resource:"Availability",routeTemplate:"_apis/{area}/{resource}/{accountName}",responseType:i.TypeInfo.AccountNameAvailability,responseIsCollection:!1,routeValues:{accountName:n},apiVersion:"2.1-preview.1"})},t.prototype.getRegions=function(){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"642a93c7-8385-4d63-a5a5-20d044fe504f",resource:"Regions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.AccountRegion,responseIsCollection:!0,apiVersion:"2.1-preview.1"})},t.prototype.getAccountSettings=function(){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"4e012dd4-f8e1-485d-9bb3-c50d83c5b71b",resource:"Settings",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:"2.1-preview.1"})},t.serviceInstanceId=f.ServiceInstanceTypes.SPS,t}(u.VssHttpClient);t.AccountsHttpClient2_1=h;c=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.deleteAccount=function(n){return this._beginRequest({httpMethod:"POST",area:"Account",locationId:"6468322a-cb4d-43a3-84ad-be573301bbb3",resource:"AccountDeletions",routeTemplate:"_apis/{resource}/{accountId}",responseIsCollection:!1,routeValues:{accountId:n},apiVersion:"2.0"})},t.prototype.createAccount=function(n,t){var r={usePrecreated:t};return this._beginRequest({httpMethod:"POST",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",requestType:i.TypeInfo.AccountCreateInfoInternal,responseType:i.TypeInfo.Account,responseIsCollection:!1,queryParams:r,apiVersion:"2.0",data:n})},t.prototype.getAccount=function(n,t){var r={properties:t};return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",responseType:i.TypeInfo.Account,responseIsCollection:!1,routeValues:{accountId:n},queryParams:r,apiVersion:"2.0"})},t.prototype.getAccounts=function(n,t,r,u,f,e){var o={creatorId:n,ownerId:t,memberId:r,includeOwner:u,properties:f,includeDisabledAccounts:e};return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",responseType:i.TypeInfo.Account,responseIsCollection:!0,queryParams:o,apiVersion:"2.0"})},t.prototype.updateAccount=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Account",locationId:"229a6a53-b428-4ffb-a835-e8f36b5b4b1e",resource:"Accounts",routeTemplate:"_apis/{resource}/{accountId}",requestType:i.TypeInfo.Account,responseIsCollection:!1,routeValues:{accountId:t},apiVersion:"2.0",data:n})},t.prototype.isValidAccountName=function(n){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"65dd1dc5-53fe-4c67-9b4e-0ec3e2539998",resource:"Availability",routeTemplate:"_apis/{area}/{resource}/{accountName}",responseType:i.TypeInfo.AccountNameAvailability,responseIsCollection:!1,routeValues:{accountName:n},apiVersion:"2.0-preview.1"})},t.prototype.getRegions=function(){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"642a93c7-8385-4d63-a5a5-20d044fe504f",resource:"Regions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.AccountRegion,responseIsCollection:!0,apiVersion:"2.0-preview.1"})},t.prototype.getAccountSettings=function(){return this._beginRequest({httpMethod:"GET",area:"Account",locationId:"4e012dd4-f8e1-485d-9bb3-c50d83c5b71b",resource:"Settings",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:"2.0-preview.1"})},t.serviceInstanceId=f.ServiceInstanceTypes.SPS,t}(u.VssHttpClient);t.AccountsHttpClient2=c;a=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(o);t.AccountsHttpClient=a;l={"3.0":o,"2.3":s,"2.2":e,"2.1":h,"2.0":c};t.getClient=v});
// Profile/Scripts/Common/Aex.Locations //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("Profile/Scripts/Common/Aex.Locations",["require","exports","q","VSS/Authentication/Services","VSS/Locations","VSS/Common/Contracts/Platform","VSS/Locations/RestClient","VSS/Utils/Url","VSS/WebApi/Constants"],function(n,t,i,r,u,f,e,o,s){"use strict";function a(n){var t=c[n];return t||(t=c[n]=new h(n)),t}var l=function(){function n(){}return n.normalizePath=function(n,t){return t===void 0&&(t=!1),n=n.replace(/\/+/g,"/"),t?n.replace(/\/?$/,"/"):n.replace(/\/?$/,"")},n}(),h,c;t.UrlUtils=l;t.spsDeploymentLocation=u.getCachedServiceLocation(s.ServiceInstanceTypes.SPS,f.ContextHostType.Deployment);h=function(){function n(n){this.cache={};this.promiseCache={};this.namedWebSessionTokenId=n}return n.prototype.getLocation=function(n,t,r){var f=this,u=t+":"+r;return this.cache[u]?i.resolve(this.cache[u]):(this.promiseCache[u]||(this.promiseCache[u]=this.fetchLocation(n,t,r).then(function(n){return f.cache[u]=n,n})),this.promiseCache[u])},n.prototype.fetchLocation=function(t,i,u){var f=new e.LocationsHttpClient(t+"A"+i+"/");return f.authTokenManager=r.getAuthTokenManager(this.namedWebSessionTokenId),f.getServiceDefinition("LocationService2",u).then(function(t){var i={};return t.locationMappings.forEach(function(t){switch(t.accessMappingMoniker){case s.AccessMappingConstants.HostGuidAccessMappingMoniker:i.hostGuidAccessMapping=n.normalizeUrl(t.location);break;case s.AccessMappingConstants.PublicAccessMappingMoniker:i.publicAccessMapping=n.normalizeUrl(t.location)}}),i})},n.normalizeUrl=function(n){var t=new o.Uri(n);return t.path=l.normalizePath(t.path,!0),t.absoluteUri},n}();t.CachedLocationsHelper=h;c={};t.getHelper=a});
// TFS/Core/Contracts //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("TFS/Core/Contracts",["require","exports","VSS/WebApi/Contracts"],function(n,t,i){"use strict";var r,u,f,e;(function(n){n[n.Custom=0]="Custom";n[n.AzureSubscription=1]="AzureSubscription";n[n.Chef=2]="Chef";n[n.Generic=3]="Generic"})(t.ConnectedServiceKind||(t.ConnectedServiceKind={}));r=t.ConnectedServiceKind,function(n){n[n.System=0]="System";n[n.Custom=1]="Custom";n[n.Inherited=2]="Inherited"}(t.ProcessType||(t.ProcessType={}));u=t.ProcessType,function(n){n[n.Modified=0]="Modified";n[n.Deleted=1]="Deleted";n[n.Added=2]="Added"}(t.ProjectChangeType||(t.ProjectChangeType={}));f=t.ProjectChangeType,function(n){n[n.Tfvc=1]="Tfvc";n[n.Git=2]="Git"}(t.SourceControlTypes||(t.SourceControlTypes={}));e=t.SourceControlTypes;t.TypeInfo={ConnectedServiceKind:{enumValues:{custom:0,azureSubscription:1,chef:2,generic:3}},IdentityData:{fields:null},Process:{fields:null},ProcessReference:{fields:null},ProcessType:{enumValues:{system:0,custom:1,inherited:2}},ProjectChangeType:{enumValues:{modified:0,deleted:1,added:2}},ProjectInfo:{fields:null},ProjectMessage:{fields:null},ProjectProperty:{fields:null},Proxy:{fields:null},SourceControlTypes:{enumValues:{tfvc:1,git:2}},TeamContext:{fields:null},TeamProject:{fields:null},TeamProjectCollection:{fields:null},TeamProjectCollectionReference:{fields:null},TeamProjectReference:{fields:null},WebApiConnectedService:{fields:null},WebApiConnectedServiceDetails:{fields:null},WebApiConnectedServiceRef:{fields:null},WebApiCreateTagRequestData:{fields:null},WebApiProject:{fields:null},WebApiProjectCollection:{fields:null},WebApiProjectCollectionRef:{fields:null},WebApiTagDefinition:{fields:null},WebApiTeam:{fields:null},WebApiTeamRef:{fields:null}};t.TypeInfo.IdentityData.fields={};t.TypeInfo.Process.fields={type:{enumType:t.TypeInfo.ProcessType}};t.TypeInfo.ProcessReference.fields={};t.TypeInfo.ProjectInfo.fields={lastUpdateTime:{isDate:!0},properties:{isArray:!0,typeInfo:t.TypeInfo.ProjectProperty}};t.TypeInfo.ProjectMessage.fields={project:{typeInfo:t.TypeInfo.ProjectInfo},projectChangeType:{enumType:t.TypeInfo.ProjectChangeType}};t.TypeInfo.ProjectProperty.fields={};t.TypeInfo.Proxy.fields={};t.TypeInfo.TeamContext.fields={};t.TypeInfo.TeamProject.fields={defaultTeam:{typeInfo:t.TypeInfo.WebApiTeamRef}};t.TypeInfo.TeamProjectCollection.fields={};t.TypeInfo.TeamProjectCollectionReference.fields={};t.TypeInfo.TeamProjectReference.fields={};t.TypeInfo.WebApiConnectedService.fields={authenticatedBy:{typeInfo:i.TypeInfo.IdentityRef},project:{typeInfo:t.TypeInfo.TeamProjectReference}};t.TypeInfo.WebApiConnectedServiceDetails.fields={connectedServiceMetaData:{typeInfo:t.TypeInfo.WebApiConnectedService}};t.TypeInfo.WebApiConnectedServiceRef.fields={};t.TypeInfo.WebApiCreateTagRequestData.fields={};t.TypeInfo.WebApiProject.fields={collection:{typeInfo:t.TypeInfo.WebApiProjectCollectionRef},defaultTeam:{typeInfo:t.TypeInfo.WebApiTeamRef}};t.TypeInfo.WebApiProjectCollection.fields={};t.TypeInfo.WebApiProjectCollectionRef.fields={};t.TypeInfo.WebApiTagDefinition.fields={};t.TypeInfo.WebApiTeam.fields={};t.TypeInfo.WebApiTeamRef.fields={}});
// VSS/Operations/Contracts //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("VSS/Operations/Contracts",["require","exports"],function(n,t){"use strict";(function(n){n[n.NotSet=0]="NotSet";n[n.Queued=1]="Queued";n[n.InProgress=2]="InProgress";n[n.Cancelled=3]="Cancelled";n[n.Succeeded=4]="Succeeded";n[n.Failed=5]="Failed"})(t.OperationStatus||(t.OperationStatus={}));var i=t.OperationStatus;t.TypeInfo={Operation:{fields:null},OperationReference:{fields:null},OperationStatus:{enumValues:{notSet:0,queued:1,inProgress:2,cancelled:3,succeeded:4,failed:5}}};t.TypeInfo.Operation.fields={status:{enumType:t.TypeInfo.OperationStatus}};t.TypeInfo.OperationReference.fields={status:{enumType:t.TypeInfo.OperationStatus}}});
// TFS/Core/RestClient //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("TFS/Core/RestClient",["require","exports","TFS/Core/Contracts","VSS/WebApi/Contracts","VSS/Operations/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f,e,o){"use strict";function p(n){return window.VSS&&window.VSS.VssSDKRestVersion&&v[window.VSS.VssSDKRestVersion]?f.getClient(v[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):f.getClient(s,undefined,undefined,undefined,n)}var h=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.createConnectedService=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",requestType:i.TypeInfo.WebApiConnectedServiceDetails,responseType:i.TypeInfo.WebApiConnectedService,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"3.0-preview.1",data:n})},t.prototype.getConnectedServiceDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedServiceDetails,responseIsCollection:!1,routeValues:{projectId:n,name:t},apiVersion:"3.0-preview.1"})},t.prototype.getConnectedServices=function(n,t){var r={kind:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedService,responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"3.0-preview.1"})},t.prototype.createIdentityMru=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"3.0-preview.1",data:n})},t.prototype.deleteIdentityMru=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"3.0-preview.1"})},t.prototype.getIdentityMru=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",responseType:r.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{mruName:n},apiVersion:"3.0-preview.1"})},t.prototype.updateIdentityMru=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"3.0-preview.1",data:n})},t.prototype.getTeamMembers=function(n,t,i,u){var f={$top:i,$skip:u};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseType:r.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:f,apiVersion:"3.0-preview.1"})},t.prototype.getProcessById=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,responseIsCollection:!1,routeValues:{processId:n},apiVersion:"3.0-preview.1"})},t.prototype.getProcesses=function(){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,responseIsCollection:!0,apiVersion:"3.0-preview.1"})},t.prototype.getProjectCollection=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:i.TypeInfo.TeamProjectCollection,responseIsCollection:!1,routeValues:{collectionId:n},apiVersion:"3.0-preview.2"})},t.prototype.getProjectCollections=function(n,t){var r={$top:n,$skip:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:i.TypeInfo.TeamProjectCollectionReference,responseIsCollection:!0,queryParams:r,apiVersion:"3.0-preview.2"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"3.0-preview.1"})},t.prototype.getProject=function(n,t,r){var u={includeCapabilities:t,includeHistory:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProject,responseIsCollection:!1,routeValues:{projectId:n},queryParams:u,apiVersion:"3.0-preview.3"})},t.prototype.getProjects=function(n,t,r){var u={stateFilter:n,$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:u,apiVersion:"3.0-preview.3"})},t.prototype.queueCreateProject=function(n){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,apiVersion:"3.0-preview.3",data:n})},t.prototype.queueDeleteProject=function(n){return this._beginRequest({httpMethod:"DELETE",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:n},apiVersion:"3.0-preview.3"})},t.prototype.updateProject=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"3.0-preview.3",data:n})},t.prototype.getProxies=function(n){var t={proxyUrl:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.Proxy,responseIsCollection:!0,queryParams:t,apiVersion:"3.0-preview.1"})},t.prototype.createTeam=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",requestType:i.TypeInfo.WebApiTeam,responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"3.0-preview.1",data:n})},t.prototype.deleteTeam=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!1,routeValues:{projectId:n,teamId:t},apiVersion:"3.0-preview.1"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:n,teamId:t},apiVersion:"3.0-preview.1"})},t.prototype.getTeams=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!0,routeValues:{projectId:n},queryParams:u,apiVersion:"3.0-preview.1"})},t.prototype.updateTeam=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",requestType:i.TypeInfo.WebApiTeam,responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:t,teamId:r},apiVersion:"3.0-preview.1",data:n})},t.serviceInstanceId=o.ServiceInstanceTypes.TFS,t}(e.VssHttpClient),c,s,l,a,y,v;t.CoreHttpClient3=h;c=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.createConnectedService=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",requestType:i.TypeInfo.WebApiConnectedServiceDetails,responseType:i.TypeInfo.WebApiConnectedService,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.3-preview.1",data:n})},t.prototype.getConnectedServiceDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedServiceDetails,responseIsCollection:!1,routeValues:{projectId:n,name:t},apiVersion:"2.3-preview.1"})},t.prototype.getConnectedServices=function(n,t){var r={kind:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedService,responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.3-preview.1"})},t.prototype.createIdentityMru=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.3-preview.1",data:n})},t.prototype.deleteIdentityMru=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.3-preview.1"})},t.prototype.getIdentityMru=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",responseType:r.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{mruName:n},apiVersion:"2.3-preview.1"})},t.prototype.updateIdentityMru=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.3-preview.1",data:n})},t.prototype.getTeamMembers=function(n,t,i,u){var f={$top:i,$skip:u};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseType:r.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:f,apiVersion:"2.3"})},t.prototype.getProcessById=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,responseIsCollection:!1,routeValues:{processId:n},apiVersion:"2.3"})},t.prototype.getProcesses=function(){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,responseIsCollection:!0,apiVersion:"2.3"})},t.prototype.getProjectCollection=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:i.TypeInfo.TeamProjectCollection,responseIsCollection:!1,routeValues:{collectionId:n},apiVersion:"2.3"})},t.prototype.getProjectCollections=function(n,t){var r={$top:n,$skip:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:i.TypeInfo.TeamProjectCollectionReference,responseIsCollection:!0,queryParams:r,apiVersion:"2.3"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.3-preview.1"})},t.prototype.getProject=function(n,t,r){var u={includeCapabilities:t,includeHistory:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProject,responseIsCollection:!1,routeValues:{projectId:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getProjects=function(n,t,r){var u={stateFilter:n,$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:u,apiVersion:"2.3"})},t.prototype.queueCreateProject=function(n){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,apiVersion:"2.3",data:n})},t.prototype.queueDeleteProject=function(n){return this._beginRequest({httpMethod:"DELETE",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:n},apiVersion:"2.3"})},t.prototype.updateProject=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.3",data:n})},t.prototype.getProxies=function(n){var t={proxyUrl:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.Proxy,responseIsCollection:!0,queryParams:t,apiVersion:"2.3-preview.1"})},t.prototype.createTeam=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",requestType:i.TypeInfo.WebApiTeam,responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.3",data:n})},t.prototype.deleteTeam=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!1,routeValues:{projectId:n,teamId:t},apiVersion:"2.3"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:n,teamId:t},apiVersion:"2.3"})},t.prototype.getTeams=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!0,routeValues:{projectId:n},queryParams:u,apiVersion:"2.3"})},t.prototype.updateTeam=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",requestType:i.TypeInfo.WebApiTeam,responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:t,teamId:r},apiVersion:"2.3",data:n})},t.serviceInstanceId=o.ServiceInstanceTypes.TFS,t}(e.VssHttpClient);t.CoreHttpClient2_3=c;s=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.createConnectedService=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",requestType:i.TypeInfo.WebApiConnectedServiceDetails,responseType:i.TypeInfo.WebApiConnectedService,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.2-preview.1",data:n})},t.prototype.getConnectedServiceDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedServiceDetails,responseIsCollection:!1,routeValues:{projectId:n,name:t},apiVersion:"2.2-preview.1"})},t.prototype.getConnectedServices=function(n,t){var r={kind:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedService,responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.2-preview.1"})},t.prototype.createIdentityMru=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.2-preview.1",data:n})},t.prototype.deleteIdentityMru=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.2-preview.1"})},t.prototype.getIdentityMru=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",responseType:r.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{mruName:n},apiVersion:"2.2-preview.1"})},t.prototype.updateIdentityMru=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.2-preview.1",data:n})},t.prototype.getTeamMembers=function(n,t,i,u){var f={$top:i,$skip:u};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseType:r.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:f,apiVersion:"2.2"})},t.prototype.getProcessById=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,responseIsCollection:!1,routeValues:{processId:n},apiVersion:"2.2"})},t.prototype.getProcesses=function(){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,responseIsCollection:!0,apiVersion:"2.2"})},t.prototype.getProjectCollection=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:i.TypeInfo.TeamProjectCollection,responseIsCollection:!1,routeValues:{collectionId:n},apiVersion:"2.2"})},t.prototype.getProjectCollections=function(n,t){var r={$top:n,$skip:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:i.TypeInfo.TeamProjectCollectionReference,responseIsCollection:!0,queryParams:r,apiVersion:"2.2"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.2-preview.1"})},t.prototype.getProject=function(n,t,r){var u={includeCapabilities:t,includeHistory:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProject,responseIsCollection:!1,routeValues:{projectId:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getProjects=function(n,t,r){var u={stateFilter:n,$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:u,apiVersion:"2.2"})},t.prototype.queueCreateProject=function(n){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,apiVersion:"2.2",data:n})},t.prototype.queueDeleteProject=function(n){return this._beginRequest({httpMethod:"DELETE",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:n},apiVersion:"2.2"})},t.prototype.updateProject=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.2",data:n})},t.prototype.getProxies=function(n){var t={proxyUrl:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.Proxy,responseIsCollection:!0,queryParams:t,apiVersion:"2.2-preview.1"})},t.prototype.createTeam=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",requestType:i.TypeInfo.WebApiTeam,responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.2",data:n})},t.prototype.deleteTeam=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!1,routeValues:{projectId:n,teamId:t},apiVersion:"2.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:n,teamId:t},apiVersion:"2.2"})},t.prototype.getTeams=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!0,routeValues:{projectId:n},queryParams:u,apiVersion:"2.2"})},t.prototype.updateTeam=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",requestType:i.TypeInfo.WebApiTeam,responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:t,teamId:r},apiVersion:"2.2",data:n})},t.serviceInstanceId=o.ServiceInstanceTypes.TFS,t}(e.VssHttpClient);t.CoreHttpClient2_2=s;l=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.createConnectedService=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",requestType:i.TypeInfo.WebApiConnectedServiceDetails,responseType:i.TypeInfo.WebApiConnectedService,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.1-preview.1",data:n})},t.prototype.getConnectedServiceDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedServiceDetails,responseIsCollection:!1,routeValues:{projectId:n,name:t},apiVersion:"2.1-preview.1"})},t.prototype.getConnectedServices=function(n,t){var r={kind:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedService,responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.1-preview.1"})},t.prototype.createIdentityMru=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.1-preview.1",data:n})},t.prototype.deleteIdentityMru=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.1-preview.1"})},t.prototype.getIdentityMru=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",responseType:r.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{mruName:n},apiVersion:"2.1-preview.1"})},t.prototype.updateIdentityMru=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.1-preview.1",data:n})},t.prototype.getTeamMembers=function(n,t,i,u){var f={$top:i,$skip:u};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseType:r.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:f,apiVersion:"2.1"})},t.prototype.getProcessById=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,responseIsCollection:!1,routeValues:{processId:n},apiVersion:"2.1"})},t.prototype.getProcesses=function(){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,responseIsCollection:!0,apiVersion:"2.1"})},t.prototype.getProjectCollection=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:i.TypeInfo.TeamProjectCollection,responseIsCollection:!1,routeValues:{collectionId:n},apiVersion:"2.1"})},t.prototype.getProjectCollections=function(n,t){var r={$top:n,$skip:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:i.TypeInfo.TeamProjectCollectionReference,responseIsCollection:!0,queryParams:r,apiVersion:"2.1"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.1-preview.1"})},t.prototype.getProject=function(n,t,r){var u={includeCapabilities:t,includeHistory:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProject,responseIsCollection:!1,routeValues:{projectId:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getProjects=function(n,t,r){var u={stateFilter:n,$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:u,apiVersion:"2.1"})},t.prototype.queueCreateProject=function(n){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,apiVersion:"2.1",data:n})},t.prototype.queueDeleteProject=function(n){return this._beginRequest({httpMethod:"DELETE",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:n},apiVersion:"2.1"})},t.prototype.updateProject=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.1",data:n})},t.prototype.getProxies=function(n){var t={proxyUrl:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.Proxy,responseIsCollection:!0,queryParams:t,apiVersion:"2.1-preview.1"})},t.prototype.createTeam=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",requestType:i.TypeInfo.WebApiTeam,responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.1",data:n})},t.prototype.deleteTeam=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!1,routeValues:{projectId:n,teamId:t},apiVersion:"2.1"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:n,teamId:t},apiVersion:"2.1"})},t.prototype.getTeams=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!0,routeValues:{projectId:n},queryParams:u,apiVersion:"2.1"})},t.prototype.updateTeam=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",requestType:i.TypeInfo.WebApiTeam,responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:t,teamId:r},apiVersion:"2.1",data:n})},t.serviceInstanceId=o.ServiceInstanceTypes.TFS,t}(e.VssHttpClient);t.CoreHttpClient2_1=l;a=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.createConnectedService=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",requestType:i.TypeInfo.WebApiConnectedServiceDetails,responseType:i.TypeInfo.WebApiConnectedService,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.0-preview.1",data:n})},t.prototype.getConnectedServiceDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedServiceDetails,responseIsCollection:!1,routeValues:{projectId:n,name:t},apiVersion:"2.0-preview.1"})},t.prototype.getConnectedServices=function(n,t){var r={kind:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedService,responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.0-preview.1"})},t.prototype.createIdentityMru=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.0-preview.1",data:n})},t.prototype.deleteIdentityMru=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.0-preview.1"})},t.prototype.getIdentityMru=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",responseType:r.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{mruName:n},apiVersion:"2.0-preview.1"})},t.prototype.updateIdentityMru=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:i.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.0-preview.1",data:n})},t.prototype.getTeamMembers=function(n,t,i,u){var f={$top:i,$skip:u};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseType:r.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:f,apiVersion:"2.0"})},t.prototype.getProcessById=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,responseIsCollection:!1,routeValues:{processId:n},apiVersion:"2.0"})},t.prototype.getProcesses=function(){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,responseIsCollection:!0,apiVersion:"2.0"})},t.prototype.getProjectCollection=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:i.TypeInfo.TeamProjectCollection,responseIsCollection:!1,routeValues:{collectionId:n},apiVersion:"2.0"})},t.prototype.getProjectCollections=function(n,t){var r={$top:n,$skip:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:i.TypeInfo.TeamProjectCollectionReference,responseIsCollection:!0,queryParams:r,apiVersion:"2.0"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.0-preview.1"})},t.prototype.getProject=function(n,t,r){var u={includeCapabilities:t,includeHistory:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProject,responseIsCollection:!1,routeValues:{projectId:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getProjects=function(n,t,r){var u={stateFilter:n,$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:u,apiVersion:"2.0"})},t.prototype.queueCreateProject=function(n){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,apiVersion:"2.0",data:n})},t.prototype.queueDeleteProject=function(n){return this._beginRequest({httpMethod:"DELETE",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:n},apiVersion:"2.0"})},t.prototype.updateProject=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:u.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.0",data:n})},t.prototype.getProxies=function(n){var t={proxyUrl:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.Proxy,responseIsCollection:!0,queryParams:t,apiVersion:"2.0-preview.1"})},t.prototype.createTeam=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",requestType:i.TypeInfo.WebApiTeam,responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.0",data:n})},t.prototype.deleteTeam=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!1,routeValues:{projectId:n,teamId:t},apiVersion:"2.0"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:n,teamId:t},apiVersion:"2.0"})},t.prototype.getTeams=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!0,routeValues:{projectId:n},queryParams:u,apiVersion:"2.0"})},t.prototype.updateTeam=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",requestType:i.TypeInfo.WebApiTeam,responseType:i.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:t,teamId:r},apiVersion:"2.0",data:n})},t.serviceInstanceId=o.ServiceInstanceTypes.TFS,t}(e.VssHttpClient);t.CoreHttpClient2=a;y=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(h);t.CoreHttpClient=y;v={"3.0":h,"2.3":c,"2.2":s,"2.1":l,"2.0":a};t.getClient=p});
// VSS/DelegatedAuthorization/Contracts //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("VSS/DelegatedAuthorization/Contracts",["require","exports","VSS/WebApi/Contracts"],function(n,t,i){"use strict";var r,u,f,e,o,s,h,c,l,a;(function(n){n[n.None=0]="None";n[n.UserIdRequired=1]="UserIdRequired";n[n.ClientIdRequired=2]="ClientIdRequired";n[n.InvalidUserId=3]="InvalidUserId";n[n.InvalidUserType=4]="InvalidUserType";n[n.AccessDenied=5]="AccessDenied";n[n.FailedToIssueAppSessionToken=6]="FailedToIssueAppSessionToken";n[n.InvalidClientId=7]="InvalidClientId";n[n.AuthorizationIsNotSuccessfull=8]="AuthorizationIsNotSuccessfull"})(t.AppSessionTokenError||(t.AppSessionTokenError={}));r=t.AppSessionTokenError,function(n){n[n.None=0]="None";n[n.ClientIdRequired=1]="ClientIdRequired";n[n.InvalidClientId=2]="InvalidClientId";n[n.ResponseTypeRequired=3]="ResponseTypeRequired";n[n.ResponseTypeNotSupported=4]="ResponseTypeNotSupported";n[n.ScopeRequired=5]="ScopeRequired";n[n.InvalidScope=6]="InvalidScope";n[n.RedirectUriRequired=7]="RedirectUriRequired";n[n.InsecureRedirectUri=8]="InsecureRedirectUri";n[n.InvalidRedirectUri=9]="InvalidRedirectUri";n[n.InvalidUserId=10]="InvalidUserId";n[n.InvalidUserType=11]="InvalidUserType";n[n.AccessDenied=12]="AccessDenied"}(t.AuthorizationError||(t.AuthorizationError={}));u=t.AuthorizationError,function(n){n[n.Confidential=0]="Confidential";n[n.Public=1]="Public";n[n.MediumTrust=2]="MediumTrust";n[n.HighTrust=3]="HighTrust";n[n.FullTrust=4]="FullTrust"}(t.ClientType||(t.ClientType={}));f=t.ClientType,function(n){n[n.None=0]="None";n[n.JwtBearer=1]="JwtBearer";n[n.RefreshToken=2]="RefreshToken";n[n.Implicit=3]="Implicit"}(t.GrantType||(t.GrantType={}));e=t.GrantType,function(n){n[n.None=0]="None";n[n.ClientIdRequired=1]="ClientIdRequired";n[n.AccessDenied=2]="AccessDenied";n[n.FailedToAuthorizeHost=3]="FailedToAuthorizeHost";n[n.ClientIdNotFound=4]="ClientIdNotFound";n[n.InvalidClientId=5]="InvalidClientId"}(t.HostAuthorizationError||(t.HostAuthorizationError={}));o=t.HostAuthorizationError,function(n){n[n.None=0]="None";n[n.ClientIdRequired=1]="ClientIdRequired";n[n.InvalidClientId=2]="InvalidClientId";n[n.ResponseTypeRequired=3]="ResponseTypeRequired";n[n.ResponseTypeNotSupported=4]="ResponseTypeNotSupported";n[n.ScopeRequired=5]="ScopeRequired";n[n.InvalidScope=6]="InvalidScope";n[n.RedirectUriRequired=7]="RedirectUriRequired";n[n.InsecureRedirectUri=8]="InsecureRedirectUri";n[n.InvalidRedirectUri=9]="InvalidRedirectUri"}(t.InitiationError||(t.InitiationError={}));s=t.InitiationError,function(n){n[n.None=0]="None";n[n.Assertion=1]="Assertion";n[n.IdToken=2]="IdToken";n[n.TenantPicker=3]="TenantPicker";n[n.SignoutToken=4]="SignoutToken";n[n.AppToken=5]="AppToken";n[n.Code=6]="Code"}(t.ResponseType||(t.ResponseType={}));h=t.ResponseType,function(n){n[n.None=0]="None";n[n.DisplayNameRequired=1]="DisplayNameRequired";n[n.InvalidDisplayName=2]="InvalidDisplayName";n[n.InvalidValidTo=3]="InvalidValidTo";n[n.InvalidScope=4]="InvalidScope";n[n.UserIdRequired=5]="UserIdRequired";n[n.InvalidUserId=6]="InvalidUserId";n[n.InvalidUserType=7]="InvalidUserType";n[n.AccessDenied=8]="AccessDenied";n[n.FailedToIssueAccessToken=9]="FailedToIssueAccessToken";n[n.InvalidClient=10]="InvalidClient";n[n.InvalidClientType=11]="InvalidClientType";n[n.InvalidClientId=12]="InvalidClientId";n[n.InvalidTargetAccounts=13]="InvalidTargetAccounts";n[n.HostAuthorizationNotFound=14]="HostAuthorizationNotFound";n[n.AuthorizationNotFound=15]="AuthorizationNotFound";n[n.FailedToUpdateAccessToken=16]="FailedToUpdateAccessToken";n[n.SourceNotSupported=17]="SourceNotSupported";n[n.InvalidSourceIP=18]="InvalidSourceIP";n[n.InvalidSource=19]="InvalidSource";n[n.DuplicateHash=20]="DuplicateHash"}(t.SessionTokenError||(t.SessionTokenError={}));c=t.SessionTokenError,function(n){n[n.SelfDescribing=0]="SelfDescribing";n[n.Compact=1]="Compact"}(t.SessionTokenType||(t.SessionTokenType={}));l=t.SessionTokenType,function(n){n[n.None=0]="None";n[n.GrantTypeRequired=1]="GrantTypeRequired";n[n.AuthorizationGrantRequired=2]="AuthorizationGrantRequired";n[n.ClientSecretRequired=3]="ClientSecretRequired";n[n.RedirectUriRequired=4]="RedirectUriRequired";n[n.InvalidAuthorizationGrant=5]="InvalidAuthorizationGrant";n[n.InvalidAuthorizationScopes=6]="InvalidAuthorizationScopes";n[n.InvalidRefreshToken=7]="InvalidRefreshToken";n[n.AuthorizationNotFound=8]="AuthorizationNotFound";n[n.AuthorizationGrantExpired=9]="AuthorizationGrantExpired";n[n.AccessAlreadyIssued=10]="AccessAlreadyIssued";n[n.InvalidRedirectUri=11]="InvalidRedirectUri";n[n.AccessTokenNotFound=12]="AccessTokenNotFound";n[n.InvalidAccessToken=13]="InvalidAccessToken";n[n.AccessTokenAlreadyRefreshed=14]="AccessTokenAlreadyRefreshed";n[n.InvalidClientSecret=15]="InvalidClientSecret";n[n.ClientSecretExpired=16]="ClientSecretExpired";n[n.ServerError=17]="ServerError";n[n.AccessDenied=18]="AccessDenied";n[n.AccessTokenKeyRequired=19]="AccessTokenKeyRequired";n[n.InvalidAccessTokenKey=20]="InvalidAccessTokenKey";n[n.FailedToGetAccessToken=21]="FailedToGetAccessToken";n[n.InvalidClientId=22]="InvalidClientId";n[n.InvalidClient=23]="InvalidClient";n[n.InvalidValidTo=24]="InvalidValidTo";n[n.InvalidUserId=25]="InvalidUserId";n[n.FailedToIssueAccessToken=26]="FailedToIssueAccessToken";n[n.AuthorizationGrantScopeMissing=27]="AuthorizationGrantScopeMissing"}(t.TokenError||(t.TokenError={}));a=t.TokenError;t.TypeInfo={AccessTokenResult:{fields:null},AppSessionTokenError:{enumValues:{none:0,userIdRequired:1,clientIdRequired:2,invalidUserId:3,invalidUserType:4,accessDenied:5,failedToIssueAppSessionToken:6,invalidClientId:7,authorizationIsNotSuccessfull:8}},Authorization:{fields:null},AuthorizationDecision:{fields:null},AuthorizationDescription:{fields:null},AuthorizationDetails:{fields:null},AuthorizationError:{enumValues:{none:0,clientIdRequired:1,invalidClientId:2,responseTypeRequired:3,responseTypeNotSupported:4,scopeRequired:5,invalidScope:6,redirectUriRequired:7,insecureRedirectUri:8,invalidRedirectUri:9,invalidUserId:10,invalidUserType:11,accessDenied:12}},AuthorizationGrant:{fields:null},AuthorizationScopeDescription:{fields:null},ClientType:{enumValues:{confidential:0,"public":1,mediumTrust:2,highTrust:3,fullTrust:4}},GrantType:{enumValues:{none:0,jwtBearer:1,refreshToken:2,implicit:3}},HostAuthorizationError:{enumValues:{none:0,clientIdRequired:1,accessDenied:2,failedToAuthorizeHost:3,clientIdNotFound:4,invalidClientId:5}},InitiationError:{enumValues:{none:0,clientIdRequired:1,invalidClientId:2,responseTypeRequired:3,responseTypeNotSupported:4,scopeRequired:5,invalidScope:6,redirectUriRequired:7,insecureRedirectUri:8,invalidRedirectUri:9}},RefreshTokenGrant:{fields:null},Registration:{fields:null},ResponseType:{enumValues:{none:0,assertion:1,idToken:2,tenantPicker:3,signoutToken:4,appToken:5,code:6}},SessionTokenError:{enumValues:{none:0,displayNameRequired:1,invalidDisplayName:2,invalidValidTo:3,invalidScope:4,userIdRequired:5,invalidUserId:6,invalidUserType:7,accessDenied:8,failedToIssueAccessToken:9,invalidClient:10,invalidClientType:11,invalidClientId:12,invalidTargetAccounts:13,hostAuthorizationNotFound:14,authorizationNotFound:15,failedToUpdateAccessToken:16,sourceNotSupported:17,invalidSourceIP:18,invalidSource:19,duplicateHash:20}},SessionTokenType:{enumValues:{selfDescribing:0,compact:1}},TokenError:{enumValues:{none:0,grantTypeRequired:1,authorizationGrantRequired:2,clientSecretRequired:3,redirectUriRequired:4,invalidAuthorizationGrant:5,invalidAuthorizationScopes:6,invalidRefreshToken:7,authorizationNotFound:8,authorizationGrantExpired:9,accessAlreadyIssued:10,invalidRedirectUri:11,accessTokenNotFound:12,invalidAccessToken:13,accessTokenAlreadyRefreshed:14,invalidClientSecret:15,clientSecretExpired:16,serverError:17,accessDenied:18,accessTokenKeyRequired:19,invalidAccessTokenKey:20,failedToGetAccessToken:21,invalidClientId:22,invalidClient:23,invalidValidTo:24,invalidUserId:25,failedToIssueAccessToken:26,authorizationGrantScopeMissing:27}},TokenPairResult:{fields:null}};t.TypeInfo.AccessTokenResult.fields={accessToken:{typeInfo:i.TypeInfo.JsonWebToken},accessTokenError:{enumType:t.TypeInfo.TokenError},refreshToken:{typeInfo:t.TypeInfo.RefreshTokenGrant},validTo:{isDate:!0}};t.TypeInfo.Authorization.fields={accessIssued:{isDate:!0},validFrom:{isDate:!0},validTo:{isDate:!0}};t.TypeInfo.AuthorizationDecision.fields={authorization:{typeInfo:t.TypeInfo.Authorization},authorizationError:{enumType:t.TypeInfo.AuthorizationError},authorizationGrant:{typeInfo:t.TypeInfo.AuthorizationGrant}};t.TypeInfo.AuthorizationDescription.fields={clientRegistration:{typeInfo:t.TypeInfo.Registration},initiationError:{enumType:t.TypeInfo.InitiationError},scopeDescriptions:{isArray:!0,typeInfo:t.TypeInfo.AuthorizationScopeDescription}};t.TypeInfo.AuthorizationDetails.fields={authorization:{typeInfo:t.TypeInfo.Authorization},clientRegistration:{typeInfo:t.TypeInfo.Registration},scopeDescriptions:{isArray:!0,typeInfo:t.TypeInfo.AuthorizationScopeDescription}};t.TypeInfo.AuthorizationGrant.fields={grantType:{enumType:t.TypeInfo.GrantType}};t.TypeInfo.AuthorizationScopeDescription.fields={};t.TypeInfo.RefreshTokenGrant.fields={grantType:{enumType:t.TypeInfo.GrantType},jwt:{typeInfo:i.TypeInfo.JsonWebToken}};t.TypeInfo.Registration.fields={clientType:{enumType:t.TypeInfo.ClientType}};t.TypeInfo.TokenPairResult.fields={tokenError:{enumType:t.TypeInfo.TokenError}}});
// VSS/DelegatedAuthorization/RestClient //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/DelegatedAuthorization/RestClient",["require","exports","VSS/DelegatedAuthorization/Contracts","VSS/WebApi/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u,f){"use strict";function v(n){return window.VSS&&window.VSS.VssSDKRestVersion&&l[window.VSS.VssSDKRestVersion]?u.getClient(l[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):u.getClient(e,undefined,undefined,undefined,n)}var o=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.authorize=function(n,t,r,u,f){var e={responseType:r,clientId:u,scopes:f};return this._beginRequest({httpMethod:"POST",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDecision,responseIsCollection:!1,routeValues:{userId:t},queryParams:e,apiVersion:"3.0-preview.1",data:n})},t.prototype.getAuthorizations=function(n){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDetails,responseIsCollection:!0,routeValues:{userId:n},apiVersion:"3.0-preview.1"})},t.prototype.initiateAuthorization=function(n,t,r,u,f){var e={responseType:r,clientId:u,scopes:f};return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDescription,responseIsCollection:!1,routeValues:{userId:t},queryParams:e,apiVersion:"3.0-preview.1"})},t.prototype.revokeAuthorization=function(n,t){var i={authorizationId:t};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseIsCollection:!1,routeValues:{userId:n},queryParams:i,apiVersion:"3.0-preview.1"})},t.prototype.host=function(n){var t={clientId:n};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"DelegatedAuth",locationId:"7372fdd9-238c-467c-b0f2-995f4bfe0d94",resource:"HostAuthorization",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!1,queryParams:t,apiVersion:"3.0-preview.1"})},t.prototype.revoke=function(n,t){var i={clientId:n,hostId:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"DelegatedAuth",locationId:"7372fdd9-238c-467c-b0f2-995f4bfe0d94",resource:"HostAuthorization",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!1,queryParams:i,apiVersion:"3.0-preview.1"})},t.prototype.create=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"PUT",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",requestType:i.TypeInfo.Registration,responseType:i.TypeInfo.Registration,responseIsCollection:!1,queryParams:r,apiVersion:"3.0-preview.2",data:n})},t.prototype.delete=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseIsCollection:!1,routeValues:{registrationId:n},apiVersion:"3.0-preview.2"})},t.prototype.get=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:i.TypeInfo.Registration,responseIsCollection:!1,routeValues:{registrationId:n},queryParams:r,apiVersion:"3.0-preview.2"})},t.prototype.list=function(){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:i.TypeInfo.Registration,responseIsCollection:!0,apiVersion:"3.0-preview.2"})},t.prototype.update=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"POST",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",requestType:i.TypeInfo.Registration,responseType:i.TypeInfo.Registration,responseIsCollection:!1,queryParams:r,apiVersion:"3.0-preview.2",data:n})},t.prototype.getSecret=function(n){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"f37e5023-dfbe-490e-9e40-7b7fb6b67887",resource:"RegistrationSecret",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:r.TypeInfo.JsonWebToken,responseIsCollection:!1,routeValues:{registrationId:n},apiVersion:"3.0-preview.1"})},t}(f.VssHttpClient),s,e,h,c,a,l;t.DelegatedAuthorizationHttpClient3=o;s=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.authorize=function(n,t,r,u,f){var e={responseType:r,clientId:u,scopes:f};return this._beginRequest({httpMethod:"POST",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDecision,responseIsCollection:!1,routeValues:{userId:t},queryParams:e,apiVersion:"2.3",data:n})},t.prototype.getAuthorizations=function(n){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDetails,responseIsCollection:!0,routeValues:{userId:n},apiVersion:"2.3"})},t.prototype.initiateAuthorization=function(n,t,r,u,f){var e={responseType:r,clientId:u,scopes:f};return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDescription,responseIsCollection:!1,routeValues:{userId:t},queryParams:e,apiVersion:"2.3"})},t.prototype.revokeAuthorization=function(n,t){var i={authorizationId:t};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseIsCollection:!1,routeValues:{userId:n},queryParams:i,apiVersion:"2.3"})},t.prototype.host=function(n){var t={clientId:n};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"DelegatedAuth",locationId:"7372fdd9-238c-467c-b0f2-995f4bfe0d94",resource:"HostAuthorization",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!1,queryParams:t,apiVersion:"2.3-preview.1"})},t.prototype.revoke=function(n,t){var i={clientId:n,hostId:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"DelegatedAuth",locationId:"7372fdd9-238c-467c-b0f2-995f4bfe0d94",resource:"HostAuthorization",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!1,queryParams:i,apiVersion:"2.3-preview.1"})},t.prototype.create=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"PUT",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",requestType:i.TypeInfo.Registration,responseType:i.TypeInfo.Registration,responseIsCollection:!1,queryParams:r,apiVersion:"2.3",data:n})},t.prototype.delete=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseIsCollection:!1,routeValues:{registrationId:n},apiVersion:"2.3"})},t.prototype.get=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:i.TypeInfo.Registration,responseIsCollection:!1,routeValues:{registrationId:n},queryParams:r,apiVersion:"2.3"})},t.prototype.list=function(){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:i.TypeInfo.Registration,responseIsCollection:!0,apiVersion:"2.3"})},t.prototype.update=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"POST",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",requestType:i.TypeInfo.Registration,responseType:i.TypeInfo.Registration,responseIsCollection:!1,queryParams:r,apiVersion:"2.3",data:n})},t.prototype.getSecret=function(n){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"f37e5023-dfbe-490e-9e40-7b7fb6b67887",resource:"RegistrationSecret",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:r.TypeInfo.JsonWebToken,responseIsCollection:!1,routeValues:{registrationId:n},apiVersion:"2.3"})},t}(f.VssHttpClient);t.DelegatedAuthorizationHttpClient2_3=s;e=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.authorize=function(n,t,r,u,f){var e={responseType:r,clientId:u,scopes:f};return this._beginRequest({httpMethod:"POST",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDecision,responseIsCollection:!1,routeValues:{userId:t},queryParams:e,apiVersion:"2.2",data:n})},t.prototype.getAuthorizations=function(n){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDetails,responseIsCollection:!0,routeValues:{userId:n},apiVersion:"2.2"})},t.prototype.initiateAuthorization=function(n,t,r,u,f){var e={responseType:r,clientId:u,scopes:f};return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDescription,responseIsCollection:!1,routeValues:{userId:t},queryParams:e,apiVersion:"2.2"})},t.prototype.revokeAuthorization=function(n,t){var i={authorizationId:t};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseIsCollection:!1,routeValues:{userId:n},queryParams:i,apiVersion:"2.2"})},t.prototype.host=function(n){var t={clientId:n};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"DelegatedAuth",locationId:"7372fdd9-238c-467c-b0f2-995f4bfe0d94",resource:"HostAuthorization",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!1,queryParams:t,apiVersion:"2.2-preview.1"})},t.prototype.revoke=function(n,t){var i={clientId:n,hostId:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"DelegatedAuth",locationId:"7372fdd9-238c-467c-b0f2-995f4bfe0d94",resource:"HostAuthorization",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!1,queryParams:i,apiVersion:"2.2-preview.1"})},t.prototype.create=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"PUT",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",requestType:i.TypeInfo.Registration,responseType:i.TypeInfo.Registration,responseIsCollection:!1,queryParams:r,apiVersion:"2.2",data:n})},t.prototype.delete=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseIsCollection:!1,routeValues:{registrationId:n},apiVersion:"2.2"})},t.prototype.get=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:i.TypeInfo.Registration,responseIsCollection:!1,routeValues:{registrationId:n},queryParams:r,apiVersion:"2.2"})},t.prototype.list=function(){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:i.TypeInfo.Registration,responseIsCollection:!0,apiVersion:"2.2"})},t.prototype.update=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"POST",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",requestType:i.TypeInfo.Registration,responseType:i.TypeInfo.Registration,responseIsCollection:!1,queryParams:r,apiVersion:"2.2",data:n})},t.prototype.getSecret=function(n){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"f37e5023-dfbe-490e-9e40-7b7fb6b67887",resource:"RegistrationSecret",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:r.TypeInfo.JsonWebToken,responseIsCollection:!1,routeValues:{registrationId:n},apiVersion:"2.2"})},t}(f.VssHttpClient);t.DelegatedAuthorizationHttpClient2_2=e;h=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.authorize=function(n,t,r,u,f){var e={responseType:r,clientId:u,scopes:f};return this._beginRequest({httpMethod:"POST",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDecision,responseIsCollection:!1,routeValues:{userId:t},queryParams:e,apiVersion:"2.1",data:n})},t.prototype.getAuthorizations=function(n){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDetails,responseIsCollection:!0,routeValues:{userId:n},apiVersion:"2.1"})},t.prototype.initiateAuthorization=function(n,t,r,u,f){var e={responseType:r,clientId:u,scopes:f};return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDescription,responseIsCollection:!1,routeValues:{userId:t},queryParams:e,apiVersion:"2.1"})},t.prototype.revokeAuthorization=function(n,t){var i={authorizationId:t};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseIsCollection:!1,routeValues:{userId:n},queryParams:i,apiVersion:"2.1"})},t.prototype.host=function(n){var t={clientId:n};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"DelegatedAuth",locationId:"7372fdd9-238c-467c-b0f2-995f4bfe0d94",resource:"HostAuthorization",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!1,queryParams:t,apiVersion:"2.1-preview.1"})},t.prototype.revoke=function(n,t){var i={clientId:n,hostId:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"DelegatedAuth",locationId:"7372fdd9-238c-467c-b0f2-995f4bfe0d94",resource:"HostAuthorization",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!1,queryParams:i,apiVersion:"2.1-preview.1"})},t.prototype.create=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"PUT",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",requestType:i.TypeInfo.Registration,responseType:i.TypeInfo.Registration,responseIsCollection:!1,queryParams:r,apiVersion:"2.1",data:n})},t.prototype.delete=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseIsCollection:!1,routeValues:{registrationId:n},apiVersion:"2.1"})},t.prototype.get=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:i.TypeInfo.Registration,responseIsCollection:!1,routeValues:{registrationId:n},queryParams:r,apiVersion:"2.1"})},t.prototype.list=function(){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:i.TypeInfo.Registration,responseIsCollection:!0,apiVersion:"2.1"})},t.prototype.update=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"POST",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",requestType:i.TypeInfo.Registration,responseType:i.TypeInfo.Registration,responseIsCollection:!1,queryParams:r,apiVersion:"2.1",data:n})},t.prototype.getSecret=function(n){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"f37e5023-dfbe-490e-9e40-7b7fb6b67887",resource:"RegistrationSecret",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:r.TypeInfo.JsonWebToken,responseIsCollection:!1,routeValues:{registrationId:n},apiVersion:"2.1"})},t}(f.VssHttpClient);t.DelegatedAuthorizationHttpClient2_1=h;c=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.authorize=function(n,t,r,u,f){var e={responseType:r,clientId:u,scopes:f};return this._beginRequest({httpMethod:"POST",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDecision,responseIsCollection:!1,routeValues:{userId:t},queryParams:e,apiVersion:"2.0",data:n})},t.prototype.getAuthorizations=function(n){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDetails,responseIsCollection:!0,routeValues:{userId:n},apiVersion:"2.0"})},t.prototype.initiateAuthorization=function(n,t,r,u,f){var e={responseType:r,clientId:u,scopes:f};return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:i.TypeInfo.AuthorizationDescription,responseIsCollection:!1,routeValues:{userId:t},queryParams:e,apiVersion:"2.0"})},t.prototype.revokeAuthorization=function(n,t){var i={authorizationId:t};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"DelegatedAuth",locationId:"efbf6e0c-1150-43fd-b869-7e2b04fc0d09",resource:"Authorizations",routeTemplate:"_apis/{area}/{resource}/{userId}",responseIsCollection:!1,routeValues:{userId:n},queryParams:i,apiVersion:"2.0"})},t.prototype.host=function(n){var t={clientId:n};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"DelegatedAuth",locationId:"7372fdd9-238c-467c-b0f2-995f4bfe0d94",resource:"HostAuthorization",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!1,queryParams:t,apiVersion:"2.0-preview.1"})},t.prototype.revoke=function(n,t){var i={clientId:n,hostId:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"DelegatedAuth",locationId:"7372fdd9-238c-467c-b0f2-995f4bfe0d94",resource:"HostAuthorization",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!1,queryParams:i,apiVersion:"2.0-preview.1"})},t.prototype.create=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"PUT",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",requestType:i.TypeInfo.Registration,responseType:i.TypeInfo.Registration,responseIsCollection:!1,queryParams:r,apiVersion:"2.0",data:n})},t.prototype.delete=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseIsCollection:!1,routeValues:{registrationId:n},apiVersion:"2.0"})},t.prototype.get=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:i.TypeInfo.Registration,responseIsCollection:!1,routeValues:{registrationId:n},queryParams:r,apiVersion:"2.0"})},t.prototype.list=function(){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:i.TypeInfo.Registration,responseIsCollection:!0,apiVersion:"2.0"})},t.prototype.update=function(n,t){var r={includeSecret:t};return this._beginRequest({httpMethod:"POST",area:"DelegatedAuth",locationId:"909cd090-3005-480d-a1b4-220b76cb0afe",resource:"Registration",routeTemplate:"_apis/{area}/{resource}/{registrationId}",requestType:i.TypeInfo.Registration,responseType:i.TypeInfo.Registration,responseIsCollection:!1,queryParams:r,apiVersion:"2.0",data:n})},t.prototype.getSecret=function(n){return this._beginRequest({httpMethod:"GET",area:"DelegatedAuth",locationId:"f37e5023-dfbe-490e-9e40-7b7fb6b67887",resource:"RegistrationSecret",routeTemplate:"_apis/{area}/{resource}/{registrationId}",responseType:r.TypeInfo.JsonWebToken,responseIsCollection:!1,routeValues:{registrationId:n},apiVersion:"2.0"})},t}(f.VssHttpClient);t.DelegatedAuthorizationHttpClient2=c;a=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(o);t.DelegatedAuthorizationHttpClient=a;l={"3.0":o,"2.3":s,"2.2":e,"2.1":h,"2.0":c};t.getClient=v});
// VSS/Operations/RestClient //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Operations/RestClient",["require","exports","VSS/Operations/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function a(n){return window.VSS&&window.VSS.VssSDKRestVersion&&c[window.VSS.VssSDKRestVersion]?r.getClient(c[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(f,undefined,undefined,undefined,n)}var e=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.getOperation=function(n){return this._beginRequest({httpMethod:"GET",area:"operations",locationId:"9a1b74b4-2ca8-4a9f-8470-c2f2e6fdc949",resource:"operations",routeTemplate:"_apis/{resource}/{operationId}",responseType:i.TypeInfo.Operation,responseIsCollection:!1,routeValues:{operationId:n},apiVersion:"3.0-preview.1"})},t}(u.VssHttpClient),o,f,s,h,l,c;t.OperationsHttpClient3=e;o=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.getOperation=function(n){return this._beginRequest({httpMethod:"GET",area:"operations",locationId:"9a1b74b4-2ca8-4a9f-8470-c2f2e6fdc949",resource:"operations",routeTemplate:"_apis/{resource}/{operationId}",responseType:i.TypeInfo.Operation,responseIsCollection:!1,routeValues:{operationId:n},apiVersion:"2.3"})},t}(u.VssHttpClient);t.OperationsHttpClient2_3=o;f=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.getOperation=function(n){return this._beginRequest({httpMethod:"GET",area:"operations",locationId:"9a1b74b4-2ca8-4a9f-8470-c2f2e6fdc949",resource:"operations",routeTemplate:"_apis/{resource}/{operationId}",responseType:i.TypeInfo.Operation,responseIsCollection:!1,routeValues:{operationId:n},apiVersion:"2.2"})},t}(u.VssHttpClient);t.OperationsHttpClient2_2=f;s=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.getOperation=function(n){return this._beginRequest({httpMethod:"GET",area:"operations",locationId:"9a1b74b4-2ca8-4a9f-8470-c2f2e6fdc949",resource:"operations",routeTemplate:"_apis/{resource}/{operationId}",responseType:i.TypeInfo.Operation,responseIsCollection:!1,routeValues:{operationId:n},apiVersion:"2.1"})},t}(u.VssHttpClient);t.OperationsHttpClient2_1=s;h=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.getOperation=function(n){return this._beginRequest({httpMethod:"GET",area:"operations",locationId:"9a1b74b4-2ca8-4a9f-8470-c2f2e6fdc949",resource:"operations",routeTemplate:"_apis/{resource}/{operationId}",responseType:i.TypeInfo.Operation,responseIsCollection:!1,routeValues:{operationId:n},apiVersion:"2.0"})},t}(u.VssHttpClient);t.OperationsHttpClient2=h;l=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(e);t.OperationsHttpClient=l;c={"3.0":e,"2.3":o,"2.2":f,"2.1":s,"2.0":h};t.getClient=a});
// VSS/Profile/Contracts //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
define("VSS/Profile/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f,e;(function(n){n[n.Core=1]="Core";n[n.Application=2]="Application"})(t.AttributesScope||(t.AttributesScope={}));i=t.AttributesScope,function(n){n[n.Small=0]="Small";n[n.Medium=1]="Medium";n[n.Large=2]="Large"}(t.AvatarSize||(t.AvatarSize={}));r=t.AvatarSize,function(n){n[n.Minimal=0]="Minimal";n[n.Email=1]="Email";n[n.Avatar=2]="Avatar";n[n.DisplayName=4]="DisplayName";n[n.All=65535]="All"}(t.CoreProfileAttributes||(t.CoreProfileAttributes={}));u=t.CoreProfileAttributes,function(n){n[n.Update=0]="Update";n[n.Create=1]="Create";n[n.CreateIDE=2]="CreateIDE";n[n.Review=3]="Review";n[n.AvatarImageFormat=4]="AvatarImageFormat"}(t.ProfilePageType||(t.ProfilePageType={}));f=t.ProfilePageType,function(n){n[n.DisplayName=0]="DisplayName";n[n.EmailAddress=1]="EmailAddress";n[n.PublicAlias=2]="PublicAlias";n[n.Country=3]="Country"}(t.ProfilePropertyType||(t.ProfilePropertyType={}));e=t.ProfilePropertyType;t.TypeInfo={AttributeDescriptor:{fields:null},AttributesContainer:{fields:null},AttributesScope:{enumValues:{core:1,application:2}},Avatar:{fields:null},AvatarSize:{enumValues:{small:0,medium:1,large:2}},CoreProfileAttribute:{fields:null},CoreProfileAttributes:{enumValues:{minimal:0,email:1,avatar:2,displayName:4,all:65535}},Country:{fields:null},CreateProfileContext:{fields:null},GeoRegion:{fields:null},Profile:{fields:null},ProfileAttribute:{fields:null},ProfileAttributeBase:{fields:null},ProfilePageType:{enumValues:{update:0,create:1,createIDE:2,review:3,avatarImageFormat:4}},ProfilePropertyType:{enumValues:{displayName:0,emailAddress:1,publicAlias:2,country:3}},ProfileRegion:{fields:null},ProfileRegions:{fields:null},ProfileTermsOfService:{fields:null},UserTermsOfService:{fields:null},VerifyPreferredEmailContext:{fields:null}};t.TypeInfo.AttributeDescriptor.fields={};t.TypeInfo.AttributesContainer.fields={attributes:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ProfileAttribute}};t.TypeInfo.Avatar.fields={size:{enumType:t.TypeInfo.AvatarSize},timeStamp:{isDate:!0}};t.TypeInfo.CoreProfileAttribute.fields={descriptor:{typeInfo:t.TypeInfo.AttributeDescriptor},timeStamp:{isDate:!0}};t.TypeInfo.Country.fields={};t.TypeInfo.CreateProfileContext.fields={};t.TypeInfo.GeoRegion.fields={};t.TypeInfo.Profile.fields={applicationContainer:{typeInfo:t.TypeInfo.AttributesContainer},coreAttributes:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.CoreProfileAttribute},timeStamp:{isDate:!0}};t.TypeInfo.ProfileAttribute.fields={descriptor:{typeInfo:t.TypeInfo.AttributeDescriptor},timeStamp:{isDate:!0}};t.TypeInfo.ProfileAttributeBase.fields={descriptor:{typeInfo:t.TypeInfo.AttributeDescriptor},timeStamp:{isDate:!0}};t.TypeInfo.ProfileRegion.fields={};t.TypeInfo.ProfileRegions.fields={regions:{isArray:!0,typeInfo:t.TypeInfo.ProfileRegion}};t.TypeInfo.ProfileTermsOfService.fields={activatedDate:{isDate:!0},lastModified:{isDate:!0}};t.TypeInfo.UserTermsOfService.fields={currentAcceptedTermsOfServiceDate:{isDate:!0},latestTermsOfService:{typeInfo:t.TypeInfo.ProfileTermsOfService}};t.TypeInfo.VerifyPreferredEmailContext.fields={}});
// VSS/Profile/RestClient //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Profile/RestClient",["require","exports","VSS/Profile/Contracts","VSS/WebApi/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f,e){"use strict";function y(n){return window.VSS&&window.VSS.VssSDKRestVersion&&a[window.VSS.VssSDKRestVersion]?u.getClient(a[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):u.getClient(o,undefined,undefined,undefined,n)}var s=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.deleteProfileAttribute=function(n,t){var i={descriptor:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Profile",locationId:"1392b6ac-d511-492e-af5b-2263e5545a5d",resource:"Attributes",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:n},queryParams:i,apiVersion:"3.0-preview.2"})},t.prototype.getProfileAttribute=function(n,t){var r={descriptor:t};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"1392b6ac-d511-492e-af5b-2263e5545a5d",resource:"Attributes",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.ProfileAttribute,responseIsCollection:!1,routeValues:{id:n},queryParams:r,apiVersion:"3.0-preview.2"})},t.prototype.getProfileAttributes=function(n,t,r,u,f,e){var o={partition:t,modifiedSince:r,modifiedAfterRevision:u,withCoreAttributes:f,coreAttributes:e};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"1392b6ac-d511-492e-af5b-2263e5545a5d",resource:"Attributes",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.ProfileAttribute,responseIsCollection:!0,routeValues:{id:n},queryParams:o,apiVersion:"3.0-preview.2"})},t.prototype.setProfileAttribute=function(n,t,i){var r={descriptor:i};return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Profile",locationId:"1392b6ac-d511-492e-af5b-2263e5545a5d",resource:"Attributes",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:t},queryParams:r,apiVersion:"3.0-preview.2",data:n})},t.prototype.setProfileAttributes=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Profile",locationId:"1392b6ac-d511-492e-af5b-2263e5545a5d",resource:"Attributes",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:r.TypeInfo.VssJsonCollectionWrapperV,responseIsCollection:!1,routeValues:{id:t},apiVersion:"3.0-preview.2",data:n})},t.prototype.getAvatar=function(n,t,r){var u={size:t,format:r};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"67436615-b382-462a-b659-5367a492fb3c",resource:"Avatar",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.Avatar,responseIsCollection:!1,routeValues:{id:n},queryParams:u,apiVersion:"3.0-preview.1"})},t.prototype.getAvatarPreview=function(n,t,r,u,f){var e={size:r,format:u,displayName:f};return this._beginRequest({httpMethod:"POST",area:"Profile",locationId:"67436615-b382-462a-b659-5367a492fb3c",resource:"Avatar",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.Avatar,responseIsCollection:!1,routeValues:{id:t},queryParams:e,apiVersion:"3.0-preview.1",data:n})},t.prototype.resetAvatar=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Profile",locationId:"67436615-b382-462a-b659-5367a492fb3c",resource:"Avatar",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:n},apiVersion:"3.0-preview.1"})},t.prototype.setAvatar=function(n,t){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Profile",locationId:"67436615-b382-462a-b659-5367a492fb3c",resource:"Avatar",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:t},apiVersion:"3.0-preview.1",data:n})},t.prototype.getGeoRegion=function(n){var t={ipaddress:n};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"3bcda9c0-3078-48a5-a1e0-83bd05931ad0",resource:"GeoRegion",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.GeoRegion,responseIsCollection:!1,queryParams:t,apiVersion:"3.0-preview.1"})},t.prototype.createProfile=function(n){return this._beginRequest({httpMethod:"POST",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:i.TypeInfo.CreateProfileContext,responseType:i.TypeInfo.Profile,responseIsCollection:!1,apiVersion:"3.0-preview.3",data:n})},t.prototype.getProfile=function(n,t,r,u,f,e){var o={details:t,withAttributes:r,partition:u,coreAttributes:f,forceRefresh:e};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.Profile,responseIsCollection:!1,routeValues:{id:n},queryParams:o,apiVersion:"3.0-preview.3"})},t.prototype.updateProfile=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:i.TypeInfo.Profile,responseIsCollection:!1,routeValues:{id:t},apiVersion:"3.0-preview.3",data:n})},t.prototype.getRegions=function(){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"92d8d1c9-26b8-4774-a929-d640a73da524",resource:"Regions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ProfileRegions,responseIsCollection:!1,apiVersion:"3.0-preview.1"})},t.prototype.getSupportedLcids=function(){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"d5bd1aa6-c269-4bcd-ad32-75fa17475584",resource:"SupportedLcids",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:"3.0-preview.1"})},t.serviceInstanceId=e.ServiceInstanceTypes.SpsExtension,t}(f.VssHttpClient),h,o,c,l,v,a;t.ProfileHttpClient3=s;h=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.deleteProfileAttribute=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseIsCollection:!1,routeValues:{id:n,descriptor:t},apiVersion:"2.3"})},t.prototype.getProfileAttribute=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseType:i.TypeInfo.ProfileAttribute,responseIsCollection:!1,routeValues:{id:n,descriptor:t},apiVersion:"2.3"})},t.prototype.getProfileAttributes=function(n,t,r,u,f,e){var o={partition:t,modifiedSince:r,modifiedAfterRevision:u,withCoreAttributes:f,coreAttributes:e};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseType:i.TypeInfo.ProfileAttribute,responseIsCollection:!0,routeValues:{id:n},queryParams:o,apiVersion:"2.3"})},t.prototype.setProfileAttribute=function(n,t,i){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseIsCollection:!1,routeValues:{id:t,descriptor:i},apiVersion:"2.3",data:n})},t.prototype.setProfileAttributes=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",requestType:r.TypeInfo.VssJsonCollectionWrapperV,responseIsCollection:!1,routeValues:{id:t},apiVersion:"2.3",data:n})},t.prototype.getAvatar=function(n,t,r){var u={size:t,format:r};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseType:i.TypeInfo.Avatar,responseIsCollection:!1,routeValues:{id:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getAvatarPreview=function(n,t,r,u,f){var e={size:r,format:u,displayName:f};return this._beginRequest({httpMethod:"POST",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseType:i.TypeInfo.Avatar,responseIsCollection:!1,routeValues:{id:t},queryParams:e,apiVersion:"2.3",data:n})},t.prototype.resetAvatar=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseIsCollection:!1,routeValues:{id:n},apiVersion:"2.3"})},t.prototype.setAvatar=function(n,t){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseIsCollection:!1,routeValues:{id:t},apiVersion:"2.3",data:n})},t.prototype.getGeoRegion=function(n){var t={ipaddress:n};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"3bcda9c0-3078-48a5-a1e0-83bd05931ad0",resource:"GeoRegion",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.GeoRegion,responseIsCollection:!1,queryParams:t,apiVersion:"2.3"})},t.prototype.createProfile=function(n){return this._beginRequest({httpMethod:"POST",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:i.TypeInfo.CreateProfileContext,responseType:i.TypeInfo.Profile,responseIsCollection:!1,apiVersion:"2.3",data:n})},t.prototype.getProfile=function(n,t,r,u,f,e){var o={details:t,withAttributes:r,partition:u,coreAttributes:f,forceRefresh:e};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.Profile,responseIsCollection:!1,routeValues:{id:n},queryParams:o,apiVersion:"2.3"})},t.prototype.updateProfile=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:i.TypeInfo.Profile,responseIsCollection:!1,routeValues:{id:t},apiVersion:"2.3",data:n})},t.prototype.getRegions=function(){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"92d8d1c9-26b8-4774-a929-d640a73da524",resource:"Regions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ProfileRegions,responseIsCollection:!1,apiVersion:"2.3-preview.1"})},t.prototype.getSupportedLcids=function(){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"d5bd1aa6-c269-4bcd-ad32-75fa17475584",resource:"SupportedLcids",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:"2.3-preview.1"})},t.serviceInstanceId=e.ServiceInstanceTypes.SpsExtension,t}(f.VssHttpClient);t.ProfileHttpClient2_3=h;o=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.deleteProfileAttribute=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseIsCollection:!1,routeValues:{id:n,descriptor:t},apiVersion:"2.2"})},t.prototype.getProfileAttribute=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseType:i.TypeInfo.ProfileAttribute,responseIsCollection:!1,routeValues:{id:n,descriptor:t},apiVersion:"2.2"})},t.prototype.getProfileAttributes=function(n,t,r,u,f,e){var o={partition:t,modifiedSince:r,modifiedAfterRevision:u,withCoreAttributes:f,coreAttributes:e};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseType:i.TypeInfo.ProfileAttribute,responseIsCollection:!0,routeValues:{id:n},queryParams:o,apiVersion:"2.2"})},t.prototype.setProfileAttribute=function(n,t,i){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseIsCollection:!1,routeValues:{id:t,descriptor:i},apiVersion:"2.2",data:n})},t.prototype.setProfileAttributes=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",requestType:r.TypeInfo.VssJsonCollectionWrapperV,responseIsCollection:!1,routeValues:{id:t},apiVersion:"2.2",data:n})},t.prototype.getAvatar=function(n,t,r){var u={size:t,format:r};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseType:i.TypeInfo.Avatar,responseIsCollection:!1,routeValues:{id:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getAvatarPreview=function(n,t,r,u,f){var e={size:r,format:u,displayName:f};return this._beginRequest({httpMethod:"POST",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseType:i.TypeInfo.Avatar,responseIsCollection:!1,routeValues:{id:t},queryParams:e,apiVersion:"2.2",data:n})},t.prototype.resetAvatar=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseIsCollection:!1,routeValues:{id:n},apiVersion:"2.2"})},t.prototype.setAvatar=function(n,t){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseIsCollection:!1,routeValues:{id:t},apiVersion:"2.2",data:n})},t.prototype.getCountries=function(){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"775f46ed-26b3-4a6f-b7b1-01cf195acdd0",resource:"Countries",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.Country,responseIsCollection:!0,apiVersion:"2.2"})},t.prototype.getGeoRegion=function(n){var t={ipaddress:n};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"3bcda9c0-3078-48a5-a1e0-83bd05931ad0",resource:"GeoRegion",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.GeoRegion,responseIsCollection:!1,queryParams:t,apiVersion:"2.2"})},t.prototype.createProfile=function(n){return this._beginRequest({httpMethod:"POST",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:i.TypeInfo.CreateProfileContext,responseType:i.TypeInfo.Profile,responseIsCollection:!1,apiVersion:"2.2",data:n})},t.prototype.getProfile=function(n,t,r,u,f,e){var o={details:t,withAttributes:r,partition:u,coreAttributes:f,forceRefresh:e};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.Profile,responseIsCollection:!1,routeValues:{id:n},queryParams:o,apiVersion:"2.2"})},t.prototype.updateProfile=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:i.TypeInfo.Profile,responseIsCollection:!1,routeValues:{id:t},apiVersion:"2.2",data:n})},t.prototype.getRegions=function(){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"92d8d1c9-26b8-4774-a929-d640a73da524",resource:"Regions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ProfileRegions,responseIsCollection:!1,apiVersion:"2.2-preview.1"})},t.prototype.getSupportedLcids=function(){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"d5bd1aa6-c269-4bcd-ad32-75fa17475584",resource:"SupportedLcids",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:"2.2-preview.1"})},t.serviceInstanceId=e.ServiceInstanceTypes.SpsExtension,t}(f.VssHttpClient);t.ProfileHttpClient2_2=o;c=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.deleteProfileAttribute=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseIsCollection:!1,routeValues:{id:n,descriptor:t},apiVersion:"2.1"})},t.prototype.getProfileAttribute=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseType:i.TypeInfo.ProfileAttribute,responseIsCollection:!1,routeValues:{id:n,descriptor:t},apiVersion:"2.1"})},t.prototype.getProfileAttributes=function(n,t,r,u,f,e){var o={partition:t,modifiedSince:r,modifiedAfterRevision:u,withCoreAttributes:f,coreAttributes:e};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseType:i.TypeInfo.ProfileAttribute,responseIsCollection:!0,routeValues:{id:n},queryParams:o,apiVersion:"2.1"})},t.prototype.setProfileAttribute=function(n,t,i){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseIsCollection:!1,routeValues:{id:t,descriptor:i},apiVersion:"2.1",data:n})},t.prototype.setProfileAttributes=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",requestType:r.TypeInfo.VssJsonCollectionWrapperV,responseIsCollection:!1,routeValues:{id:t},apiVersion:"2.1",data:n})},t.prototype.getAvatar=function(n,t,r){var u={size:t,format:r};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseType:i.TypeInfo.Avatar,responseIsCollection:!1,routeValues:{id:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getAvatarPreview=function(n,t,r,u,f){var e={size:r,format:u,displayName:f};return this._beginRequest({httpMethod:"POST",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseType:i.TypeInfo.Avatar,responseIsCollection:!1,routeValues:{id:t},queryParams:e,apiVersion:"2.1",data:n})},t.prototype.resetAvatar=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseIsCollection:!1,routeValues:{id:n},apiVersion:"2.1"})},t.prototype.setAvatar=function(n,t){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseIsCollection:!1,routeValues:{id:t},apiVersion:"2.1",data:n})},t.prototype.getCountries=function(){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"775f46ed-26b3-4a6f-b7b1-01cf195acdd0",resource:"Countries",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.Country,responseIsCollection:!0,apiVersion:"2.1"})},t.prototype.getGeoRegion=function(n){var t={ipaddress:n};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"3bcda9c0-3078-48a5-a1e0-83bd05931ad0",resource:"GeoRegion",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.GeoRegion,responseIsCollection:!1,queryParams:t,apiVersion:"2.1"})},t.prototype.createProfile=function(n){return this._beginRequest({httpMethod:"POST",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:i.TypeInfo.CreateProfileContext,responseType:i.TypeInfo.Profile,responseIsCollection:!1,apiVersion:"2.1",data:n})},t.prototype.getProfile=function(n,t,r,u,f,e){var o={details:t,withAttributes:r,partition:u,coreAttributes:f,forceRefresh:e};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.Profile,responseIsCollection:!1,routeValues:{id:n},queryParams:o,apiVersion:"2.1"})},t.prototype.updateProfile=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:i.TypeInfo.Profile,responseIsCollection:!1,routeValues:{id:t},apiVersion:"2.1",data:n})},t.prototype.getRegions=function(){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"92d8d1c9-26b8-4774-a929-d640a73da524",resource:"Regions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ProfileRegions,responseIsCollection:!1,apiVersion:"2.1-preview.1"})},t.prototype.getSupportedLcids=function(){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"d5bd1aa6-c269-4bcd-ad32-75fa17475584",resource:"SupportedLcids",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:"2.1-preview.1"})},t.serviceInstanceId=e.ServiceInstanceTypes.SpsExtension,t}(f.VssHttpClient);t.ProfileHttpClient2_1=c;l=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.deleteProfileAttribute=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseIsCollection:!1,routeValues:{id:n,descriptor:t},apiVersion:"2.0"})},t.prototype.getProfileAttribute=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseType:i.TypeInfo.ProfileAttribute,responseIsCollection:!1,routeValues:{id:n,descriptor:t},apiVersion:"2.0"})},t.prototype.getProfileAttributes=function(n,t,r,u,f,e){var o={partition:t,modifiedSince:r,modifiedAfterRevision:u,withCoreAttributes:f,coreAttributes:e};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseType:i.TypeInfo.ProfileAttribute,responseIsCollection:!0,routeValues:{id:n},queryParams:o,apiVersion:"2.0"})},t.prototype.setProfileAttribute=function(n,t,i){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",responseIsCollection:!1,routeValues:{id:t,descriptor:i},apiVersion:"2.0",data:n})},t.prototype.setProfileAttributes=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Profile",locationId:"ef743e8c-9a94-4e55-9392-ccfe55cfae55",resource:"Attributes",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}/{descriptor}",requestType:r.TypeInfo.VssJsonCollectionWrapperV,responseIsCollection:!1,routeValues:{id:t},apiVersion:"2.0",data:n})},t.prototype.getAvatar=function(n,t,r){var u={size:t,format:r};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseType:i.TypeInfo.Avatar,responseIsCollection:!1,routeValues:{id:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getAvatarPreview=function(n,t,r,u,f){var e={size:r,format:u,displayName:f};return this._beginRequest({httpMethod:"POST",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseType:i.TypeInfo.Avatar,responseIsCollection:!1,routeValues:{id:t},queryParams:e,apiVersion:"2.0",data:n})},t.prototype.resetAvatar=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseIsCollection:!1,routeValues:{id:n},apiVersion:"2.0"})},t.prototype.setAvatar=function(n,t){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Profile",locationId:"855c48a5-ed0c-4762-a640-3d212b2244b8",resource:"Avatar",routeTemplate:"_apis/{area}/{parentresource}/{id}/{resource}",responseIsCollection:!1,routeValues:{id:t},apiVersion:"2.0",data:n})},t.prototype.getCountries=function(){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"775f46ed-26b3-4a6f-b7b1-01cf195acdd0",resource:"Countries",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.Country,responseIsCollection:!0,apiVersion:"2.0"})},t.prototype.getGeoRegion=function(n){var t={ipaddress:n};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"3bcda9c0-3078-48a5-a1e0-83bd05931ad0",resource:"GeoRegion",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.GeoRegion,responseIsCollection:!1,queryParams:t,apiVersion:"2.0"})},t.prototype.createProfile=function(n){return this._beginRequest({httpMethod:"POST",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:i.TypeInfo.CreateProfileContext,responseType:i.TypeInfo.Profile,responseIsCollection:!1,apiVersion:"2.0",data:n})},t.prototype.getProfile=function(n,t,r,u,f,e){var o={details:t,withAttributes:r,partition:u,coreAttributes:f,forceRefresh:e};return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.Profile,responseIsCollection:!1,routeValues:{id:n},queryParams:o,apiVersion:"2.0"})},t.prototype.updateProfile=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Profile",locationId:"f83735dc-483f-4238-a291-d45f6080a9af",resource:"Profiles",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:i.TypeInfo.Profile,responseIsCollection:!1,routeValues:{id:t},apiVersion:"2.0",data:n})},t.prototype.getRegions=function(){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"92d8d1c9-26b8-4774-a929-d640a73da524",resource:"Regions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ProfileRegions,responseIsCollection:!1,apiVersion:"2.0-preview.1"})},t.prototype.getSupportedLcids=function(){return this._beginRequest({httpMethod:"GET",area:"Profile",locationId:"d5bd1aa6-c269-4bcd-ad32-75fa17475584",resource:"SupportedLcids",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:"2.0-preview.1"})},t.serviceInstanceId=e.ServiceInstanceTypes.SpsExtension,t}(f.VssHttpClient);t.ProfileHttpClient2=l;v=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(s);t.ProfileHttpClient=v;a={"3.0":s,"2.3":h,"2.2":o,"2.1":c,"2.0":l};t.getClient=y});
// Profile/Scripts/Common/Aex.Clients //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Profile/Scripts/Common/Aex.Clients",["require","exports","q","VSS/Accounts/RestClient","Profile/Scripts/Common/Aex.Locations","VSS/Ajax","VSS/Authentication/Services","VSS/Context","VSS/Common/Contracts/Platform","TFS/Core/RestClient","VSS/DelegatedAuthorization/RestClient","VSS/Diag","VSS/Locations","VSS/Profile/Metrics","VSS/Operations/RestClient","VSS/Profile/Contracts","VSS/Profile/RestClient","VSS/VSS","VSS/WebApi/Constants"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){"use strict";function it(n){var u=n.webContext||o.getDefaultWebContext(),y=encodeURI(u.host.relativeUri),t=new n.clientType(y),h=e.getAuthTokenManager(n.namedWebSessionTokenId),r,c,v;return t.authTokenManager=h,n.serviceLocationPromise?r=i(n.serviceLocationPromise).then(function(n){return n.hostGuidAccessMapping?n.hostGuidAccessMapping:n.publicAccessMapping}):(c=n.serviceInstanceId||n.clientType.serviceInstanceId,v=n.contextHostType||s.ContextHostType.Deployment,r=i(a.beginGetServiceLocation(c,v,u,!0))),t._setInitializationPromise(r.then(function(n){n&&(t._rootRequestPath=n)}).catch(function(n){l.logError(n.toString())})),n.language&&(t._issueAjaxRequest=function(t,i,r){return i.headers||(i.headers={}),i.headers["Accept-Language"]=n.language,f.issueRequest(t,i,{authTokenManager:h,useAjaxResult:r})}),t}var d,ht,tt,nt,g,rt,ut,ft,et,ot,st;(function(n){n.StatusKey="Status";n.StatusValueSuccess="Success";n.StatusValueError="Error";n.StatusValueFailure="Failure"})(d||(d={})),function(n){var t,i;(function(n){n.ProfileDoesNotExistException="ProfileDoesNotExistException"})(t=n.Profile||(n.Profile={})),function(n){n.AccountExistsException="AccountExistsException";n.AccountPropertyException="AccountPropertyException"}(i=n.Accounts||(n.Accounts={}))}(ht=t.ErrorTypes||(t.ErrorTypes={}));tt=function(){function n(n){this.opts=n}return n.prototype.mapError=function(t){for(var i,r=n.resolveHttpClientError(t),u=0;u<this.opts.length;++u)if(i=this.opts[u],i.status===r.status&&i.typeKey===r.serverError.typeKey)return i.handle(r);throw t;},n.resolveHttpClientError=function(n){if(n.status&&n.serverError)return n;throw n;},n}();t.HttpErrorMapper=tt;nt=function(n){function t(t){n.call(this,t.metrics,t.feature);this.option=t}return __extends(t,n),t.prototype.action=function(n){var t=this;return i(this.option.action()).then(function(t){return n.setValue(d.StatusKey,d.StatusValueSuccess),t},function(i){try{if(t.option.errorMapper){var r=t.option.errorMapper.mapError(i);return n.setValue(d.StatusKey,d.StatusValueError),r}throw i;}catch(u){n.setValue(d.StatusKey,d.StatusValueFailure);throw u;}})},t}(v.MeteredAsyncAction);t.MeteredClientAction=nt;t.getClient=it;g=function(){function n(n){this.baseClient=it(n)}return n.prototype.invoke=function(n,t,i){return new nt({action:n,metrics:i,errorMapper:t}).enact()},n}();t.HttpClientBase=g;rt=function(n){function t(t,i){i===void 0&&(i=b.uiCulture);n.call(this,{clientType:w.ProfileHttpClient,namedWebSessionTokenId:t,language:i})}return __extends(t,n),t.prototype.createProfile=function(n,t){var i=this;return this.invoke(function(){return i.baseClient.createProfile(n)},null,t)},t.prototype.getAvatar=function(n,i,r,u){var f=this;return this.invoke(function(){return f.baseClient.getAvatar(n,t.avatarSizeToString(i),r)},null,u)},t.prototype.getAvatarPreview=function(n,t,i,r,u){var f=this;return this.invoke(function(){return f.baseClient.getAvatarPreview(n,t,i,r,u)},null,null)},t.prototype.getGeoRegion=function(n,t){var i=this;return this.invoke(function(){return i.baseClient.getGeoRegion(n)},null,t)},t.prototype.getProfile=function(n,t,i,r){var u=this;return this.invoke(function(){return u.baseClient.getProfile(n)},i,r)},t.prototype.getProfileAttribute=function(n,t,i,r){var u=this;return this.invoke(function(){return u.baseClient.getProfileAttribute(n,t)},i,r)},t.prototype.getProfileAttributes=function(n,t,i,r,u,f,e,o){var s=this;return this.invoke(function(){return s.baseClient.getProfileAttributes(n,t,i,r,u,f)},e,o)},t.prototype.getProfileWithAttributes=function(n,t,i,r,u,f,e,o){var s=this;return this.invoke(function(){return s.baseClient.getProfile(n,t,i,r,u,o)},f,e)},t.prototype.getRegions=function(n){var t=this;return this.invoke(function(){return t.baseClient.getRegions()},null,n)},t.prototype.resetAvatar=function(n){var t=this;return this.invoke(function(){return t.baseClient.resetAvatar(n)},null,null)},t.prototype.setAvatar=function(n,t,i,r){var u=this;return this.invoke(function(){return u.baseClient.setAvatar(n,t)},i,r)},t.prototype.setProfileAttribute=function(n,t,i,r,u){var f=this;return this.invoke(function(){return f.baseClient.setProfileAttribute(n,t,i)},r,u)},t.prototype.setProfileAttributes=function(n,t,i,r){var u=this;return this.invoke(function(){return u.baseClient.setProfileAttributes(n,t)},i,r)},t.prototype.updateProfile=function(n,t,i,r){var u=this;return this.invoke(function(){return u.baseClient.updateProfile(n,t)},i,r)},t.avatarSizeToString=function(n){switch(n){case p.AvatarSize.Small:return"small";case p.AvatarSize.Medium:return"medium";case p.AvatarSize.Large:return"large";default:return null}},t}(g);t.ProfileHttpClient=rt;ut=function(n){function t(t,i){i===void 0&&(i=b.uiCulture);n.call(this,{clientType:r.AccountsHttpClient,namedWebSessionTokenId:t,language:i})}return __extends(t,n),t.prototype.createAccount=function(n,t,i,r){var u=this;return this.invoke(function(){return u.baseClient.createAccount(n,t)},i,r)},t.prototype.getRegions=function(n){var t=this;return this.invoke(function(){return t.baseClient.getRegions()},null,n)},t.prototype.getAccounts=function(n,t,i,r,u,f,e){var o=this;return this.invoke(function(){return o.baseClient.getAccounts(n,t,i,r,u,f)},null,e)},t}(g);t.AccountsHttpClient=ut;ft=function(n){function t(t,i){i===void 0&&(i=b.uiCulture);n.call(this,{clientType:c.DelegatedAuthorizationHttpClient,namedWebSessionTokenId:t,serviceInstanceId:k.ServiceInstanceTypes.SPS,language:i})}return __extends(t,n),t.prototype.list=function(n){var t=this;return this.invoke(function(){return t.baseClient.list()},null,n)},t.prototype.getAuthorizations=function(n,t){var i=this;return this.invoke(function(){return i.baseClient.getAuthorizations(n)},null,t)},t}(g);t.DelegateAuthorizationHttpClient=ft;et=function(n){function t(t,i,r){r===void 0&&(r=b.uiCulture);n.call(this,{clientType:h.CoreHttpClient,namedWebSessionTokenId:t,language:r,serviceLocationPromise:u.getHelper(t).getLocation(u.spsDeploymentLocation,i,h.CoreHttpClient.serviceInstanceId)})}return __extends(t,n),t.prototype.getProjectCollections=function(n,t,i){var r=this;return this.invoke(function(){return r.baseClient.getProjectCollections(n,t)},null,i)},t.prototype.getProjectCollection=function(n,t){var i=this;return this.invoke(function(){return i.baseClient.getProjectCollection(n)},null,t)},t}(g);t.ApplicationCoreHttpClient=et;ot=function(n){function t(t,i,r){r===void 0&&(r=b.uiCulture);n.call(this,{clientType:h.CoreHttpClient,namedWebSessionTokenId:t,language:r,serviceLocationPromise:u.getHelper(t).getLocation(u.spsDeploymentLocation,i,h.CoreHttpClient.serviceInstanceId)})}return __extends(t,n),t.prototype.queueCreateProject=function(n,t){var i=this;return this.invoke(function(){return i.baseClient.queueCreateProject(n)},null,t)},t.prototype.getProject=function(n,t){var i=this;return this.invoke(function(){return i.baseClient.getProject(n)},null,t)},t.prototype.getProjects=function(n,t,i,r){var u=this;return this.invoke(function(){return u.baseClient.getProjects(n,t,i)},null,r)},t}(g);t.CollectionCoreHttpClient=ot;st=function(n){function t(t,i,r){r===void 0&&(r=b.uiCulture);n.call(this,{clientType:y.OperationsHttpClient,namedWebSessionTokenId:t,language:r,serviceLocationPromise:u.getHelper(t).getLocation(u.spsDeploymentLocation,i,h.CoreHttpClient.serviceInstanceId)})}return __extends(t,n),t.prototype.getOperation=function(n,t){var i=this;return this.invoke(function(){return i.baseClient.getOperation(n)},null,t)},t}(g);t.CollectionOperationsHttpClient=st});
// Profile/Scripts/Models/Profile.Common //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Profile/Scripts/Models/Profile.Common",["require","exports","q","knockout","Profile/Scripts/Common/Aex.Clients","VSS/Context","VSS/Locations","VSS/Profile/Metrics","Profile/Scripts/Models/Common","Profile/Scripts/Generated/Aex.Profile.Constants","Profile/Scripts/Resources/Aex.Resources.Profile","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c,l){"use strict";function b(){return new u.ProfileHttpClient(h.NameSessionTokenId.AexProfile)}function k(n,t){return t===void 0&&(t=b()),t.getProfile(n,!0,new u.HttpErrorMapper([{status:404,typeKey:u.ErrorTypes.Profile.ProfileDoesNotExistException,handle:function(){return null}}]))}var p,w,a,v,d,y,g,nt;(function(n){n[n.OptIn=0]="OptIn";n[n.OptOut=1]="OptOut";n[n.Notice=2]="Notice"})(t.MarketingPreferenceRegionType||(t.MarketingPreferenceRegionType={}));p=t.MarketingPreferenceRegionType,function(n){n[n.Initial=0]="Initial";n[n.CreateAccountRequestComplete=1]="CreateAccountRequestComplete";n[n.GetProjectCollectionRequestComplete=2]="GetProjectCollectionRequestComplete";n[n.QueueCreateProjectRequestComplete=3]="QueueCreateProjectRequestComplete";n[n.CreateProjectStatusQueued=4]="CreateProjectStatusQueued";n[n.CreateProjectStatusInProgress=5]="CreateProjectStatusInProgress";n[n.CreateProjectStatusSucceeded=6]="CreateProjectStatusSucceeded";n[n.AllComplete=7]="AllComplete"}(t.AccountCreateProgress||(t.AccountCreateProgress={}));w=t.AccountCreateProgress;a=function(n){function t(t,i,r){n.call(this);this.attempts=0;this.maxRetry=t;this.retryIntervalMs=i;this.initialValue=r}return __extends(t,n),t.prototype.waitForCompletion=function(n){var t=this;return i.delay(this.retryIntervalMs).then(function(){return++t.attempts,t.retryAction()}).then(function(r){return t.shouldRetry(r,n)?t.waitForCompletion(n):i.resolve(r)})},t.prototype.action=function(n){return this.initialValue!==undefined?this.shouldRetry(this.initialValue,n)?this.waitForCompletion(n):i.resolve(this.initialValue):this.waitForCompletion(n)},t}(o.MeteredAsyncAction);t.WaitForRepeatedAction=a;t.getExistingProfile=k;v=function(){function n(n){n===void 0&&(n=f.getDefaultWebContext());this.webContext=n}return n.prototype.redirectToProfileExperience=function(t,i,r){var u=n.getRedirectToProfileExperienceUrl(t,i,r,this.webContext);return this.redirect(u)},n.getRedirectToProfileExperienceUrl=function(t,i,r,u){u===void 0&&(u=f.getDefaultWebContext());r||(r={});r[h.ProfileRouteConstants.QueryParamKeyMkt]||(r[h.ProfileRouteConstants.QueryParamKeyMkt]=l.uiCulture);var e={action:i,controller:t,queryParams:r,webContext:u};return n.urlHelper.getMvcUrl(e)},n.prototype.redirect=function(n){return window.location.href=n,i.resolve(!0)},n.urlHelper=new e.UrlHelper("",""),n}();t.RedirectManager=v,function(n){function u(n){if(!n)return{isValid:!1,error:{message:c.ProfileNoFullName}};var r=n.trim();return r.length===0?{isValid:!1,error:{message:c.ProfileNoFullName}}:r.length>i||!t.test(r)?{isValid:!1,error:{message:c.ProfileInvalidName}}:{isValid:!0,validatedValue:r}}function f(n){if(!n)return{isValid:!1,error:{message:c.ProfileNoEmail}};var t=n.trim();return t.length===0?{isValid:!1,error:{message:c.ProfileNoEmail}}:r.test(t)?{isValid:!0,validatedValue:t}:{isValid:!1,error:{message:c.ProfileInvalidEmail}}}function e(n){return!n||n.length===0?{isValid:!1,error:{message:c.ProfileRegionRequired}}:{isValid:!0,validatedValue:n}}var t=/^[^<>\`"";|%\/@\\\]\[]+$/i,i=256,r=/^((([a-z]|\d|[!#\$%&"\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&"\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;n.validateProfileFullName=u;n.validateProfileContactEmail=f;n.validateRegionCode=e}(d=t.Validations||(t.Validations={}));y=function(n){function t(){n.apply(this,arguments);this.hasUnexpectedError=r.observable(!1);this.unexpectedErrorMessage=r.observable(null)}return __extends(t,n),t.prototype.setDefaultUnexpectedError=function(){this.unexpectedErrorMessage(c.UnexpectedErrorGeneralRequest);this.hasUnexpectedError(!0)},t.prototype.setUnexpectedError=function(n){this.unexpectedErrorMessage(n);this.hasUnexpectedError(!0)},t.prototype.clearUnexpectedError=function(){this.hasUnexpectedError(!1)},t}(s.AsyncDataLoadViewModel);t.ProfilePageViewModel=y,function(){}(g=t.PageData||(t.PageData={})),function(n){n.NameAccountHostId="AccountHostId";n.NameHub="Hub";n.HubValueHome="Home";n.HubValueEdit="Edit";n.NameNumberOfAccounts="NumberOfAccounts";n.NameUserInteraction="UserInteraction";n.UserInteractionValueAddUsers="Addusers";n.UserInteractionValueBrowseAll="BroseAll";n.UserInteractionValueBrowseExtensions="BrowseExtensions";n.UserInteractionValueEditProfile="EditProfile";n.UserInteractionValueChangePicture="ChangePicture";n.UserInteractionValueCreateNewAccount="CreateNewAccount";n.UserInteractionValueCreateNewProject="CreateNewProject";n.UserInteractionValueGoToAccount="GoToAccount";n.UserInteractionValueGoToBenefits="GoToBenefits";n.UserInteractionValueGoToExtensions="GoToExtensions";n.UserInteractionValueGoToProject="GoToProject";n.UserInteractionValueManageSecurity="ManageSecurity";n.UserInteractionValueOpenInVS="OpenInVS";n.UserInteractionValueRestoreAccount="RestoreAccount"}(nt=t.Telemetry||(t.Telemetry={}))});
// Profile/Scripts/SPS.Profile.Controls //
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Profile/Scripts/SPS.Profile.Controls",["require","exports","knockout","VSS/VSS","VSS/Context","Presentation/Scripts/TFS/SPS.Host.TfsContext","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Controls","VSS/Controls/Combos","VSS/Controls/Notifications","VSS/Controls/Dialogs","Presentation/Scripts/TFS/SPS.Legacy.Ajax","Profile/Scripts/SPS.Profile","Profile/Scripts/Resources/Aex.Resources.Profile","Profile/Scripts/SPS.Profile.Shared","VSS/Resources/VSS.Resources.Common","VSS/Utils/UI","VSS/Telemetry/Services","Profile/Scripts/Models/Account.RegionHelper","Profile/Scripts/Aex.Legacy.Profile.Controls","Profile/Scripts/Common/Aex.Telemetry","Profile/Scripts/Models/Common","Profile/Scripts/Models/Profile.Common","jQueryUI/button","jQueryUI/dialog"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){var st=k.domElem,ut=e.delegate,ft=function(){function n(){}return n.GetCurrentPageQueryString=function(){return window.location.search},n.AppendQuery=function(n,t,i){return n.indexOf("?")===-1?n+"?"+t+"="+i:n+"&"+t+"="+i},n.GetParameterValueByName=function(t){for(var u=t+"=",r=n.GetCurrentPageQueryString().slice(1).split("&"),i=0;i<r.length;i++)if(r[i]&&r[i].toLowerCase().indexOf(u)===0)return r[i].substring(u.length);return""},n.AppendMarketQuery=function(t){return t.indexOf("mkt")===-1?n.AppendQuery(t,"mkt",r.uiCulture):t},n.AppendCurrentCamapaignQuery=function(t){var i="campaign";return t.indexOf(i)===-1&&n.GetCurrentPageQueryString().indexOf(i)>-1?n.AppendQuery(t,i,n.GetParameterValueByName(i)):t},n}(),yt,lt,si,pt,dt,gt,at,hi,vt,wt,bt,ni,ti,ii,ri,ct;t.UrlHelper=ft;var ui=function(){function n(t){this._element=$('<div id="serverErrorDisplay" class="server-error">\n    <div class="server-error-message" />\n    <div class="server-error-close-btn" />\n<\/div>');this._closeBtn=$(".server-error-close-btn",this._element);this._message=$(".server-error-message",this._element);this._element.hide();this._parent=t;this._parent.prepend(this._element);this._closeBtn.click(ut(this._element,this._element.fadeOut,n.FADEOUT_DURATION))}return n.prototype.show=function(n,t){this._message.html(t);this._element.show()},n.prototype.hide=function(){this._element.fadeOut(n.FADEOUT_DURATION)},n.FADEOUT_DURATION=300,n}(),ci=function(){function n(){}return n.prototype.show=function(n){n.addClass("error-highlight")},n.prototype.hide=function(n){n.removeClass("error-highlight")},n}(),li=function(){function n(n){this._element=$('<div id="errorTooltip" class="error-tooltip">\n   <div class="tooltip-pointer" />\n   <div class="tooltip-main">\n       <div class="tooltip-message" />\n       <div class="tooltip-close-btn" />\n   <\/div>\n<\/div>');this._closeBtn=$(".tooltip-close-btn",this._element);this._message=$(".tooltip-message",this._element);this._element.hide();this._parent=n;this._parent.addClass("error-tooltip-container");this._parent.append(this._element);this._closeBtn.click(ut(this._element,this._element.hide))}return n.prototype.show=function(t,i){this._message.html(i);this._element.css("width",t.css("width"));this._element.show();this._element.css("left",t.position().left);this._element.css("top",t.position().top-this._element.height()-n.OFFSET_Y)},n.prototype.hide=function(){this._element.hide()},n.OFFSET_Y=7,n}(),ot=function(){function n(){}return n.register=function(n,t,i){var r=n.getElement();r.focusin(function(){var i=n.validate();i&&t.show(r,i)});r.focusout(ut(t,t.hide));r.bind("input",null,function(){t.hide(r);i.hide(r)})},n}(),fi=function(){function n(n){this._validatePattern=n}return n.prototype.validate=function(n){return n.length===0||this._validatePattern.test(n)},n}(),kt=function(){function n(n){this._validateFunction=n}return n.prototype.validate=function(n,t){return this._validateFunction(n,t)},n}(),ai=function(n){function t(t,i){n.call(this,t);this._conditionElement=i}return __extends(t,n),t.prototype.validate=function(t){return this._conditionElement.prop("checked")==!1?n.prototype.validate.call(this,t):!0},t}(kt),wi=function(){function n(){}return n.prototype.validate=function(n){return n.length>0},n}(),bi=function(){function n(n,t){this._minLength=n;this._maxLength=t}return n.prototype.validate=function(n){return n.length>=this._minLength&&n.length<=this._maxLength},n}(),ki=function(){function n(){}return n}(),ht=function(){function n(n){this._element=n}return n.prototype.getElement=function(){return this._element},n.prototype.val=function(){return this._element.val()},n.prototype.text=function(){return this._element.text()},n.prototype.enable=function(){this._element.prop("disabled",!1)},n.prototype.disable=function(){this._element.prop("disabled",!0)},n.prototype.show=function(){this._element.removeClass("hide")},n.prototype.hide=function(){this._element.addClass("hide")},n.prototype.focus=function(){this._element.focus()},n}();t.SpsControl=ht;var et=function(n){function t(t,i){if(n.call(this,t),this._validatorMessagePairs=[],i){var r=function(n){return n&&n.length>0};this.addValidator(new kt(r),p.RequiredField)}}return __extends(t,n),t.prototype.validate=function(){for(var t,n=0;n<this._validatorMessagePairs.length;n++)if(t=this._validatorMessagePairs[n],!t.validator.validate(this.val()))return t.message;return null},t.prototype.addValidator=function(n,t){this._validatorMessagePairs.push({validator:n,message:t})},t}(ht),vi=function(){function n(n){var t=this;this._groups=[];this._scopes=n;$.each(this._scopes,function(n,i){var r=t.calculateScopeGroup(i);r&&(i.group=r,t._groups.push(r))});this._groups=s.unique(this._groups)}return n.prototype.calculateScopeGroup=function(n){return n&&n.scope.indexOf("_")>0?n.scope.substring(0,n.scope.indexOf("_")):n.scope},n.prototype.getScopes=function(){return $.map(this._scopes,function(n){return n})},n.prototype.getGroups=function(){return this._groups},n.prototype.getScope=function(n){return this._scopes[n]?this._scopes[n]:null},n.prototype.getDescendants=function(n){var i=this,t=[];return $.each(this._scopes,function(r,u){u.scope!==n&&u.inheritsFrom===n&&(t=s.union(s.union(i.getDescendants(u.scope),[u.scope]),t))}),t},n}(),yi=function(n){function t(t,i){n.call(this,t);this._scopes=null;this._checkboxes={};this._labels={};this._editable=!0;this._scopes=new vi(i);this._editable=this.getElement().attr("data-allow-edit")?!0:!1;this.initialize()}return __extends(t,n),t.prototype.initialize=function(){this.createSelectorControls();this.createInputControl();this.setEditable(this._editable);this.setValue(this._input.val())},t.prototype.createSelectorControls=function(){var t=this,u=n.prototype.getElement.call(this),f=$("<table class='scopes-table'>").prependTo(u),i=null,r=null;$.each(this._scopes.getScopes(),function(n,u){var e,o,h,s;if(!u.isPrivate){e=$(document.createElement("input"));e.attr("type","checkbox").attr("id","s_"+u.scope).attr("scope",u.scope);e.on("change",ut(t,t.handleScopeSelectionChanged));i&&u.group===r||(i=$(st("tr")),f.append(i),r=u.group);o=$(document.createElement("label"));o.attr("for","s_"+u.scope).attr("title",u.description).addClass("scope-label");h=u.title.replace(/\([\w, ]+\)/,function(n){return"<span class='scope-permission'>"+n+"<\/span>"});o.html(h);s=$("<td class='scope-cell'>");s.append(e);s.append(o);i.append(s);t._checkboxes[u.scope]=e;t._labels[u.scope]=o}})},t.prototype.createInputControl=function(){var n=this.getElement().find("#scopes");n.length||(n=$("<input type='hidden' id='scopes' name='scopes'>"),this.getElement().append(n));this._input=new et(n)},t.prototype.setEditable=function(n){this._editable=n;$(this._input).prop("disabled",!this._editable);this.updateSelectorStates()},t.prototype.isEditable=function(){return this._editable},t.prototype.updateSelectorStates=function(){var n=this;$.each(this._checkboxes,function(t,i){var r=$(i).attr("scope"),f=n._scopes.getDescendants(r),u=!1;$.each(f,function(t,i){if(n._checkboxes[i]&&n._checkboxes[i].prop("checked"))return u=!0,!1});u||!n.isEditable()?($(n._checkboxes[r]).prop("disabled",!0),$(n._labels[r]).addClass("disabled")):($(n._checkboxes[r]).prop("disabled",!1),$(n._labels[r]).removeClass("disabled"))})},t.prototype.handleScopeSelectionChanged=function(){this.updateSelectorStates();this.refreshInternalValue()},t.prototype.hasDescendant=function(n,t){var i=this._scopes.getDescendants(n),r=s.intersect(t,i);return r.length>0},t.prototype.refreshInternalValue=function(){var i=this,n=[],t;$.each(this._checkboxes,function(t,i){i.prop("checked")&&n.push($(i).attr("scope"))});t=[];$.each(n,function(r,u){i.hasDescendant(u,n)||t.push(u)});this.setInternalValue(t.join(" "))},t.prototype.setInternalValue=function(n){this._input.getElement().val(n)},t.prototype.setValue=function(n){var t=n?n.split(" "):[];$.each(this._checkboxes,function(n,i){i.prop("checked",s.contains(t,$(i).attr("scope")))});this.updateSelectorStates();this.isEditable()?this.refreshInternalValue():this.setInternalValue(n)},t.prototype.val=function(){return this._input.val()},t}(et),pi=function(){function n(){}return n.prototype.validate=function(n){return n.length>0},n}(),ei=function(n){function t(t){n.call(this,t);t.bind("change",ut(this,this._onDirectorySelected))}return __extends(t,n),t.prototype._onDirectorySelected=function(){this.disable();window.location.href=this.getElement().val()},t}(ht),oi=function(n){function t(t){n.call(this,t);this._selectElement=t;this._isUserSelected=!1;this._exists=t.length>0;t.bind("change",ut(this,this._onDatacenterSelected));this._defaultValue=t.val();this._billingRestrictionsContainer=$("#billingRestrictionsContainer");g.hasBillingRestriction(this._defaultValue)&&this._billingRestrictionsContainer.removeClass("hide").animate({opacity:1},300)}return __extends(t,n),t.prototype._onDatacenterSelected=function(){this._isUserSelected=!0;g.hasBillingRestriction(this._selectElement.val())&&this._billingRestrictionsContainer.hasClass("hide")?this._billingRestrictionsContainer.removeClass("hide").animate({opacity:1},300):this._billingRestrictionsContainer.hasClass("hide")||this._billingRestrictionsContainer.addClass("hide").animate({opacity:1},300)},t.prototype.isUserSelected=function(){return this._isUserSelected},t.prototype.exists=function(){return this._exists},t.prototype.selectedOptionText=function(){return $(this._selectElement).children("option:selected").text()},t.prototype.setval=function(n){this._selectElement.find("option[value='"+n+"']").length>0?this._selectElement.val(n):this._selectElement.val(this._defaultValue)},t}(ht);t.DatacenterSelector=oi;yt=function(){function n(){}return n.ApplyRootDomain=function(){document.domain&&(document.domain=document.domain.replace(/^(.*?)([^.]+\.[^.]+)$/,"$2"))},n}();t.AccountHelper=yt;lt=function(n){function t(t){n.call(this,t);this._optOutCountries=[];this._noticeCountries=[];this.telemetry=new tt.AexTelemetry("Microsoft.VisualStudio.Service.Profile.Web","ProfileHubV1")}return __extends(t,n),t.prototype.initialize=function(){var s=this,r,f,u,t,e,o;n.prototype.initialize.call(this);r=$("#createAccountLink");r.length&&(t={},t[rt.Telemetry.NameUserInteraction]=rt.Telemetry.UserInteractionValueCreateNewAccount,f=new it.LoggedNewWindowNavigationLink(this.telemetry,t,r.attr("href")),i.applyBindings(f,r[0]));u=$("#manageSubscriptionsLink");u.length&&(t={},t[rt.Telemetry.NameUserInteraction]=rt.Telemetry.UserInteractionValueGoToBenefits,e=new it.LoggedNewWindowNavigationLink(this.telemetry,t,u.attr("href")),i.applyBindings(e,u[0]));$(".aex-account-link").each(function(n,t){var u=$(t),r={},f;r[rt.Telemetry.NameUserInteraction]=rt.Telemetry.UserInteractionValueGoToAccount;r[rt.Telemetry.NameAccountHostId]=u.attr("data-account-id");f=new it.LoggedNewWindowNavigationLink(s.telemetry,r,u.attr("href"));i.applyBindings(f,t)});this._fadeSpeed=300;this._optOutCountries=this._options.OptOutCountries;this._noticeCountries=this._options.NoticeCountries;this._directory=new ei(this._element.find("#directory"));this._directoryContainer=this._element.find("#directoryContainer");this._directoryLabelContainer=this._element.find("#directoryLabelContainer");this._changeDirectory=this._element.find("#changeDirectory");this._dataCenterSelectedByUser=!1;this._datacenterLabelContainer=this._element.find("#datacenterLabelContainer");this._datacenterSelectContainer=this._element.find("#datacenterSelectContainer");this._billingRestrictionsContainer=$("#billingRestrictionsContainer");this._datacenterChangeOptionsContainer=this._element.find("#datacenterChangeOptionsContainer");this._accountDatacentersSelect=new oi(this._element.find("#accountDatacenters"));this._accountDatacenterInfo=this._element.find("#accountDatacenterInfo");this._changeOptions=this._element.find("#changeOptions");this._selectedDatacenterHighlightedText=this._element.find("#accountDatacenterInfo > .highlighted-text");this.$ipRegion=this._element.find("#iPCountryCode").val();o=w.UrlHelper.getQueryValueIgnoreCase(window.location.href,"createproject");switch(o){case"details":this.showEditDetails();break;case"error":this.showGeneralErrorServiceStatusMessage()}},t.prototype.showGeneralErrorServiceStatusMessage=function(){nt.ErrorDialog.ShowErrorMessage($("#generalErrorServiceStatusMessage").val(),this._element)},t.prototype.initializeOptionsButtons=function(){this._changeDirectory.bind("click",ut(this,this._onChangeDirectoryClicked));this._changeOptions.bind("click",ut(this,this._onChangeOptionsClicked))},t.prototype.IsOptOutCountry=function(n){return this._optOutCountries&&$.inArray(n,this._optOutCountries)!==-1},t.prototype.IsNoticeCountry=function(n){return this._noticeCountries&&$.inArray(n,this._noticeCountries)!==-1},t.prototype._onChangeDirectoryClicked=function(){return this._showDirectorySelection(),this._directory.focus(),!1},t.prototype.showEditDetails=function(){this._showDirectorySelection();this._showDatacenterSelection();this._accountDatacenterInfo.hide();this._changeOptions.hide()},t.prototype._onChangeOptionsClicked=function(){return this.showEditDetails(),this._accountDatacentersSelect.focus(),this._directory.focus(),!1},t.prototype._showDirectorySelection=function(){this._fadeInElement(this._directoryLabelContainer);this._fadeInElement(this._directoryContainer)},t.prototype._showDatacenterSelection=function(){this._fadeInElement(this._datacenterLabelContainer);this._fadeInElement(this._datacenterSelectContainer);this._fadeOutElement(this._datacenterChangeOptionsContainer)},t.prototype._showBillingRestrictionsMessage=function(){this._fadeInElement(this._billingRestrictionsContainer)},t.prototype._hideBillingRestrictionsMessage=function(){this._fadeOutElement(this._billingRestrictionsContainer)},t.prototype.updateBillingRestrictionMessage=function(){g.hasBillingRestriction(this._accountDatacentersSelect.val())&&this._billingRestrictionsContainer.hasClass("hide")?this._showBillingRestrictionsMessage():this._billingRestrictionsContainer.hasClass("hide")||this._hideBillingRestrictionsMessage()},t.prototype.selectedDatacenter=function(){return this._accountDatacentersSelect.exists?this._accountDatacentersSelect.val():""},t.prototype.accountDataCentersSelect=function(){return this._accountDatacentersSelect},t.prototype.setDatacenterForRegion=function(n){var t,i;this._accountDatacentersSelect.exists()&&!this._accountDatacentersSelect.isUserSelected()&&(t=g.AccountRegionHelper.getMappedDatacenterForRegion(n),t&&(i=t.accountServiceRegion,this._accountDatacentersSelect.setval(i),this._selectedDatacenterHighlightedText.text(this._accountDatacentersSelect.selectedOptionText()),this.updateBillingRestrictionMessage()))},t.prototype._fadeOutElement=function(n){n.addClass("hide").animate({opacity:1},this._fadeSpeed)},t.prototype._fadeInElement=function(n){n.removeClass("hide").animate({opacity:1},this._fadeSpeed)},t.prototype.enableElements=function(){this._directory.enable();this._accountDatacentersSelect.enable()},t.prototype.disableElements=function(){this._directory.disable();this._accountDatacentersSelect.disable()},t}(h.BaseControl);t.ProfileViewBase=lt;si=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initialize=function(){var t,r,e,f,o;n.prototype.initialize.call(this);t=$("#editProfileLink");t.length&&(r={},r[rt.Telemetry.NameUserInteraction]=rt.Telemetry.UserInteractionValueEditProfile,e=new it.LoggedRedirectionNavigationLink(t.attr("href"),this.telemetry,r),i.applyBindings(e,t[0]));this._element.find(".description").text(p.ProfileHomeDescription);f=this.getElement();this._serverErrorDisplay=new ui(f);this._options.ServerError&&this._serverErrorDisplay.show(null,this._options.ServerError.Message);this._directorySelector=new ei(f.find("#directory"));this.$viewAuthorizationsLink=this._element.find("#authorizationsLink");$(this.$viewAuthorizationsLink).bind("click",ut(this,this._viewAuthorizations));o=$(".restoreAccountLink");o.each(function(n,t){$(t).bind("click",function(){a.show(nt.AccountRestoreDialog,{tfid:u.getDefaultWebContext().user.id,accountid:$(t).attr("data-accountid"),accountUrl:$(t).attr("data-accountUrl"),accountName:$(t).attr("data-accountName")})})})},t.prototype._viewAuthorizations=function(){a.show(nt.ViewAuthorizationsDialog,{tfid:u.getDefaultWebContext().user.id})},t}(lt);h.Enhancement.registerEnhancement(si,".profile-view");pt=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initialize=function(){var s=this,i,u,f,r,e,o;n.prototype.initialize.call(this);i=this;this.$fullName=this._element.find("#fullName");this.$contactEmail=this._element.find("#contactEmail");this.$phoneNumber=this._element.find("#PhoneNumber");this.$isEnterpriseIdeFlow=this._element.find("#isEnterpriseIdeFlow").val()==="true";u=this._element.find("#isPhoneNumberRequired").val();this.$isPhoneNumberRequired=u?u.toLowerCase()==="true":!1;this.$phoneNumberContainer=this._element.find("#phone-number-container");this.$emailContainer=this._element.find("#contact-email-container");this.$createAccountButton=this._element.find("#accountCreate");this.$message=this._element.find("#statusMessage");this.$accountName=this._element.find("#accountName");this.$validationWrapper=this._element.find("#validationWrapper");this.$formAccount=this._element.find("#formAccount");this.$accountUla=this._element.find("#accountUla");this.$mktPreferenceContainer=this._element.find("#mktPreferenceContainer");this.$mktPreferenceText=this._element.find("#marketinglabel");this.$mktLabelContainer=this._element.find("#mktLabelContainer");this.$country=this._element.find("#accountCountry");this.$profileLanguage=this._element.find("#profileLanguage");this.$initialCountryCode=this._element.find("#initialCountry");this.$initialLanguageCode=this._element.find("#initialLanguage");this.$isCompact=this._element.find("#isCompact").val();this.$pageId=this._element.find("#pageId");this.$workflowId=this._element.find("#workflowId");this.$validationfield=this._element.find("#formValidation");this.$actualStatus=this._element.find("#actualStatus");this.$statusMessage=this._element.find("#statusMessage");this.$spinner=this._element.find("#spinner");this.$progressbar=this._element.find("#progress");this.$isIdeProjectCreateEnabled=this._element.find("#isIdeProjectCreateEnabled").val();this._isIdeProjectCreateEnabled=this.$isIdeProjectCreateEnabled&&this.$isIdeProjectCreateEnabled==="True";this.$isNewProjectCreateEnabled=this._element.find("#isNewProjectCreateEnabled").val();this._isNewProjectCreateEnabled=this.$isNewProjectCreateEnabled&&this.$isNewProjectCreateEnabled==="True";this.$visualStudioVersion=this._element.find("#VisualStudioVersion").val();this.$visualStudioSku=this._element.find("#VisualStudioSku").val();this.$focusfield=this.$accountName;this.$minimumLength=2;this.$maximumLength=50;this.$validated=!1;this.$showImage=!1;this.$invalidPeriodsAndWhiteSpacePattern=/^[.\s]+$/i;this.$invalidHypenOrUnderscorePattern=/(^[_\-])|([_\-]$)/i;this.$validationPattern=/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?$/;this.$phoneNumberPattern=/^(\+\s?)?(\(\+?\d+([\s\-\.]?\d+)?\)|\d+)([\s\-\.]?(\(\d+([\s\-\.]?\d+)?\)|\d+))*(\s?(x|ext\.?)\s?\d+)?$/;this.$lastText="";this.$accountLabel=this._element.find("#accountLabel");this.$accountSection=this._element.find("#accountSection");this.$whichPage=this.$pageId.val().trim();this.$nextLocation=this._element.find("#nextLocation");this.$nextLocationUrl=this.$nextLocation.val().trim();this.$onlineAccountLocationUrl=this._element.find("#onlineAccountLocation").val().trim();this.$accountRequired=this._element.find("#accountRequired");this.$accountUrl="";this.$changeAvatarLink=this._element.find("#changeAvatarLink");this.$viewAuthorizationsLink=this._element.find("#authorizationsLink");this.$mktPreferenceSelectedByUser=!1;this.$profileFlowContext=y.ProfileFlowContext.Current();this.$createAccountOnly=this.$whichPage==="CreateAccountOnly"||this.$whichPage==="CreateAccountOnlyIDE";$(this.$fullName).focus();this._serverErrorDisplay=new ui(this.getElement());this._options.ServerError&&this._serverErrorDisplay.show(null,this._options.ServerError.Message);$(this.$formAccount).bind("submit",function(){return!1});$(this.$accountName).keypress(function(n){n.keyCode===k.KeyCode.ENTER&&s.$createAccountButton.trigger("click")});$(this.$createAccountButton).bind("click",ut(this,this._createAccountPost));$(this.$changeAvatarLink).bind("click",ut(this,this._changePicture));$(this.$viewAuthorizationsLink).bind("click",ut(this,this._viewAuthorizations));this.initializeOptionsButtons();i.$errorDialog=new nt.ErrorDialog;this._registerFocusIns(i);$(i.$accountName).focusout(function(){$(i.$validationWrapper).removeClass("form-input-focus")});$(i.$fullName).bind("input",null,function(){i._clearErrorMessageOnUserInput(i.$fullName)});$(i.$contactEmail).bind("input",null,function(){i._clearErrorMessageOnUserInput(i.$contactEmail)});this.$country.length&&this.$country.change(function(){i._clearErrorMessageOnUserInput(i.$country);i._setUpPhoneFieldDependingOnCountry(i.$country);i._setMarketingCheckDependingOnCountry(i.$country,i.$accountUla,i.$mktPreferenceContainer);i.setDatacenterForRegion(i.$country.val())});this._showProfileLanguageSelect()&&this.$profileLanguage.change(function(){i._clearErrorMessageOnUserInput(i.$profileLanguage)});$(i.$accountUla).click(function(){i.$mktPreferenceSelectedByUser=!0});$(i.$accountName).bind("input",null,function(){i._clearErrorMessageOnUserInput(i.$validationWrapper,i.$accountName)});this._createTooltips();f=this.$initialCountryCode.val();f?(this.$country.val(f),this.$country.trigger("change")):(this.$country.length&&(this._setUpPhoneFieldDependingOnCountry(this.$country),i._setMarketingCheckDependingOnCountry(i.$country,i.$accountUla,i.$mktPreferenceContainer)),i.setDatacenterForRegion(this.$ipRegion));r=this.$initialLanguageCode.val();r&&this._showProfileLanguageSelect()&&(e=this.$profileLanguage.val(),o=0!==$("option[value="+r+"]",this.$profileLanguage).length,o&&e!==r?(this.$profileLanguage.val(r),this.$profileLanguage.trigger("change")):this.$profileLanguage.val(t.defaultProfileLanguageName));this.$accountRequired.val()==="True"&&v.getMSJSON(this._options.tfsContext.getActionUrl("GetServices","profile"),{},function(n){n.length>0&&v.getMSJSON(i._options.tfsContext.getActionUrl("GetServiceGuids","profile"),{},function(t){v.getMSJSON(i._options.tfsContext.getActionUrl("GetServiceNames","profile"),{},function(r){var f,u;if(t.length===r.length){for(f={},u=0;u<t.length;u++)f[t[u].toUpperCase()]=r[u];i._renderMainPage(n,f)}},function(){})},function(){})},function(){});this.updateBillingRestrictionMessage();yt.ApplyRootDomain()},t.prototype._registerFocusIns=function(n){var t=[n.$fullName,n.$contactEmail,n.$country],i;this._showProfileLanguageSelect()&&t.push(n.$profileLanguage);i=function(n,t,i,r,u){$(n).focusin(function(){n&&i&&i(n);t&&t.length>0&&r&&t.forEach(function(n){return r(n)});u&&u()})};t.forEach(function(t,r,u){var f=u.slice(0,r).concat(u.slice(r+1,u.length));i(t,f,n.$errorDialog.show.bind(n.$errorDialog),n.$errorDialog.close.bind(n.$errorDialog))});i(n.$accountName,t,null,n.$errorDialog.close.bind(n.$errorDialog),function(){n.$errorDialog.show(n.$validationWrapper);$(n.$validationWrapper).addClass("form-input-focus")})},t.prototype._setMarketingCheckDependingOnCountry=function(t,i,r){var u=$(t).val();u&&u.toLowerCase()==="ca"?this.$mktPreferenceText.text(p.ProfileMarketingTextCanada):n.prototype.IsNoticeCountry.call(this,u)?this.$mktPreferenceText.text(p.ProfileMarketingTextNoticeCountries):this.$mktPreferenceText.text(p.ProfileMarketingText);this.$whichPage!=="UpdateProfile"&&(!u||n.prototype.IsNoticeCountry.call(this,u)?r.addClass("no-checkbox"):r.removeClass("no-checkbox"),this.$mktPreferenceSelectedByUser||i.prop("checked",n.prototype.IsOptOutCountry.call(this,u)||n.prototype.IsNoticeCountry.call(this,u)))},t.prototype._shouldShowPhoneNumberField=function(n){var t=n.val(),i="",r;return t&&(i=t.toLowerCase()),r=["us","gb"].indexOf(i)>-1,this.$isEnterpriseIdeFlow&&r},t.prototype._setUpPhoneFieldDependingOnCountry=function(n){var t="msvs-col-xs-7",i="msvs-col-xs-12";this._shouldShowPhoneNumberField(n)?(this.$emailContainer.addClass(t),this.$emailContainer.removeClass(i),this.$phoneNumberContainer.show(),this.$isPhoneNumberRequired&&$(this.$phoneNumber).addClass("required")):(this.$phoneNumberContainer.hide(),this.$emailContainer.addClass(i),this.$emailContainer.removeClass(t))},t.prototype._clearErrorMessageOnUserInput=function(n,t){t||(t=n);$(t).val().trim().length>0&&(this.$errorDialog.close(n),$(n).data("errorMessage",""),$(n).removeClass("errorHighlight"))},t.prototype._createTooltips=function(){$(this.$fullName).attr("title",p.TooltipFullName);$(this.$country).attr("title",p.TooltipRegion);$(this.$contactEmail).attr("title",p.TooltipContactEmail);$(this.$accountName).attr("title",p.TooltipAccount);$(this.$phoneNumber).attr("title",p.TooltipPhoneNumber);this._showProfileLanguageSelect()&&$(this.$profileLanguage).attr("title",p.TooltipLanguage)},t.prototype._prepareAccountForPost=function(n){n.target&&n.target.id&&n.target.id==="accountCountry"||n.keyCode===13&&($(this.$createAccountButton).is(":disabled")||($(this.$accountName).trigger("blur"),$(this.$createAccountButton).trigger("click")))},t.prototype._createAccountPost=function(){var r=this,t=!1,i;nt.ErrorDialog.HideErrorMessage(this._element);i=this.$isCompact&&this.$isCompact==="True";this.$createAccountOnly&&this._accountNotRequiredAndNotSet()&&i?window.location.href=this.$nextLocationUrl:this._validate()?($(this.$createAccountButton).attr("disabled","disabled"),$(this.$country).attr("disabled","true"),$(this.$createAccountButton).css("opacity","0.5"),$(this.$fullName).attr("disabled","disabled"),$(this.$contactEmail).attr("disabled","disabled"),$(this.$phoneNumber).attr("disabled","disabled"),$(this.$accountUla).attr("disabled","disabled"),$(this.$accountName).attr("disabled","disabled"),n.prototype.disableElements.call(this),$(this.$progressbar).show(),t=$(this.$accountUla).is(":checked")?!0:!1,this.$whichPage==="EditProfile"||this.$whichPage==="EditProfileWeb"||this.$whichPage==="CreateAccount"||this.$whichPage==="UpdateProfile"?this._updateProfile(t):this._instanceAllocationCallback(this._selected,t)):(this.$errorDialog.show($(this.$focusfield)),$(this.$focusfield).focus())},t.prototype._accountNotRequiredAndNotSet=function(){var n="",i=$(this.$accountRequired).val().trim(),t=this.getAccountName();return t!=="Yournamehere"&&(n=t),i==="False"&&n.length===0},t.prototype._renderMainPage=function(n,t){var f,p,e,w=this,s,l,r;this._serviceParents={};f=$(st("div")).addClass("create-project-page");p=$(st("p")).addClass("create-project-info").appendTo(f);e=$(st("table")).addClass("create-project-info").appendTo(f);$(p).text("If you can see the instance allocation section below on production, it means you are part of the instance allocators group.");for(s in n){var i,b="",h="",c="";if(n.hasOwnProperty(s)){i=n[s];for(r in i.Properties)i.Properties.hasOwnProperty(r)&&i.Properties[r].Key==="Microsoft.TeamFoundation.Location.Weights"&&(b=i.Properties[r].Value),i.Properties.hasOwnProperty(r)&&i.Properties[r].Key==="Microsoft.TeamFoundation.Location.DevFabricMachineName"&&(c=i.Properties[r].Value);for(r in i.LocationMappings)if(i.LocationMappings.hasOwnProperty(r)&&i.LocationMappings[r].AccessMappingMoniker==="AzureInstanceMapping"){h=i.LocationMappings[r].Location;break}this._serviceParents[i.ParentIdentifier]||(this._serviceParents[i.ParentIdentifier]=[],this._dropdownSource[i.ParentIdentifier]=[],this._serviceMapping[i.ParentIdentifier]={});this._serviceParents[i.ParentIdentifier].push(i.Identifier);l=o.format("Location: {0}, Weight: {1}",c?h+":"+c:h,b);this._dropdownSource[i.ParentIdentifier].push(l);this._serviceMapping[i.ParentIdentifier][l]=i}}for(r in this._serviceParents)if(this._serviceParents.hasOwnProperty(r)){var u=this._createRow(),a=u[0],v=u[1],y=u[2],k=r.toUpperCase(),d=t[k];k==="00025394-6065-48CA-87D9-7F5672854EF7"?(a.prependTo(e),this._setLabel(v,d+" (Required)",!1),this._setCombo(y,r,function(){for(var n=0;n<w._dropdownSource[r].length;n++)if(w._dropdownSource[r][n].indexOf("https://tfs-int.cloudapp.net/")>-1)return n;return 0})):(a.appendTo(e),this._setLabel(v,d,!1),this._setCombo(y,r,function(){return 0}))}var u=this._createRow(),a=u[0],v=u[1],y=u[2];this._setLabel(v,"Service",!0);this._setLabel(y,"Service Instances",!0);a.prependTo(e);f.appendTo(this.$accountSection)},t.prototype._createRow=function(){var n=$(st("tr")).attr("valign","top"),t=$(st("td")).appendTo(n),i=$(st("td")).appendTo(n);return[n,t,i]},t.prototype._setLabel=function(n,t,i){var r=$(st("label")).attr("for","project-name").html(t);i&&r.css("font-weight","bold");r.appendTo(n)},t.prototype._setCombo=function(n,t,i){this._dropdownSource[t].sort();this._combos[t]=this._createCombo(n,t);this._combos[t].setSelectedIndex(i(),!0)},t.prototype._createCombo=function(n,t){var i=this;return h.BaseControl.createIn(c.Combo,n,{allowEdit:!1,source:this._dropdownSource[t],cssClass:"user-id-provider-combo",indexChanged:function(n){i._comboName=t;i._providersChanged(n)}})},t.prototype._providersChanged=function(n){var t=this._dropdownSource[this._comboName][n];this._selected[this._comboName]=this._serviceMapping[this._comboName][t]},t.prototype._instanceAllocationCallback=function(n,t){var i;this._parentIdentifiers=[];this._identifiers=[];for(i in n)n.hasOwnProperty(i)&&(this._parentIdentifiers.push(n[i].ParentIdentifier),this._identifiers.push(n[i].Identifier));var r=function(){v.postMSJSON(this._options.tfsContext.getActionUrl("LogRioTimeout","Rio"),{},function(){},function(){})},u=function(){this._createProfile(t)},f=$(this._element.find("#RioRelayUrl")).val(),e=new ri(f,ut(this,u),5e3,ut(this,r));e.start()},t.prototype._createProfile=function(n){var e="",o="",i=this,u,f,t,s,h;(this.$whichPage==="ProfileAccount"||this.$whichPage==="ProfileAccountWeb"||this.$whichPage==="CreateAccount"||this.$createAccountOnly)&&(e=this.getAccountName(),o=this.selectedDatacenter());u="";this.$isCompact&&(u=this.$isCompact.trim());this.$createAccountOnly?(f=ft.AppendMarketQuery(this._options.tfsContext.getActionUrl("CreateAccount","profile")),f=ft.AppendCurrentCamapaignQuery(f),v.postMSJSON(f,{accountName:e,isCompact:u,parentIdentifiers:i._parentIdentifiers,identifiers:i._identifiers,tfsRegion:o,pageId:i.$whichPage},ut(this,this._postProfileSuccess),ut(this,this._postProfileFailure))):(t=ft.AppendMarketQuery(this._options.tfsContext.getActionUrl("CreateProfile","profile")),t=ft.AppendQuery(t,"cs",this.$visualStudioSku),t=ft.AppendQuery(t,"cv",this.$visualStudioVersion),t=ft.AppendCurrentCamapaignQuery(t),s={fullname:$(this.$fullName).val().trim(),country:$(this.$country).val(),email:$(this.$contactEmail).val().trim(),marketing:n,language:r.uiCulture,isCompact:u,accountName:e,tfsRegion:o,pageId:i.$whichPage,isPhoneNumberRequired:this.$isPhoneNumberRequired},this.$isEnterpriseIdeFlow&&(h=this.$phoneNumber.val(),h&&(s.PhoneNumber=h.trim())),v.postMSJSON(t,s,ut(this,this._postProfileSuccess),ut(this,this._postProfileFailure)))},t.prototype._updateProfile=function(n){var r="",i,u,t;this.$whichPage==="CreateAccount"&&(r=this.getAccountName());i="";this.$isCompact&&(i=this.$isCompact.trim());u=this._showProfileLanguageSelect()?$(this.$profileLanguage).val().trim():null;t=ft.AppendMarketQuery(this._options.tfsContext.getActionUrl("UpdateProfile","profile"));t=ft.AppendCurrentCamapaignQuery(t);v.postMSJSON(t,{fullname:$(this.$fullName).val().trim(),country:$(this.$country).val().trim(),email:$(this.$contactEmail).val().trim(),language:u,marketing:n,accountName:r,isCompact:i,tfsRegion:this.selectedDatacenter()},ut(this,this._postProfileSuccess),ut(this,this._postProfileFailure))},t.prototype._postProfileFailure=function(){this.enableUIelements();this.showGeneralErrorServiceStatusMessage()},t.prototype.enableUIelements=function(){n.prototype.enableElements.call(this);$(this.$createAccountButton).removeAttr("disabled");$(this.$country).removeAttr("disabled");this._showProfileLanguageSelect()&&$(this.$profileLanguage).removeAttr("disabled");$(this.$accountName).removeAttr("disabled");$(this.$accountUla).removeAttr("disabled");$(this.$createAccountButton).css("opacity","1.0");$(this.$fullName).removeAttr("disabled");$(this.$contactEmail).removeAttr("disabled");$(this.$phoneNumber).removeAttr("disabled");$(this.$spinner).hide();$(this.$progressbar).hide()},t.prototype._postProfileSuccess=function(n){var u=this,i,t,r;if(n){if(i=this.$isCompact&&this.$isCompact==="True",!n.success||!n.payload){this.enableUIelements();n.error&&n.error.message?i&&n.error.unknownError&&n.payload&&n.payload.profileCreated?window.location.href=this.$nextLocationUrl:nt.ErrorDialog.ShowErrorMessage(n.error.message,this._element):n.error&&n.error.map&&(t=!0,n.error.map.fullName&&(this.$fullName.data("errorMessage",n.error.map.fullName),this.$fullName.addClass("errorHighlight"),t&&(this.$focusfield=this.$fullName),t=!1),n.error.map.contactEmail&&(this.$contactEmail.data("errorMessage",n.error.map.contactEmail),this.$contactEmail.addClass("errorHighlight"),t&&(this.$focusfield=this.$contactEmail),t=!1),n.error.map.country&&(this.$country.data("errorMessage",n.error.map.country),this.$country.addClass("errorHighlight"),t&&(this.$focusfield=this.$country),t=!1),n.error.map.language&&this._showProfileLanguageSelect()&&(this.$profileLanguage.data("errorMessage",n.error.map.language),this.$profileLanguage.addClass("errorHighlight"),t&&(this.$focusfield=this.$profileLanguage),t=!1),n.error.map.accountName&&(this.$validationWrapper.data("errorMessage",n.error.map.accountName),this.$validationWrapper.addClass("errorHighlight"),t&&(this.$focusfield=this.$accountName),t=!1),this.$errorDialog.show($(this.$focusfield)),$(this.$focusfield).focus());return}this.$profileFlowContext.profileExists=!0;this.$profileFlowContext.enableRioTracking&&(this.$whichPage==="ProfileAccountWeb"||this.$createAccountOnly)&&RioTracking.click(300071403,"mrttsc_FY13TFSNewAcctDevRegSTrCteAcctTFSFNL_1");r=this.$nextLocationUrl&&!this.$nextLocationUrl.match(/profile-account-url/);n.payload.accountCreated&&n.payload.accountUrl?i&&!this._isIdeProjectCreateEnabled||!i&&r?window.location.href=this.$nextLocationUrl:(this._accountCreationMonitorFailureRedirection=this.$workflowId.val().trim()===""?n.payload.profileUrl:ft.AppendQuery(n.payload.profileUrl,"workflowId",this.$workflowId.val()),i&&(this._accountCreationMonitorFailureRedirection=this.$nextLocationUrl),new w.AccountCreationMonitor(n.payload.accountUrl).start().then(function(n){u._accountCreationMonitorCreated(n)},function(n){u._accountCreationMonitorFailed(n)})):window.location.href=i||r?this.$nextLocationUrl:this.$workflowId.val().trim()===""?n.payload.profileUrl:ft.AppendQuery(n.payload.profileUrl,"workflowId",this.$workflowId.val())}},t.prototype._accountCreationMonitorCreated=function(n){var t=this.$isCompact&&this.$isCompact==="True";if(n=ct.getAccountUrl(n,this._isNewProjectCreateEnabled,t),this.$nextLocationUrl&&this.$nextLocationUrl.match(/profile-account-url/)){window.location.href=this.$nextLocationUrl.replace(/http%3A%2F%2Fprofile-account-url%2F/,encodeURIComponent(n));return}window.location.href=n},t.prototype._accountCreationMonitorFailed=function(n){ct.logFailedAccountRedirection(n);window.location.href=this._accountCreationMonitorFailureRedirection},t.prototype._validateAccount=function(n){var t=n,i="",o=$(this.$accountRequired).val().trim(),s=this.$validationPattern,e=this.getAccountName(),r,u,f;return e!=="Yournamehere"&&(i=e),r=o==="True"&&i.length===0,r&&this._setInvalidAccount(p.ProfileAccountRequired,t),u=i.length>0&&!s.test(i),u&&this._setInvalidAccount(p.ProfileInvalidAccountName,t),f=i.length>this.$maximumLength,f&&this._setInvalidAccount(p.ProfileInvalidAccountName,t),(r||u||f)&&(t=!1),t},t.prototype._setInvalidAccount=function(n,t){$(this.$validationWrapper).data("errorMessage",n);$(this.$validationWrapper).addClass("errorHighlight");t&&(this.$focusfield=this.$accountName)},t.prototype._validate=function(){var i,r,u;if(this.$createAccountOnly)return this._validateAccount(!0);var n=!0,f="",e,o,t,s;f=$(this.$fullName).val().trim();e=$(this.$contactEmail).val().trim();o=$(this.$country).val();t=$(this.$phoneNumber).val();this._showProfileLanguageSelect()&&(s=$(this.$profileLanguage).val());var c=this.$invalidPeriodsAndWhiteSpacePattern,l=this.$invalidHypenOrUnderscorePattern,h=w.Validations.validateProfileFullName(f);return h.isValid||(this.$fullName.data("errorMessage",h.error.message),this.$fullName.addClass("errorHighlight"),n&&(this.$focusfield=this.$fullName),n=!1),i=w.Validations.validateProfileContactEmail(e),i.isValid||(this.$contactEmail.data("errorMessage",i.error.message),this.$contactEmail.addClass("errorHighlight"),n&&(this.$focusfield=this.$contactEmail),n=!1),this._shouldShowPhoneNumberField(this.$country)&&(t.length===0?this.$isPhoneNumberRequired&&(this.$phoneNumber.data("errorMessage",p.ProfileNoPhoneNumber),this.$phoneNumber.addClass("errorHighlight"),n&&(this.$focusfield=this.$phoneNumber),n=!1):this.$phoneNumberPattern.test(t)||(this.$phoneNumber.data("errorMessage",p.ProfileInvalidPhoneNumber),this.$phoneNumber.addClass("errorHighlight"),n&&(this.$focusfield=this.$phoneNumber),n=!1)),r=w.Validations.validateCountryCode(o),r.isValid||(this.$country.data("errorMessage",r.error.message),this.$country.addClass("errorHighlight"),n&&(this.$focusfield=this.$country),n=!1),this._showProfileLanguageSelect()&&(u=w.Validations.validateLanguageCode(s),u.isValid||(this.$profileLanguage.data("errorMessage",u.error.message),this.$profileLanguage.addClass("errorHighlight"),n&&(this.$focusfield=this.$profileLanguage),n=!1)),this._validateAccount(n)},t.prototype._changePicture=function(){a.show(at,{tfid:u.getDefaultWebContext().user.id})},t.prototype.getAccountName=function(){return $(this.$accountName).length>0?$(this.$accountName).val().trim():""},t.prototype._viewAuthorizations=function(){a.show(nt.ViewAuthorizationsDialog,{tfid:u.getDefaultWebContext().user.id})},t.prototype._showProfileLanguageSelect=function(){return this.$profileLanguage&&this.$profileLanguage.length>0},t.enhancementTypeName="tfs.account.ProfileSignupView",t.defaultProfileLanguageName="en-US",t}(lt);r.initClassPrototype(pt,{_parentIdentifiers:[],_identifiers:[],_okButton:null,_cancelButton:null,_combos:{},_comboName:null,_selected:{},_serviceMapping:{},_serviceDefinitions:[],_dropdownSource:{},_serviceParents:[]});r.classExtend(pt,f.TfsContext.ControlExtensions);h.Enhancement.registerEnhancement(pt,".profile-Signup");dt=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._options.OfferNewAccount&&(this.$redirectToTarget=e.throttledDelegate(this,5e3,this.redirectToTargetPage));yt.ApplyRootDomain();this._startDownload()},t.prototype.redirectToTargetPage=function(){var n=this;this._options.AccountUrl?(this.$profileViewUrl=this._options.ProfileViewUrl,new w.AccountCreationMonitor(this._options.AccountUrl).start().then(function(t){n.accountCreationMonitorSuccessful(t)},function(t){n.accountCreationMonitorFailed(t)})):window.location.href=this._options.ProfileViewUrl},t.prototype.accountCreationMonitorSuccessful=function(n){var t=$(this._element.find("#isNewProjectCreateEnabled")).val()==="True";window.location.href=ct.getAccountUrl(n,t)},t.prototype.accountCreationMonitorFailed=function(n){ct.logFailedAccountRedirection(n);window.location.href=this.$profileViewUrl},t.prototype._startDownload=function(){window.location.href=this._options.DownloadUrl;this._options.OfferNewAccount===!1&&this.$redirectToTarget()},t.enhancementTypeName="tfs.account.ProfileIntermediateView",t}(lt);r.classExtend(dt,f.TfsContext.ControlExtensions);h.Enhancement.registerEnhancement(dt,".profile-intermed");gt=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);var t=this;this.$createAccountButton=this._element.find("#create-account-button");this.$accountName=this._element.find("#account-name");this.$accountNameWrapper=this._element.find("#account-name-wrapper");this.$learnMoreLink=this._element.find("#learn-more-link");this.$progressBar=this._element.find("#progress-bar");this.$errorDialog=new nt.ErrorDialog;this.$whichPage=this._element.find("#pageId").val();this.$maximumLength=50;this.$validationPattern=/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?$/;$(this.$accountName).focusin(function(){t.$errorDialog.show(t.$accountNameWrapper);$(t.$accountNameWrapper).addClass("form-input-focus")});$(this.$accountName).focusout(function(){t.$errorDialog.close(t.$accountNameWrapper);$(t.$accountNameWrapper).removeClass("form-input-focus")});$(this.$accountName).bind("input",null,function(){t.clearErrorMessageOnUserInput(t.$accountNameWrapper,t.$accountName)});$(this.$createAccountButton).bind("click",ut(this,this.createAccount))},t.prototype.clearErrorMessageOnUserInput=function(n,t){t||(t=n);$(t).val().trim().length>0&&(this.$errorDialog.close(n),$(n).data("errorMessage",""),$(n).removeClass("errorHighlight"))},t.prototype.showErrorTooltip=function(n){$(this.$accountNameWrapper).data("errorMessage",n);$(this.$accountNameWrapper).addClass("errorHighlight");this.$errorDialog.show($(this.$accountNameWrapper))},t.prototype.createAccount=function(){var n;if(!$(this.$createAccountButton).is(":disabled")){if(nt.ErrorDialog.HideErrorMessage(this._element),this.clearErrorMessageOnUserInput(this.$accountNameWrapper),n=$(this.$accountName).val().trim(),n.length===0){this.showErrorTooltip(p.ProfileAccountRequired);return}if(!this.$validationPattern.test(n)){this.showErrorTooltip(p.ProfileInvalidAccountName);return}if(n.length>this.$maximumLength){this.showErrorTooltip(p.ProfileInvalidAccountName);return}this.enableProcessingState();var t=function(){v.postMSJSON(ft.AppendMarketQuery(this._options.tfsContext.getActionUrl("CreateAccount","profile")),{accountName:n,tfsRegion:this.selectedDatacenter(),pageId:this.$whichPage},ut(this,this.accountCreationSuccessful),ut(this,this.accountCreationFailure))},i=function(){v.postMSJSON(this._options.tfsContext.getActionUrl("LogRioTimeout","Rio"))},r=$(this._element.find("#RioRelayUrl")).val(),u=new ri(r,ut(this,t),5e3,ut(this,i));u.start()}},t.prototype.disableInputControls=function(){$(this.$accountName).attr("disabled","disabled");$(this.$createAccountButton).attr("disabled","disabled")},t.prototype.enableInputControls=function(){$(this.$accountName).removeAttr("disabled");$(this.$createAccountButton).removeAttr("disabled")},t.prototype.accountCreationSuccessful=function(n){var t=this,i;if(n){if(!n.success||!n.payload){this.clearProcessingState();n.error&&n.error.message?nt.ErrorDialog.ShowErrorMessage(n.error.message,this._element):n.error&&n.error.map&&n.error.map.accountName&&this.showErrorTooltip(n.error.map.accountName);return}n.payload.accountCreated&&n.payload.accountUrl&&(this.$profileViewUrl=n.payload.profileUrl,i=new w.AccountCreationMonitor(n.payload.accountUrl).start().then(function(n){t._accountCreationMonitorCreated(n)},function(n){t._accountCreationMonitorFailed(n)}))}},t.prototype._accountCreationMonitorCreated=function(n){var t=$(this._element.find("#isNewProjectCreateEnabled")).val()==="True";window.location.href=ct.getAccountUrl(n,t)},t.prototype._accountCreationMonitorFailed=function(n){ct.logFailedAccountRedirection(n);window.location.href=this.$profileViewUrl},t.prototype.accountCreationFailure=function(){this.clearProcessingState();this.showGeneralErrorServiceStatusMessage()},t.prototype.enableProcessingState=function(){this.disableInputControls();this.$learnMoreLink.hide();this.$progressBar.show()},t.prototype.clearProcessingState=function(){this.enableInputControls();this.$learnMoreLink.show();this.$progressBar.hide()},t.enhancementTypeName="tfs.account.ProfileDownloadIntermediateNewAccountView",t}(lt);r.classExtend(gt,f.TfsContext.ControlExtensions);h.Enhancement.registerEnhancement(gt,".profile-intermed");at=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:450,height:350,minWidth:450,minHeight:350,beforeClose:function(){return!this._requestContext||this._requestContext.isComplete},buttons:{saveButton:{id:"btnChangeImage",text:o.htmlEncode(p.AvatarUploadSaveLink),click:ut(this,this.onSaveAction),disabled:!0},cancelButton:{id:"btnCancel",text:o.htmlEncode(p.AvatarUploadCancelLink),click:ut(this,this.onCancelAction)}},title:o.htmlEncode(p.AvatarUploadTitle)},t))},t.prototype.initialize=function(){var t=this;this._options.url=this._options.tfsContext.getActionUrl("ChangeAvatar","profile");this._options.urlParams={id:this._options.tfid};nt.UrlHelper.AddLocaleUrlParam(this._options);this._options.success=function(n){t.populateDialog(n)};n.prototype.initialize.call(this)},t.prototype.onSaveAction=function(){this.saveAvatar()},t.prototype.onCancelAction=function(){$("#btnCancel").data("delete")==="1"&&v.postHTML(this._options.tfsContext.getActionUrl("DeleteAvatarPreview","profile",{identityId:this._options.tfid}));this._element.dialog("close")},t.prototype.saveAvatar=function(){var n=$("#frmCommitAvatar"),t=this._options.tfsContext.getActionUrl("CommitAvatar","profile");$("#btnChangeImage").button("disable");this._errorPane.clear();v.setAntiForgeryToken(n);n.attr("action",ft.AppendMarketQuery(t));n.submit()},t.prototype.populateDialog=function(){var n=this;this._errorPane=h.Enhancement.enhance(l.MessageAreaControl,$(".changeAvatarErrorSection",this._element));$("#newAvatar",this._element).bind("propertychange change",function(){var t,i;n._errorPane.clear();$(".image-upload-div").addClass("loading");$("#btnChangeImage").button("disable");n._errorPane.clear();t=$("#frmImageUpload");$("#isPreview",t).val("true");v.setAntiForgeryToken(t);i=n._options.tfsContext.getActionUrl("SaveAvatar","profile");i=ft.AppendMarketQuery(i);t.attr("action",ft.AppendQuery(i,"isDefault",($("#newAvatar").val()==="").toString()));t.submit()});$(".profile-image-reset",this._element).click(function(){return n._element.find("#newAvatar").val(""),$("#newAvatar",this._element).trigger("change"),!1});$("#btnCancel").focus()},t._controlType="ChangeAvatarDialog",t}(a.ModalDialogO);t.ChangeAvatarDialog=at;r.initClassPrototype(at,{_errorPane:null,_requestContext:null});r.classExtend(at,f.TfsContext.ControlExtensions);hi=function(){function n(n,t,i,r){var u,i;if($(".image-upload-div").removeClass("loading"),t){$("#btnChangeImage").button("disable");u=h.Enhancement.enhance(l.MessageAreaControl,$(".changeAvatarErrorSection"));switch(t){case"NoImageDataUploaded":u.setError(b.NoImageDataUploaded);break;case"ImageSizeTooLarge":u.setError(b.ImageSizeTooLarge);break;case"InvalidContentType":u.setError(b.InvalidContentType);break;case"AvatarUploadError":u.setError(p.AvatarUploadError)}}else r?($("#btnChangeImage").button("enable"),i=i+"&isPreview=true&r="+Math.floor(Math.random()*1e4),$(".image-upload-div #profileAvatar").attr("src",i),$("#btnCancel").data("delete","1")):(i=i+"&r="+Math.floor(Math.random()*1e4),$(".identity-picture").attr("src",i),$(".image-upload-div #profileAvatar").attr("src",i),$("#profileAvatar").attr("src",i),$("#btnCancel").data("delete","0"),$("#btnCancel").trigger("click"))}return n}();t.AvatarUploadComplete=hi;vt=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cache:!0,width:500,height:250,minWidth:500,minHeight:250,title:p.DeleteApplication},t));this._options.buttons.ok.text="Delete"},t.prototype.initialize=function(){var t=$("<div />"),i=p.DeleteApplicationMessage.replace("{0}",this._options.appName);t.append($("<p />").html(i));t.append($("<p />").append($("<strong />").text(p.DeleteApplicationWarningMessage)));this._element.append(t);n.prototype.initialize.call(this)},t.prototype.onOkClick=function(t){var i=this._options.tfsContext.getActionUrl("delete","application");v.postMSJSON(i,{clientId:this._options.clientId},ut(this,this.onDeleteSuccess),ut(this,this.onDeleteError));n.prototype.onOkClick.call(this,t)},t.prototype.onDeleteSuccess=function(t){t&&t.error?n.prototype._onError.call(this,t.error):n.prototype._onSuccess.call(this,t)},t.prototype.onDeleteError=function(t){n.prototype._onError.call(this,t)},t._controlType="DeleteApplicationDialog",t}(a.ConfirmationDialogO);t.DeleteApplicationDialog=vt;r.initClassPrototype(vt,{_requestContext:null});r.classExtend(vt,f.TfsContext.ControlExtensions);wt=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._initializeButtons();this._progressBar=this._element.find(".progress-bar");this._errorContainer=this._element.find(".error-container")},t.prototype._initializeButtons=function(){this._acceptButton=this._element.find("#accept-button").bind("click",ut(this,this._acceptApplication));this._denyButton=this._element.find("#deny-button").bind("click",ut(this,this._denyApplication))},t.prototype._disableControls=function(){this._acceptButton.prop("disabled",!0);this._denyButton.prop("disabled",!0)},t.prototype._showProgress=function(){this._progressBar.removeClass("hide")},t.prototype._hideProgress=function(){this._progressBar.addClass("hide")},t.prototype._acceptApplication=function(){this._authorizeApplication(!0)},t.prototype._denyApplication=function(){this._authorizeApplication(!1)},t.prototype._authorizeApplication=function(n){this._disableControls();this._showProgress();var t=n?this._options.tfsContext.getActionUrl("accept","oauth2"):this._options.tfsContext.getActionUrl("deny","oauth2");v.postMSJSON(t,{client_id:this._options.client_id,response_type:this._options.response_type||"",redirect_uri:this._options.redirect_uri||"",scope:this._options.scope||"",state:this._options.state||""},ut(this,this._applicationAuthorizeResponse),ut(this,this._applicationAuthorizeErrorResponse))},t.prototype._applicationAuthorizeResponse=function(n){this._hideProgress();n.error?this._showError(n.error):window.location.href=n.targetLocation},t.prototype._applicationAuthorizeErrorResponse=function(n){this._hideProgress();this._showError(n.message)},t.prototype._showError=function(n){this._errorContainer.text(n).removeClass("hide")},t.enhancementTypeName="tfs.profile.OAuthAuthorizeApplication",t}(h.BaseControl);r.initClassPrototype(wt,{_acceptButton:null,_denyButton:null});r.classExtend(wt,f.TfsContext.ControlExtensions);h.Enhancement.registerEnhancement(wt,".application-authorization");bt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){this._clientSecret=t.clientSecret;n.prototype.initializeOptions.call(this,$.extend({width:500,height:250,minWidth:500,minHeight:250,title:"Client Secret"},t));delete this._options.buttons.ok;this._options.buttons.cancel.text="Close";this._options.buttons.cancel.id="closeBtn"},t.prototype.initialize=function(){var t=$('<textarea style="width:100%; height:100%" />').text(this._clientSecret);this._element.append(t);n.prototype.initialize.call(this)},t._controlType="ClientSecretDialog",t}(a.ConfirmationDialog);t.ClientSecretDialog=bt;r.classExtend(bt,f.TfsContext.ControlExtensions);ni=function(n){function t(){n.apply(this,arguments);this._clientSecret=""}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._clientSecret=this.getElement().find("#clientSecret").text();this._partialClientSecret=this.getElement().find("#partialClientSecret");this._showClientSecret=this.getElement().find("#showClientSecret");var t=this;this._showClientSecret.bind("click",function(){a.show(bt,{clientSecret:t._clientSecret})})},t.enhancementTypeName="tfs.profile.AppInfo",t}(h.BaseControl);r.classExtend(ni,f.TfsContext.ControlExtensions);h.Enhancement.registerEnhancement(ni,".app-info");ti=function(n){function t(t){n.call(this,t);this._controls=[]}return __extends(t,n),t.prototype.initialize=function(){var t;n.prototype.initialize.call(this);t=this.getElement();this._inputForm=t.find("#appInputForm");this._clientId=t.find("#clientId");this._progressBar=new ht(t.find("#progressBar"));this._submitButton=new ht(t.find("#submitButton"));this._cancelButton=new ht(t.find("#cancelButton"));this._providerNameInput=new et(t.find("#providerName"),!0);this._appNameInput=new et(t.find("#appName"),!0);this._descriptionInput=new et(t.find("#description"),!0);this._tosUrlInput=new et(t.find("#tosUrl"),!1);this._privacyUrlInput=new et(t.find("#privacyUrl"),!1);this._providerUrlInput=new et(t.find("#providerUrl"),!1);this._appUrlInput=new et(t.find("#appUrl"),!0);this._appLogoUrlInput=new et(t.find("#appLogoUrl"),!1);this._redirectUrlInput=new et(t.find("#redirectUrl"),!0);this._allowInsecureInput=t.find("#allowInsecure");this._allowInsecureInput.on("change",ut(this,this._handleAllowInsecureCheckboxChanged));this._allowInsecureWarning=t.find("#allowInsecureWarning");this._allowInsecureWarning.prop("hidden",!0);this._scopesInput=new yi(t.find("#scopes-control"),e.parseJsonIsland(t,".options").availableScopes);this._errorTooltip=new li(t);this._errorHighlight=new ci;this._errorContainer=$(".error-container");var i=new fi(/^(https?):\/\/[\w-]+(\.[\w-]+)+(:\d+)?(\/[^?=#\s\"]*)*$/i),r=new fi(/^[^<>\`"";|%\/@\\\]\[]+$/i),u=function(n){return n.length===0||n.toLowerCase().indexOf("https://")===0},f=new kt(u),o=new pi;this._providerNameInput.addValidator(r,p.InvalidName);this._appNameInput.addValidator(r,p.InvalidName);this._descriptionInput.addValidator(r,p.InvalidName);this._tosUrlInput.addValidator(i,p.InvalidUrl);this._privacyUrlInput.addValidator(i,p.InvalidUrl);this._providerUrlInput.addValidator(i,p.InvalidUrl);this._appUrlInput.addValidator(i,p.InvalidUrl);this._appLogoUrlInput.addValidator(i,p.InvalidUrl);this._redirectUrlInput.addValidator(i,p.InvalidUrl);this._appLogoUrlInput.addValidator(f,p.UrlNotSecured);this._scopesInput.addValidator(o,p.RequiredField);this._redirectUrlInput.addValidator(new ai(u,this._allowInsecureInput),p.RedirectUrlNotSecured);this._controls=[];this._controls.push(this._providerNameInput);this._controls.push(this._appNameInput);this._controls.push(this._descriptionInput);this._controls.push(this._providerUrlInput);this._controls.push(this._tosUrlInput);this._controls.push(this._privacyUrlInput);this._appLogoUrlInput.getElement().length>0&&this._controls.push(this._appLogoUrlInput);this._controls.push(this._appUrlInput);this._controls.push(this._redirectUrlInput);this._controls.push(this._scopesInput);this._controls.push(this._submitButton);this._controls.push(this._cancelButton);this._inputForm.bind("submit",null,ut(this,this._onSubmit))},t.prototype._handleAllowInsecureCheckboxChanged=function(){this._allowInsecureInput.prop("checked")?this._allowInsecureWarning.prop("hidden",!1):this._allowInsecureWarning.prop("hidden",!0)},t.prototype._registerInputErrorDisplays=function(){var n=this._errorTooltip,t=this._errorHighlight;ot.register(this._providerNameInput,n,t);ot.register(this._appNameInput,n,t);ot.register(this._descriptionInput,n,t);ot.register(this._tosUrlInput,n,t);ot.register(this._privacyUrlInput,n,t);ot.register(this._providerUrlInput,n,t);ot.register(this._appUrlInput,n,t);ot.register(this._appLogoUrlInput,n,t);ot.register(this._redirectUrlInput,n,t);ot.register(this._scopesInput,n,t)},t.prototype._validate=function(){var n,t,r,i,u;for(this._registerInputErrorDisplays(),t=0;t<this._controls.length;t++)r=this._controls[t],r instanceof et&&(i=r,u=i.validate(),u&&(this._errorHighlight.show(i.getElement()),n||(n=i)));return n?(n.getElement().focus(),!1):!0},t.prototype._onSubmit=function(){return this._validate()?(this._disableControls(),this._hideError(),this._progressBar.show(),v.setAntiForgeryToken(this._inputForm),v.postMSJSON(this._inputForm.attr("action"),{clientId:this._clientId.val(),providerName:this._providerNameInput.val(),providerUrl:this._providerUrlInput.val(),tosUrl:this._tosUrlInput.val(),privacyUrl:this._privacyUrlInput.val(),appName:this._appNameInput.val(),appUrl:this._appUrlInput.val(),description:this._descriptionInput.val(),appLogoUrl:this._appLogoUrlInput.val(),redirectUrl:this._redirectUrlInput.val(),scopes:this._scopesInput.val()},ut(this,this._onSuccess),ut(this,this._onError)),!1):!1},t.prototype._onSuccess=function(n){this._progressBar.hide();n.error?this._onError(n.error):window.location.href=n.redirectUrl},t.prototype._onError=function(n){var t,r,i,u;this._progressBar.hide();t=null;r="";switch(n.type){case"Microsoft.VisualStudio.Services.DelegatedAuthorization.Exceptions.RedirectUriAlreadyExistsException":t=this._redirectUrlInput;r="Redirect URI already exists.";break;case"System.ArgumentException":case"System.ArgumentNullException":if(i=n.message.match(/(.*)Parameter name: (.*)/),i&&i.length>=3){r=i[1];u=i[2];switch(u){case"organizationLocation":case"providerUrl":t=this._providerUrlInput;break;case"registrationTermsOfServiceLocation":case"tosUrl":t=this._tosUrlInput;break;case"registrationPrivacyStatementLocation":case"privacyUrl":t=this._privacyUrlInput;break;case"registrationLogoSecureLocation":case"appLogoUrl":t=this._appLogoUrlInput;break;case"registrationLocation":case"appUrl":t=this._appUrlInput;break;case"redirectUri":case"redirectUris":case"redirectUrl":t=this._redirectUrlInput}}}this._enableControls();t?(this._errorTooltip.show(t.getElement(),r),this._errorHighlight.show(t.getElement()),t.getElement().focus()):this._showError(n.message)},t.prototype._disableControls=function(){for(var n=0;n<this._controls.length;n++)this._controls[n].disable()},t.prototype._enableControls=function(){for(var n=0;n<this._controls.length;n++)this._controls[n].enable()},t.prototype._showError=function(n){this._errorContainer.text(n).removeClass("hide")},t.prototype._hideError=function(){this._errorContainer.addClass("hide")},t.enhancementTypeName="tfs.profile.AppInput",t}(h.BaseControl);r.classExtend(ti,f.TfsContext.ControlExtensions);h.Enhancement.registerEnhancement(ti,".app-input");ii=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initialize=function(){var i=this,t;n.prototype.initialize.call(this);t=this.getElement();this._deleteForm=t.find("#appDeleteForm");this._clientId=t.find("#clientId");this._submitButton=new ht(t.find("#submitButton"));this._deleteForm.bind("submit",null,function(){return a.show(vt,{clientId:i._clientId.val(),appName:t.find("#appName").val(),successCallback:ut(i,i._onSuccess)}),!1})},t.prototype._onSuccess=function(n){window.location.href=n.redirectUrl},t.enhancementTypeName="tfs.profile.AppDelete",t}(h.BaseControl);r.classExtend(ii,f.TfsContext.ControlExtensions);h.Enhancement.registerEnhancement(ii,".app-delete");ri=function(){function n(n,t,i,r){this._imgSrc=n;this._callback=t;this._timeoutCallback=r;this._timeoutTime=i}return n.prototype.start=function(){var n=this;this._img=new Image;this._timer=setTimeout(function(){n.clearTimers();n._timeoutCallback();n._callback()},this._timeoutTime);this._img.onload=this._img.onerror=this._img.onabort=function(){n.clearTimers();n._callback()};this._img.src=this._imgSrc},n.prototype.clearTimers=function(){this._img.onload=this._img.onabort=this._img.onerror=function(){};this._timer&&(clearTimeout(this._timer),this._timer=null)},n}(),function(n){function r(n,i,r){return(r===void 0&&(r=!1),i)?t(n,"_createproject",r):t(n,null,r)}function t(n,t,r){r===void 0&&(r=!1);var f="?",u=n;return t&&(u=u+t,r&&(u=u+"?compact=1",f="&")),u+f+i()}function i(){var n="scenario",t=ft.GetParameterValueByName(n);return t===""?"":n+"="+t}function u(n){var t=new d.TelemetryEventData("Profile","Account",{AccountRedirectionFailed:n});d.publishEvent(t)}n.getAccountUrl=r;n.GetAccountCreationRedirectUrl=t;n.getScenarioQueryParam=i;n.logFailedAccountRedirection=u}(ct=t.ProfileHelper||(t.ProfileHelper={}));r.tfsModuleLoaded("SPS.Profile.Controls",t)});

if (window.performance && window.performance.mark) { window.performance.mark('endLoadBundleInner-view'); }